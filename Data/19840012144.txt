b'OCEAN MODELLJNG\n\nON THE CYBER 205 AT GFDL\n\nMICHAEL\n\nD. COX\n\nGFDL/NOAA\nPRINCETON UNIVERSITY\nPRINCETON,\n\nNEW JERSEY\n\nOcean nodelling\n\non the CYBER 205 at GFDL\nMichael\nD. Cox\n\n1. Introduction\nAt the\n\nGeophysical\n\nthe purpose\n\nof understanding\n\nvariability,\noceans\n\nFluid\n\nvarious\n\npredictability,\n\nare aodelled\nmethods.\n\nart\n\ncomputer\n\natmospheric\n\nstability\n\nsimulation\ndiffers\n\ndiscuss\n\nscale\n\nstudied\n\nthe present\n\noceans\nthe\n\nin some aspects,\n\nout\n\nThe atmosphere\n\nphenomenology\n\nwill\n\nlarge\n\nis carried\n\nfor\n\nsuch as its\n\nand sensitivity.\n\npaper\nof\n\nresearch\n\nof climate,\n\nand their\n\nThe present\n\nmodelling\n\nLaboratory,\naspects\n\nmathematically\n\nsimulation\nin the\n\nDynamics\n\non the\n\nbasic\n\nand\n\nby computer\n\nstate-of-the-\n\nCYBER 205.\n\napproach\n\nWhile\n\nused is\n\nsimilar.\nThe equations\nsection\ntheir\n\nalong\n\nwith\n\nsolution.\n\ntypical\n\nwill\n\nof the\n\n(1969).\n\nof the\n\nfinite\n\nequations\n\ndescription\n3 will\n\nwith\n\nin the\n\nnumerical\n\ntechniques\n\n# the\n\nin section\n\nadvection\n\nand a\n\n4.\n\nhere\n\ndifference\n\nis the multilevel\nequations\n\nformulation\n\nwill\n\nnumerical\n\nare the Navier-Stokes\n\nA detailed\n\nbe given.\n\nmay be found\n\nmodel described\n\nin the\n\nequations\n\nwritten\n\nand X the\n\nlongitude.\n\nIt\n\nis convenient\n\nin\n\ndescription\n\nabove work.\n\nThe\n\nin spherical\n\nand modified\nby the Boussinesq\napproximation.\nLet\n.\nu=aXm-1 and v=as, where a is the radius\nof the earth,\n\nlatitude\n\nused to find\n\nconputational.considerations\n\ncoordinates\nn=sin$,\n\nfollowing\n\nmodel\n\nThe continuous\n\nof motion\n\nbe presented\n\nof the\n\ndeal\n\nbe presented\n\nThe model presented\nBryan\n\nocean model will\n\na short\nSection\n\nsolution\n\n2. Equations\n\nof the\n\nto define\n\nm=sec4,\nthe\n\noperator\nP(X) =ma-l t (uX)x+ (vX.%gl\n\nThe equations\n\nof motion\n\non a sphere\n\n+(wx)r.\n\n(1)\n\nx,\n\n(2)\n\nare\n\nut+r(u)-2Rnv=-.a-1(P/PoQ,+F\n\n27\n\nvt+r(v)+2nnu=\n\n0,\n\n-a-l(P/po)#+F\n\n(3)\n(4)\n\nrVl)=O,\n\n(5)\n\ngP=-P,,\n\nwhere Po is unity\ntemperature\n\nin cgs units.\n\nand salinity\n\nThe conservation\n\nequations\n\nfor\n\nthe\n\nare\nTt+l-YT)=FT\nSt+IYS)=FS\n\nThe terms\n\n(6)\n(7)\n\nin F contain\n\nThe equation\n\neffects\n\nof mixing\n\nas well\n\nas external\n\ndriving\n\nforces.\n\nof state\n\n(8)\n\nP=P(T,S,z)\nis an t:npirically\nsalinity\n\ntemperature,\nThe set\nprognostic\nterns\n\nout\n\nexcept\n\ntimesteps\n\nprescribed\n\nthe\n\nlocal\n\nwind driving\n\nneeded to bring\n\n(l-8)\n\n(2,3,6,7)\n\nmesh covering\n\nthe\n\nare cast\n\ninto\n\nare solved\n\ntime\n\nlocal\n\ndensity\n\nfinite\n\nof seawater\n\nof Eqs.(6,7)\n\nthe sluggish\n\nsurface\nstate\n\nreveals\n\nabyssal\n\nvalue\n\nproblem,\n\nlayers\n\nstate.\n\n28\n\nGiven\nheating\n\nis approached\nthat\n\nhand side\n\ntemperature\n\nthe node1 ocean domain.\nsteady\n\nfor-n.\n\non the right\n\nof velocity,\n\nand differential\n\ndifference\n\nas an initial\n\nderivative\n\nnew values\n\na statistical\n\nanalysis\n\nrelating\n\nto\n\nand depth.\n\nto predict\n\nthe F terms),\nTime scale\n\nformula\n\nof equations\n\nequations\n\nall\n\nof steady\n\nderived\n\nO(1000)\n\nplacing\n\nand carrying\n\nand salinity\n\na certain\n(both\n\non a\n\nconfiguration\n\nentering\n\nasymptotically\nyears\n\nThe\n\nthrough\nin time.\n\nof integration\n\nof the ocean node1 into\n\na steady\n\nis\n\n3. Computational\n\nconsiderations\n\nLet us consider\nN.\n\nAtlantic\n\na rectangular\n\nOcean.\n\n4000 meters\n\nIt\n\nin depth.\n\nenough to resolve\ntransporting\n\nIt\n\nneeded for\n\nthis\n\npurpose\n\nsay .4 degree\n\nglobe.\n\nThis\n\nto lust\n\nresults\n\nis\nin\n\nthrough\n\nroughly\n\nlongitude\n\nl/2\n\nmillion\n\ngrid\n\nthis\n\nwhich play\n\ndegree\n\npoints\n\nfor\n\na mesh fine\nrole\n\nin\n\nThe minimum resolution\n\nin latitude\n\nand somewhat\nof meridians\nThis\n\nof interest.\nbhich\n\nthe\n\nand\n\nspace of 150x195 points.\n\nthe scales\n\nto\n\nan important\n\ndue to the convergence\ngrid\n\nin size\n\ndomain with\n\nthe ocean.\n\n1/3rd\n\nin a horizontal\n\nare needed to resolve\nover\n\nto cover\n\n(O(100 km)) eddies\n\nproperties\n\nlarger,\n18 levels\n\n650 in latitude\n\nis desirable\n\nmesoscale\n\nvarious\n\nnode1 comparable\n\n600 in longitude,\n\nextends\n\nocean basin\n\nEqs.(l-8)\n\non the\nVertically,\n\nbrings\n\nthe total\n\nmust be evaluated\n\neach\n\ntimestep.\nThe longest\ninstability\n\ntimestep\n\nis given\n\nwhich\n\ncan be used without\n\nincurring\n\nby the Courant-Friedrichs-Levy\n\nnumerical\n\ncondition\n\ncAt/Ax<l\nwhere c is the phase velocity\nhigh\n\nspeed external\n\ncondition\n3m/sec.\n\nThe srcallest\n\nconvergence\n\nday computers\nASC,\n\nis\n\ntook\n\nspeed,\n\ncannot\nbeing\n\nin a reasonable\nsite.\n\nobtained\n\nthis\n\nThe former\n\nto compute\n\ntask\n\na\n\nfrom an integration\n\nEven\n\na shorter\n\nstep\n\nof O(10)\n\nyears,\n29\n\nfastest\n\ntime,\n\nreasonable\n\nare\nmodern\n\nalthough\n\non the above model.\na steady\n\nexperiments\n\nThis\n\nperiod,\n\nthe\n\n5\n\nsteady\n\nat GFDL, the Texas Instruments\n\nmust be made in designing\nfor\n\nTherefore,\n\nof Eqs.(l-81,\n\nwould be needed to reach\ntime.\n\nAt is such\n\none year.\n\nstate.\n\nin\n\nthe\n\nhas a speed of roughly\n\nThe resultant\n\nevaluations\n\nconputer\n\none time\n\namount of computer\n\nor integrating\n\npoint\n\nwith\n\nof the model due to\n\nto integrate\n\nmodel to a steady\n\nof computing\n\ncompromises\n\nClearly,\n\ngrid\n\nwall\n\nSince\n\nmodel by the\n\nassociated\n\nwave) which\n\n20 km.\n\nare necessary\n\naccomplish\n\nmade.\n\n15 seconds\n\n2.4 years\n\nthis\n\ngravity\n\nand is about\n\nfrom this\n\nwave is that\n\nat the northern\n\nor 2.5~1012\n\nto integrate\n\nprogress\n\n(internal\n\n5000 timesteps\n\ntimesteps,\n\nrequired\n\nthe fastest\n\nAx occurs\n\nof meridians,\n\nroughly\n\nmillion\n\ngradients\n\nmoving wave in the ocean.\n\nwaves have been filtered\n\nwe0 at the surface,\ndensity\n\nthat\n\nof the fastest\n\ngravity\n\ninternal\n\n(9)\n\nmay\n\nor both.\n\ninvolve\n\nstate\n\nsolution.\n\nwhich are achievable\nreducing\n\n(Interesting\n\nparticularly\n\nAt this\n\nfor\n\nthe\n\nresults\nthe upper\n\ndomain\nnay be\nocean\n\nwhere time\n\nscales\n\ncomputational\n\nof adjustment\n\nspeed which\n\nare relatively\n\ncan be attained,\n\nshort.)\nthe\n\nThe greater\n\nless\n\nsevere\n\nthe\n\nthe compromises\n\nmust\n\nbe.\nIn converting\nalteration\n\nthe ASC ocean model to the CYBER 205,\n\nof the code had to do with\n\nPreviously,\n\nthe computation\n\nthe DO loop\n\nlimits\n\nfunctions\n\nrequirenent\n\nof the\n\n205 for\n\ndimensional\n\nloops\n\nland\n\ntimestep,\n\nrestore\n\nContiguity\nthrough\n\naA\nthe\n\nis then\n\ndimensions.\n\nvectorization\n\nland\n\ndecrease\n\nAn additional\nwhich\n\nis used heavily,\nUsing\n\nproperty.\n\nCDC personnel\ngenerated\n\ntimes\n\nsaving\nbut\n\n08 calls\n\nis\n\nby the\n\ncompiler\n\nfor\n\nThe use of half-precision\na gain\n\nof only\n\nabout\n\nwork is needed to determine\nhigh\n\ndegree\nSince\n\nis cycled\ntransfer\nfor\n\ncannot\n\ndifficulty.\n\nUntil\nwhen in the\n\nlarge\n\nin a\n\ndue to a recursive\ndirectly\n\nimproving\npoint\n\ninto\n\nthe FORTRAN,\n\non the code\n\nvariables\nalthough\n\nspeed,\ngain\n\nto fit\n\nhas resulted\nsections\n\nAdditional\n\n40X.\n\nis so small\n\nin\n\nof the\n\nconsidering\n\nif\n\n205 alone,\n\nthe\n\nthe computer\n\nJobs running\nabout\n\nwall\n30\n\nentirely,\n\ndata\n\nwhile\n\nwas a severe\n\n80% of the\n\nmemory\n\ncomputation\n\nis that\n\nran only\n\ncore\n\nIf\n\nwell,\n\nthe other\nthis\n\ninto\n\nis needed each timestep.\n\nas it\n\nsufficiently\n\nrecently,\n\nabout\n\n(east-west\n\nstartup.\n\nin speed by roughly\n\nI/O schemes have been developed\n\nthe same model runs\n\nabove\n\nFORTRAN loop.\n\nrunning\n\nThe result\n\nparticularly\n\nvector\n\nin an area of the code\n\nlanguage\n\nfloating\n\nincrease\n\nthe typical\n\nin vector\n\ngreatly\n\nis cycled\n\nof the code.\n\nbe buffered\n\nefficiently,\n\nImproved\n\nloop,\n\nmemory from disc\n\nthe I/O to finish.\n\nmodel,\n\nmachine\n\ntwo\n\nit\n\nresulting\n\nunvectorizable\n\nthe equivalent\n\nthe model above is too\nthrough\n\nspent\n\narray.\n\nthrough\n\n150 in the example\n\nwhy the overall\n\nof vectorization\n\na masking\n\ntechnique,\n\ndineneion)\n\ninherently\n\n15% in overall\n\ncode which are 100% vectorized\n\nlatter\n\ntime\n\non all\n\nof the three\n\nmethod of handling\n\nbecause\n\nhas been accomplished\n\nthis\n\nhave "unrolled"\n\nusing\n\nbe vectorized\n\ndepth\n\nto insert\n\ninnermost\n\nis enabled\n\niron\n\nin the relative\n\ntime\n\nvalue\n\nthe\n\nis.increased\n\nthe\n\nwere ocean and, at the end of the\n\ncannot\n\nBy using\n\nto 2700 (east-west\n\nconsiderable\n\nonly\n\nand vectorization\n\ndisc.)\n\nby making\n\nThe contiguity\n\nAn alternative\n\nspecified\n\ndimension\n\nmasses.\n\nocean points\n\nof land.\n\ncase.\n\nthey\n\nto its\n\nin the computation\n\ndimension)\n\nas if\n\nof land\nover\n\nallows\n\nin this\n\npoints\n\n(The third\n\nout only\n\nof the placement\n\nsatisfied\n\nmemory from\n\nlength\n\nwas carried\n\nto vectorize\n\nis to compute\n\nthe treatment\n\nthe most fundamental\n\nceases\n\nby CDC personnel\ntime\n\nwaiting\n\nhave the same\n\non the 205.\n\n15X of the wall\n\nclock\n\ndisc\n\nmay not be used\n\nconcurrently\n\nproblem\n\nthis\n\nclock\n\nThe above\ntime.\n\nat GFDL and currently\n\nwhen alone.\n\nThis\n\ncompares\n\nfavorably\n\nwith\n\nI/O efficiencies\n\nThe CYBER 205 version\nseconds\nWhile\n\nthis\n\nspeed still\n\nsection\n\nattainable\n\nIf\n\nin the following\n\none wishes\n\nStream,\n\nintegration\n\na total\n\nnorthwest\n\nresolution\n\nStream\n\nis revealed\n\nand slope\n\ndepth,\n\nThree other\ntopography\nbehavior\n\nalong\n\nbe decreased\n\nfrom\n\nfeatures\n\nincluded\n\nrepresenting\n\nwind stress\n\n1.\n\nsolution.\n\nand warm core\n\n7OOW, 300N and of the\n\nalong\n\ninte-\n\nto\n\n"rings"\n\nfrom\n\nat the second\n\nThe land mass in the\neast\n\ncoast.\n\nthe coast\n\nIn agreement\n\nA contiGulf\n\nand bending\nwith\n\nwhich have broken\nof the forner\n\nis\n\nat 68OW, 370N.\n\nexperiments\n\nhave been carried\n\nout\n\nin this\n\nthe western\n\nboundary\n\nits\n\neffect\n\nof the Gulf\n\nto 5 layers.\n\nThe simulated\n\nAn example\n\nlatter\n\nthis\n\nand differential\n\npattern\n\nisotherms\n\nwestward.\n\nfor\n\nmodel has been integrated\n\nCape Hatteras.\n\nboth cold\n\n18 layers\n\nof the U.S.\n\nin this\n\npacked\n\nAlso,\n\none hour of 205 time\n\nsurface\n\na\n\nthe domain from 65 to 27\n\nis shown in Fig.\n\nthe gross\n\nexist\n\nseveral\n\nin longitude.\n\napproximately\n\nby the tightly\n\nthere\n\nat about\n\nus reduce\n\ntemperature\n\nthe Stream and are drifting\n\ncentered\n\ndecades of\n\nThe resulting\n\nis also\n\nout to sea at the point\nfrom\n\nto consider\n\nthis\n\nsimulates\n\nshelf\n\nlet\n\nApplying\n\nat 212 meters\n\nnental\n\nobservations,\n\ntakes\n\nof the\n\nand that\n\nearlier,\n\nmay\n\non the dynamics\n\nis not necessary\n\nof the N. Atlantic,\n\nof 20 years.\n\ncorner\n\nit\n\nand from 60 to 32 degrees\n\nto that\n\ncentered\n\nat the beginning\n\nare necessary to produce an\nOne such experiment\nwill\nthan before.\n\nof topography\n\nTherefore,\n\nof ocean time.\n\nsimilar\n\nproposed\n\nthe ASC.\n\nwhich\n\ncan be made,that\n\na model which\n\none year\n\nlayer,\n\nthe effects\n\nas the one proposed\n\nthe vertical\n\nproduces\n\nheating\nrest\n\nto study\n\nin latitude\n\npurpose,\n\nsevere\n\nthan\n\n4\n\nsection.\n\nis sufficient.\n\ndegrees\n\nof 4 faster\n\ntakes\n\nexperiment\n\nan argument\n\ndomain as large\n\na factor\n\nthe compromises\n\nare much less\n\n4. An ocean simulation\n\ngrate\n\nalmost\n\nabove currently\n\ndoes not make the experiment\n\nfeasible,\n\nsolution\n\nbe described\n\nThis\n\nof the model described\n\nto compute one timestep,\n\nof this\n\nGulf\n\non the ASC.\n\nto study\n\nseries,\n\naltering\n\non the path\n\nthe\n\nand\n\nStream.\n\nReferences\nBryan,\n\nK.,\n\n1969 A numerical\nWorld\n\nOcean.\n\nmethod for\n\nthe study\n\nJ. Comput.\n31\n\nPhys.,\n\nof the circulation\n4_, 347-376.\n\nof the\n\nI\n\n.\n\n\xe2\x80\x98k-l/(\n\n(I)\n\n) )\n\n20\xe2\x80\x9dN\n8O\xe2\x80\x9dW\nFig.\n\n6O\xe2\x80\x9dW\n1 Temperature\n\nat 212 meters\n\n32\n\ndepth.\n\nThe contour\n\ninterval\n\nis 1OC.\n\n'