b'September and October 1980\n\nTDA Progress Report 42-60\n\nDSS Command Software Update\nW. G.\n\nStinnett\n\nDSN Data Systems Section\n\nA new version of the DSS Command Software has been generated for support of the\nVoyager Saturn encounter. The modifications, additions, and testing results for this\nversion of the software are discussed in this article.\n\nI. Background\nThe Deep Space Station (DSS) Command Software was\ninitially implemented in late 1976 when new computers were\nimplemented at DSS 12. Modcomp 11-25 minicomputers were\nimplemented at the stations throughout the Deep Space Network over a period of time from late 1976 through early 1978.\nNew computers were implemented for the command, telemetry, tracking, and ground communication functions as part of\nthe Mark III Data Subsystem (MDS) implementation project.\nPrior to implementation of the new command computers at\nthe DSS, the command data handling function was accomplished in an XDS-920 computer which was shared with the\ntelemetry processing function. This computer system was\ndesignated the Telemetry and Command Processor (TCP).\nWith the implementation of the new Modcomp 11-25 computers, and the separation of the telemetry and command\nprocessing functions, the DSS command computer has been\ndesignated the Command Processor Assembly (CPA). The\ninitial implementation of the CPA software was constrained to\nvery much resemble what existed for the TCP. Due to the\nstation-by-station implementation of the CPA, which occurred\nover approximately one and one-half years, the command data\nhandling characteristics and the interface with flight projects\nremained the same for the CPA as had existed for the TCP.\n132\n\nTherefore, the initial implementation of the software for the\nCPA included basically the same functional characteristics as\nthe TCP. Support for the following flight projects was provided: Pioneer 6 through 9, Pioneer 10 and 11, Helios 1 and 2,\nViking, Pioneer Venus, and Voyager. The software that supported these projects, and was initially implemented in the\nCPA, was designated Mark III-74. The data processing characteristics were defined and used to support flight project\ncommanding in 1976.\n\nIn 1976 and 1977, through negotiations between the Mission Control and Computing Center (MCCC), JPL Flight Project representatives, and DSN personnel, a new end\xc2\xb7 to-end\ncommand data handling system was defined. The command\ndata handling system was termed "store-and-forward". This\nsystem took advantage of the increased processing and storage\ncapabilities of the new DSN CPA, and better suited the characteristics of the flight project command generation functions\nand spacecraft data handling and storage capabilities. In this\nstore-and-forward system, each major element of the system\nhas data handling capabilities for complete sets of spacecraft\ncommand information. The flight project command generation\nsoftware generates files of spacecraft commands to accomplish\nparticular mission objectives. The files are then passed to the\n\nMCCC Command System where they are stored for later\ntransmission to the DSN. Once a Deep Space Station (DSS)\nhas been scheduled, staffed, and initialized for the spacecraft\ntrack, the files of command information are transmitted in\ntotal to the DSS CPA where they are stored for later radiation\nto the spacecraft. When the uplink to the spacecraft has been\nestablished, the Flight Project Command Operator sends control messages to the DSS CPA to begin radiation of the\ncommand information. The files of command information are\nstored onboard the spacecraft for later automatic execution.\nThis store-and-forward system was implemented in 1978 in the\nDSS CPA (as well as MCCC and Project Command Generation\nSoftware) and was designated Mark III-78.\nThe Voyager Project was the initial user of the Mark III-78\nsystem. In late 1978, capabilities were developed at the German Mission Operations Center to interface with this new data\nhandling system. The Pioneer and Viking missions continue to\nuse the Mark III-74 data handling system but plans exist to\nconvert the Mark III-78 system at a later date.\n\nII. CPA Software Update Requirements\nAs with any new significant software package, requirements\nchange with time and anomalies are uncovered during use of\nthe new capabilities. In 1979, it was recognized that modifications and additions would be required for the Mark III-78 CPA\nsoftware. A new version (OP-G) was scheduled such that it\nwould be available for the Voyager 1, Saturn Encounter.\nEffort began in mid 1979 for this new version of CPA\nsoftware. The scope of the software update involved four\nareas:\n\n(l) Recode portions of the software to permit recovery of\napproximately 2000 words of memory. This was necessary to accomplish items (2) through (4).\n(2) Correct five Voyager Ground Data System liens.\n(3) Provide capability to automatically turn off the CPA\nlocal printer during periods oflow activity.\n\nNumerous software routines were also modified to become\nmore efficient and thus recover core memory.\n\nB. Voyager Liens\nDuring the time period of use of the Mark III-78 command\nsystem, the Voyager Project identified anomalies and new\nrequirements that they desired to be fixed prior to the Saturn\nencounter. The items were listed as Voyager Ground Data\nSystem liens. The liens were (see Progress Report 42-43 for\ndescription of CPA data processing capabilities):\n(1) Under certain conditions the CPA would report erroneous status of the prime (first) file.\n(2) Under certain conditions the CPA would report an\nerroneous file name for skipped command elements.\n(3) Under certain conditions the CPA would generate false\nexpired time alarms.\n(4) If the project sent a control message to empty the\ncommand queue, and the queue was already empty,\nCPA software execution would halt.\n(5) The Voyager Project desired a modification to change\nthe algorithm for resuming file radiation, i.e., if a\nresume directive is received by the CPA, the CPA\nshould not resume radiation unless all timing considerations were satisfied.\n\nC. Automatic Turn-Off of Local Printer\nEach DSS command subsystem has been implemented with\na local character printer for use during software loading and\ninitialization, and as a logging device during operations. These\nprinters have been installed as peripheral devices for all Modcomp 11-25 computers implemented in the DSN. These printers have run continuously during program operation regardless\nof the need for printing. With this continual running, the DSN\nhas experienced a significant failure rate for these printers. In\norder to alleviate this problem, the Modcomp Operating System has been modified to turn-off these printers when not in\nuse. This version of the operating system was incorporated in\nthe new CPA software version.\n\n(4) Correct anomalies existing in the software.\n\nD. Anomaly Correction\nA. Software Recode\nIn order to recover the necessary core memory to implement the modifications and additions required, basically two\nareas were changed in the CPA software. The application\nsoftware was changed to "fool" the operating system such that\nmore efficient "packing" of the command applications task\ncould be accomplished within the available core memory.\n\nAt the start of implementation of the new version of CPA\nsoftware, there were thirty-one anomalies open against the\nCPA software. Some of the anomalies were directly associated\nwith the Voyager liens (see paragraph B above), while others\nwere visible to on-site personnel or by use of the System\nPerformance Test (SPT) software. Much of the effort during\nthis software upgrade involved correction of these anomalies.\n133\n\nIII. CPA Software Update-Test Results\nThe Acceptance Test for this new version of CPA software\nwas successfully completed in late January 1980. As previously stated, this version of the CPA software was implemented with the following scope:\n\n(l) Recode portions of the existing software to permit the\nrecovery of approximately 2000 words of memory.\n(2) Correct the five GDS command system liens.\n(3) Accommodate the updated Standard Operating System\nwhich contains provision for the turning off of the\nlocal printer during periods of minimal I/O activity.\n(4) Correct DSN anomalies.\n\nUnde\'r the above conditions, the CPA software is not sending the acknowledge messages for the directives."\nThe software was modified to correct the anomaly. For\nevery block received by the CPA, a check is made to determine\nif any acknowledge is pending. If any acknowledge is pending,\nthe software will immediately acknowledge (Le., the delays in\nthe software for acknowledgement will be byp.assed).\nThe acceptance tests were successfully re-run at CTA-21.\nSystem Performance Test (SPT) software was modified to test\nthe CPA software for this anomaly. In addition, a test was run\nwith MCCC (and Voyager personnel) to demonstrate correction of the anomaly.\n\nItem 2 was accomplished and was successfully testing during the acceptance test. In addition, a test was run in early\nFebruary with the Voyager Ground Data System personnel\nwhich demonstrated clearance of these liens (test between\nCTA-21 and MCCC).\n\nThe second Software Consent to Ship meeting was held in\nearly March 1980. It was agreed that the software was ready to\nbe shipped to the Goldstone stations and CTA-21. After\nsuccessful completion of the soak period at the Goldstone\nstations, the new version of the CPA software was distributed\nto all DSN stations. The Voyager Ground Data System\nAround-the-Net testing was completed in early May 1980 and\nthe software was placed "on-line".\n\nItem 3 was accomplished and successfully demonstrated\nduring the acceptance test.\n\nIV. CPA Software-Future Plans\n\nItem 1 was accomplished in this upgrade.\n\nItem 4 was accomplished with one anomaly exception. The\nsummary of anomaly status at time of acceptance test completion is given below.\n(1) Anomalies corrected and tested ................ 26\n(2) Anomalies not repeatable ....................\n\n3\n\n(3) Anomalies closed by document modification\n\n2\n\n(4) Anomalies open were carried as liens on\ntransfer agreement .........................\n\n5\n\nThe Software Consent to Ship meeting was held on 31 January 1980. It was agreed that the software was ready to be\nshipped for the soak period. The software was shipped to\nGoldstone on 1 February 1980.\nDuring the Voyager Ground Data System tests at Goldstone, prior to going on-line for probationary use, a Class A\nanomaly was discovered. The anomaly description was:\n"During the process of loading command files to the CPA\ndisk, MCCC automatically issues directory recall messages\nto the CPA. In addition, other directive messages are sent to\nthe CPA during file loading. The loading is not halted\nduring the sending of these directives (Le., the MCCC does\nnot wait for an acknowledge prior to continuing the load).\n\n134\n\nThe new version of the CPA software has been on-line for a\nnumber of mont~s and has not experienced any problems that\nwill require a software update. However, new requirements are\nbeing developed that will require changes to the software. Two\nversions of the Mark III-78 Command System will be required\nin the future.\n\n(l) The existing version of the software will require modification to support the Pioneer 10, n, and 12, Galileo,\nand the International Solar Polar Missions.\n(2) A major modification to the software will be required\nto support the Mark IV DSN. The Mark IV DSN\nincludes consolidation of STDN and DSN ground tracking stations which will result in requirements on the\nDSN to track the Highly Elliptical Earth Orbiter Spacecrafts (HEED). The HEED space crafts will require a\nsignificant increase in command bit rate (2000 bps)\nwhich will require replacement of the existing Command Modulator Assembly (CMA). This new CMA will\nrequire significant changes in the CPA software.\nThe two future versions of software will require development on an almost concurrent schedule. This will provide an\nextremely difficult challenge to the DSN implementation\norganization over the next few years.\n\n'