b'Source of Acquisition\nNASA Washington, D.C .\n\n1111llIll111U111111 111lllII 1 1 11\nl111 l 1l 1lI U\nll l\nI\nl\n1\nUS0071 16568B1\n\n4,578,630 A\n4,709,323 A\n5,208,140 A\n5,307,004 A\n5,559,684 A\n5,563,115 A *\n5,623,398 A\n5,949,224 A\n5,994,882A\n5,998,911A\n6,014,326 A *\n6,215,016 B1\n6,348,781 B1\n6,388,904 B1*\n6,469,416 B1\n6,781.853 B1\n6,992,902 B1*\n\nREGULATOR\nInventor: Arthur 6. Birchenough, Brook Park,\nOH (VS)\nAssignee: The United States of America as\nrepresented by the Administrator of\nthe National Aeronautics and Space\nAdministration, Washington, DC (US)\nNotice:\n\nSubject to any disclaimer, the term of this\npatent is extended or adjusted under 35\nU.S.C. 154(b) by 0 days.\n\nAppl. No.: 11/188,962\n\nJul. 25,2005\n\nFiled\n\n311986 Grosch\n1111987 Lien\n511993 Ehsani\n411994 carsten\n9119% Ohms e al.\nt\n1011996 Kammiller\n363117\n411997 Beachetal.\n911999 Barkam\n1111999 Ma\n1211999 wsueial.\n............\n363/132\n1/2000 Koch .............\ntu2001 Ivanov\n212002 Midya e al.\nt\n512002 Nomura\n331\n611\n1012002 Barrettetal.\ntu2004 Xu et a. ................. 363/21.06\nl\nt\n363111\n1 2 0 Jang e al.\n106\n\n...................\n\n............\n\n..........\n\nRelated U.S. Application Data\nDivision of application No. 101629,875, filed on Jul.\n28,2003.\n\n* cited by examiner\nPrimary Examiner--Matthew V Nguyen\n.\n(74) Attorney, Agent, or Firm-John P. Murtaugh; Robert E\nBo&; K n N. Stone\net\n\nInt. c1.\nHO2M 7/5387\n(2006.01)\nHO2M 3/335\n(2006.01)\nWSF 1/40\n(2006.01)\nHOlF 17/00\n(2006.01)\nU.S. C .........................\nL\n3631132; 363/17; 3231271\nField of Classification Search .................. 363/16,\n363117,56.01,56.02,97,98, 131, 132; 3231266,\n3231268,270,271,273,275,279,282,285\nSee application file for complete search history.\n\nABSTRACT\n\n(57)\n\nA Series Connected Buck-Boost Regulator (SCBBR) that\nswitches only a fraction of the input power, resulting in\nrelatively high efficiencies. The SCBBR has multiple operating modes includinga buck, a boost, and a current limiting\nmode, so that an output voltage of t e SCBBR ranges from\nh\nbelow the source voltage to above the source voltage.\n\nReferences Cited\n\nU.S. PATENT DOCUMENTS\n3,582,765 A\n\n6 Claims, 5 Drawing Sheets\n\n6/1971 McCabe\n\nINPUT\nBUS\n\nI\nI\n\n1\nI\nI\nI\n\nQ5\n\ni\n\nI\nI\n\nI\nI\nI\n\nI\n\n1\n1\n\nI\n\nI\n\nC IiI, PDF - www .fa sti o.co m\n\nQ7\n\ni\n\nT\nINPUT\nBUS\nI\n1\n1\n\nQ5\n\n1\n\nI\n\nI\nI\n\nI\nI\n\nI\nI\n\nI\nI\n\nQ7\n\ni\n\nI\n\n\'\nG\nN\nD\n\n+\n\nI\nI\n\nI\nI\nI\n\n20\n\nfD\n\n-+-T--1\n,\n\nf\n\n"GND\n\n>LOAD\n\nBUS\n\n\'OUT\n\nFIG. 1\n\nF i ~ a 2\n\nC I iI) P DF - www .fastio .coni\n\n"OUT\n\nt\n\n4\n\nIN\n\nOUT\n\n/1\n\nI\n\nDC-DC CONVERTER\n\nT\n\nD7\n\nI\n,\n\n=GND\n\n\\\n70\'\n\nY\n\n1\n\n2\'\n0\n\nvOUT\n\nC I ibP D F - ww w. f asti 0.\nconi\n\neet\n\nc\n\nT\n\nD3\n\n8\nI\n\nI\n\nI\n\nf\n20"\n>I\n-\n\nFIG.^\nClibPDF - www.fastio.com\n\n*OUT\n\n7\n\n"IN\n\nPWM\nCOMMANDS\nTO POWER\nSWITCHES\n(31-96\n\nQ9\n\nON /OFF\n\nClibPDF - www.fastio.com\n\n12\n\n- 180\n\n10\n\n- 150\n\n8\n\n120\n\na6\nE\n\nso\n\n4\n\n60\n\nU\n\nd\n\n(into output filter)\n30\n\n2\n\n0\n\n0\n\n80\n\n240\n\n160\n\nMilliseconds\n\nFIG. 9\n\nC I iI) PDF - www .fast io .co m\n\n320\n\n400\n\n22\n\np\n\nThis application is a divisional application of U.S. patent\napplication Ser. No. 10/629,875,filed Jul. 28, 2003.\nORIGIN OF THE MVENTION\n\n5\n\nor boost the input to the d e s i i output voltage, can significantly reduce the converter size and power loss.\nFor applications where output voltages equal to, or lower\nan input voltage me &&&le, a buck convezter is\nappropriate. However, it is W i l e to have a converter\ndesign which provides a wide range of output voltages, both\ngreater than,and lesser than,the input voltage. Further, high\nefficiency would be quite beneficial in such a design. The\nresultingbuck-boost converterwould thereby be quite useful\nin a wide variety of applications, including orbital or interplanetary applications.\n\nThe invention d e s m i herein Was made by an empb\'ee\nof the United States Government and may be manufactured 10\nand used by or for the Government for Government purposes without the payment of any royalties thereon or\ntherefor.\nSUMMARY OF THE INVENTION\nThis application relates generally to DC-to-DC converterslregulafOrs. More SWificallY, this application d a t e s t a 1s\no\nis a series\nb&,\nu&&\nregulator\nSeries ConnectedBuck-Boost Regulator (SCBBR) that only\na controlcincuit; a\nfor\nswitches a fraction of the input power, with the regulator\nto a source voltage; and an output circuit corned to the\nhaving multiple operatingn&\nr3\nC\nincluding a buck, a boost,\nand for outputting a load voltage. The\nswitching\nand a current limiting mode.\ncontrol circuit controls the output circuit and the input\n20 circuit for operating the regulator in a plurality modes\nBACKGROUND OF THE INVENTION\nincluding a current limiting (CL) mode, a buck mode; and\na boost mode. Further, only a fraction of an output power of\nImprovements in the &ciencY and size of G D C\nthe regulator is switchedby the switching circuit m g one\nconverters andlor regulators have resulted from advances in\nor both of the buck and the boos. modes.\nand\ncomponenB, Primarily semicon~ctors~\n25\nFurther provi&d is a series connected buck-boost regutopologies. To a lesser extent, improvements in passive\nlator which has a control cirmit and a transformer\nhaving a\ncomponents, topologies, and soft switching schemes have\nprimary winding and a\nsecondary winding,\nalso provided benefits. This is eventrue for linearregulators,\nwherein the center tap of the secondary\nwinding is for\nwhere higher temperature components have reduced size\nconnectins to a souTcevoltage.\nand weight, and lower dropout voltage semiconductors and 30\nThe regulator also has a switching circuit controlled by\ndrive techniques have reduced the power loss.\nthe control circuit and for pulse-width-modulating the\nOne topology which has shown very high potential in\nsource voltage for inputting into the primary winding, with\nlimited applications is the Series Connected Boost Unit\nthe switching circuit including four pwM switches con(scBu),\na\nDc-DC converter O r n u t k\nnected in a bri+e configuration\nwith the primarywin&g\nConnected in Series With the input bus to provide an output 35 comected to a center ofthe bridge. Each p m switch has\nvoltage equal to, or greater than,the input voltage. Because\na diode connected in\nonly a firaction of the power throughput is switched by the\nThe regulator also has an output circuit controlled by the\nDGDC converter, the overall system\nis very\ncontrol circuit and connected to the secondary winding for\nhi&, But thistechnique is limited to applications\nit is\ns ~ c i e nthat the output voltage is never less than the input 40 Output% a load Voltage, with the 0 ~ r P u t c i r dhaving two\nt\nt\npairs of two series COM&&\noutput switches connected in\nvoltage.\nIn the typical boost\nthe low\nourput of a\nParallel.Again,\nOutput switch\nhas a\nconnected in parallel.\nsmall DC-DC converter is connected in series with the\nhaving a\nStill fiuther Provided is the above\ninput voltage. The oaput voltage can then adjusted from\nessentially equal to the input voltage up to the input voltage 45 first transformer diode connected to a terminal of *e setplus the maximum output voltage of the DC-DC converter.\na second\ndiode coMected a\nanother terminal Of t e\nh\nand a transFor example, a regulator for a 100 volt 1 kw bus could be\nvolt\nformer shorting switch connected to the center tap of the\ncommcd\nwith a DGM= converter\na\nand\nconnected to the first and the second\nnominal input, and a 0 to 10 volt output and a 100 watt, 10\n\'Odes for shortingthe seco*\nOn\namp, rating. The configuration would allow regulating the 50\ncircuit*\noutput to up to 10%higher than the input, and yet only use\nfkomthe\nswitching and filtering components sized for 10% of the\nEven further Provided is the above m a t o r , Wh\nthe\nsize and\nPWM switches include a fkst switch, a second switch, a\ntotal rating, and it &=fore offersgreatly\npower loss. The technique is very useful in situations where\nthird switch, and a fourth switch, and further wherein the\nai\nthe input/output voltage r t o is relatively small, the output 5s output switches include a fifth switch, a sixth switch a\nand an eighth switch.\nis always greater than the input, and isolation between the\nseventh\nDuring the boost mode, the control circuit of the above\ninput and output is not required.\nregulator is operated to continuouslyturn on the fifth switch\nc h g e from\nto switching regulators was\nand the Sixth switch, and c o n t i ~ O ~ lt r Off the\nYn\nu\nrevolutionary, and the power loss and therefore ,size of\nmh&\nregulators made a large step decrease. Since then the single 60 fxmer\nAlso during the boost mode, the control circuit of the\nmost significant panmeter determining converterefficiency\nand size, for a given kquency, has been the kva rating.The\nregulator cycles thmugha plurality of boost states including:\nsize of components to switch, transform, and filter is relaa first boost state wherein the first, fourth, and seventh\ntively independent of the topology, as the same amount of\nswitches are on and further wherein the second, t i d and\nhr,\npower is switched, rectified, and stored in filtercomponents. 65 eighth switches are off; a second boost state wherein the\nThe technique of partial power processing, wherein only a\nseventh and eighth switches are on, and further wherein the\nfirst, second,third, and fourth switches are off; and a third\nsmall fraction of the total output power is required to buck\n\now\n\nCI i 13 PDF - www.f ast i 0.corn\n\nwe;\n\nboost state wherein the\nthird and eighth switches are\non and furtherwherein the first, fourth, and seventh switches\nare o f\nf.\nDuring the buck mode, the control circuit of the regulator\ncantinuously turns on the seventh switch and the eighth 5 voltage ratios, and it can also operate as a boost converterto\nswitch, and continuously tums off thk transformer shorting\nboost the output voltage above the input voltage. This\nswitch.\ndisclosure describes the operation and performance of an\nAlso during the buck mode, the control circuit cycles\nexample SCBBR configured as a bus voltage regulator\nthrougha plurality of buck states including: a first buck s a e\ntt\npmviding d 0% voltage regulation range, bus switching,\nt\no\nwherein the fir&, fourth, and sixth switches are on and 10 and overload limiting, operating a up t ,or even over, 98%\nefficiency.\nfurtherwherein the second, third,and fifth switches are off;\nh\nThe series connected buck-boost technique expands t e\nh\na second buck state wherein t e fifth and sixth switches are\non, and M e r wherein the fist, second, third, and fourth\narray of applications considerably by also allowing the\nswitches are off; and a t i d buck state wherein the second,\nhr\noutput to be lower than the input. This allows essentially\nt i d and fifth switches are on, and further wherein the first, IS twice the regulation range for a given size converter as\nhr,\nfourth, and sixth switches are off.\ncompared to either a buck or a boost converter, standing\nDuring the current limitingmode, the control circuitof t e\nh\nalone. A circuit enhancement allows operation of the same\nregulator continuously turnsoff t e first, second, third,and\nh\nconverter in a more conventional buck mode, so t a the\nht\noutput can be regulated down to zero volts, if desired,\nfourth switches, and continuously turns on the transformer\nshorting switch.\n20 allowing operation as a current limiting voltage regulation\nA s during the current limiting mode, the controi circuit\nlo\nremote power controller (E). only major restriction\nThe\non the use of this device is ta it does not typically offer\nht\ncycles through a plurality of CL states including: a first CL\ninpdoutput isolation in its normal application.\nstate wherein the ~IW, sixth, seventh, and eighth switches\nare on; and a second CL state wherein the fifth, sixth,\nNote that in the description and accompanying figures,\nseventh, and eighth switches are off.\n25 only the primary componentsof the various embodiments of\nAnd further provided is the above regulator further comthe SCBBR circuit are listed and/or shown. Peripheral\nprising: a freewheelingdiode connected between the output\ncomponents (such as filters, power supplies, and biasing\ncircuits, for example) are not shown, but are well known in\ncircuit and a ground; and an inductor for connecting the\noutput circuit to a load.\nthe art.\nFurther, the control circuit of the above regulator can also 30 FIG. 1is a schematic showing the primary components of\ncontrol a duty cycle of the pulse-width-modulation of the\nthe SCBBR circuit. The switching circuit 10 includes four\nsource voltageand also drives the output circuit such that the\nswitches, Q1-Q4. Four diodes DI-D4 are also utilized in the\nswitching circuit 10 as shownin FIG. 1such that each switch\noutput voltage can be varied in a range from a minimum\nvoltage to a maximum voltage\nQ,, has a diode Dn in parallel (where \xe2\x80\x9cn\xe2\x80\x9d ranges from 14.\n-)\nvoltage less than the sogreater than t e source voltage.\nh\n35 The switching circuit 10 connects to a primary Tp of a\ntransformer T, as also shown in FIG. 1 The source voltage\n.\nStill hither, the above regulator can also have some\nsubstantial fractionof the power input by the source voltage\nV,\xe2\x80\x9dis also connected to the switchingCircuit 10 as shown in\nh\nthe figure.\nnot be pulse-width-modulated by t e switching circuit during one or both of the modes.\nThe switching circuit 10 is used to pulse-width-modulate\n40 (PWMJ the input voltage V , for input into the primary\n,,\nBRIEF DESCRIPTION OF THE DRAWINGS\nwinding Tp of the transformer T. This PWM function of the\nswitching circuit 10 is controlled by a control circuit 30\nFIG. 1is a schematic diagram of one embodiment of the\n(discussed below and shown in FIG. 8) which controls,\ninvention;\namong other things, the action of the switches Q, The\n,.\nFIG. 2 is a schematic diagram of another embodiment of 45 control circuit 30 further controls a duty cycle of the PWM\nthe invention;\n(i.e., the lengthof time the switches stay on/of\xe2\x82\xac).In this way,\nFIG. 3 is a block diagram showing the boost mode\nthe input voltage V , is converted into a PWM voltage input\n,,\nconcept applied to a DC-to-DC converter;\ninto the primary Tp for conversionby the transfomer T into\nFIG. 4 is an effective schematic showing the implemena secondary voltage in the secondary winding T,. (note that,\ntation of t e boost mode concept of FIG. 3;\nh\nso under some operating modes--e.g., the buck mode disFIG. 5 is a block diagram showing the boost mode\ncussed b e l o w a e primary Tp acts as a secondary, whereas\nconcept applied to a DC-to-DC converter;\nthe secondary winding T, acts as a primary).\nFIG. 6 is an effective schematic showing the implemenAn output circuit 20 is also shown in FIG. 1.A secondary\ntation of the buck mode concept of FIG. 5;\nvoltage is generated in the secondary winding T, of t e\nh\nFIG. 7 is an effective schematic showing the implemen- 5s transformer T by the PWM of V , by the input circuit 10.\n,,\ntation of the current limiting mode concept\nThis secondary voltage is input into the output circuit 20 by\nFIG. 8 is a schematic diagram showingthe control circuit\nthe connectionsas shown in the figure. The input voltage V\n,\nof still another embodiment of the invention;\nis also input into a center tap of the secondary winding T, of\nFIG. 9 is a graphical plot of the output voltage and current\nthe transformerT, thus allowingsome input power to bypass\ncurves of a protoiype implementationof the invention using 60 the switching circuit 10, and thereby increasing the overall\nefficiency of the SCBBR.\nclosed loop regulation.\nThe output circuit 20 has four switches, Qs-Q,,,. Four\nDETATLED DESCRIPTION OF THE\ndiodes D5-D8 are also utilized in the output circuit 20 as\nPREFERRED EMBODIMENTS\nshown in FIG. 1such that each switch Q has a diode D,\n,\n65 in parallel (where \xe2\x80\x9cm\xe2\x80\x9d ranges from 5-8). The switches\nof the output circuit are also controlledby the control circuit\nThe Series Connected Buck-Boost Regulator (SCBBR)\n30 (as discussed below). A freewheeling diode D which\nr\nconcept extends partial power processing technique used in\n\nC IiI3 P D F - ww w .f a s ti 0.\ncorn\n\nus 4,l\ntypically operates as an uncontrolled switch, and an inductor\nby the D C D C convertm. The operation is similar to\nL arealso used in the output circuit 20 as shown in the figure.\nplacing a battery in serieswt the input bus, in one direction\nih\nIn this manner the output circuit outputs a load voltage V\n,\n.\n(similar to as shown by FIG. 3) it increases (boosts) the\nFIG. 2 shows the circuit of FIG. 1 with additional comoutput voltage. When it is connected \xe2\x80\x9cbackwards\xe2\x80\x9d (similar\nponents to provide additional functionality to the SCBBR. 5 to as shown by FIG. 5) it decreases (bucks) the output\nSwitchQ and diodes D9and D,, are added as shown in the\nvoltage. In the boost case, the battery would be discharged\nas would be expected, but in the buck case the battery would\nfigureto enable the current limiting mode describedin more\ndetail below. The switch Q will also typically be controlled\nbe charged (and eventually overcharged). The use of a\nDC-DC converter allows a continuous process.\nby the control circuit 30.\noe\nPreferably, all of the switches will be implemented using 10 N t that the SCBBR, the h p t and output voltaga are\nsemiconductorswitches, such as FETs, for example. Other\nalways positive and that the SCBBR input and output\ncurrents are alwqs positive. However, in tern of the\nsemiconductorswitches may also be used,as the application\nrequires. High efficiency and low power consumption of the\nDC-DC converter within the SCBBR, the voltage on the\nswitches are desirable characteristics. Other types of\ninput bus side is always positive and t e current hthe output\nh\nswitches having low power consumptionand high efficiency 1s bus side is always positive, but the current it the input bus\nno\ncycle canalso\nside of the DC-DC converter itself is positive in the boost\ntraits that\noperate at the desired\nmode and negative in the buck mode, and t e voltage at the\nh\nbe Used.\noutput bus side of the DC--DC converter itself will be\nThe operation ofthe circuit is described be&by separating\nwv&afly,\npositive for the boost mode and negative for the buck mode.\nthe modes of operation and &&big\n20\nThe effectiveschematic for buck mode operation is shown\nhereinbelow:\nin FIG. 6 (Which does not show the switches andlor diodes\nA\nofthe power flow in the boost mode is shown\nin the block diagram of F G 3. In the boost mode, the output\nI.\nthat are always wnductiW3 a d h always Oft). W Y Of the\ncomponeats used for the boost converter are used for\nof a low voltage converter is a m in series with the input\nthe buck converter, although in different roles. The centervoltage to provide an output voltage equal to or greater than\nN\nthe input. nus, power from the converter is added to the 25 ~ P side ofthe t r m f o m a T,, which was the s-ndaty\nin the boost mode acts as a primary (whereas the primary Tp\noutput to increase the voltage.\nThe SCBBR boost implementation described as an\nacts a s m n d a t y in\nmode). The rectifier dkd% ofthe\nboost converter are replaced by Switches. (n the\nI\nexample uses a full-bridge input stage and a center tapped\ntransformer-rectifia output stage as shown in the effective applicationthe buck mode switches are placed in s e r k with\n,\nschemtic of FIG. 4 (which &e not show the switches 30 the boost mode =tifie% as shown in FIGS. 1 and 2.) The\n&or diodes that are always condu&g and/or always 0 ~ . switches, which switched the Primary Of the tm~~former\nin\noff\nthe boost mode, now function as a full-wave bridge rectifier\nside switches Q,% are\nmen the\nall\ndiodes (or vwhnoUSrectification with the\nthere is no voltage across the primary Tpof the transformer\nusing the\nT and the input voltage v,\xe2\x80\x9c is connected to the output\n,\nswitches)huban filter, the\ninput\n-fOmer,\nthe 35 If the transformer voltage was less than 1:1, a negative\noutput voltage could be generated, and the net power flow in\nrectifier diodes, and an output filter.\nmen switches of the input bridge aTe mnduchg, a the S B B R Would be back t0 the input, dthOUgh that is not\nthe\nCO&dated the device. The SCBBR\nas a primary use Of\nvoltage is impressed on the secondary T, of the transformer\ncan also operate in a mode where the power flow is from the\nT The hamus D, gi is the\n.\noutput at the rectifiers\ninput voltage v,m\nplus the\nsecondary <olt.ge, 40 output to the input if synchronousrectification is used at dl\nto the input voltage divided by the transpoints, and it makes some sense for u e as a \xe2\x80\x9cregenerative\xe2\x80\x9d\ns\nwhich is\nsort of application. This ability will be discussed below.\nturns ratio. By varyingthe pwM duty cycle hm\nto 100% the average output, can be controlled between\nV\nthe discussion Of thebuck mode *own in\na\nof the input voltage, and a\nofthe input\nFIGS. 5 6, the output\nof the Dc-m\nconverter\nvoltage plus the boost provided by the transformer,s\nset- 45 is recirculated back to the input bus of the SCBBR. Varying\nthe duty cycle of the switches controls the ratio between the\nThe outputfiltermmthes the output and the\noutput voltage, iwhg\nlosses in the\ninput and output voltage Of the converter*\nthe\nvoltage fixes the output voltage of the D C D C converter,\nfilters and rectifiers, will be:\nthe effect of varying the duty cycle is to vary the voltage\nYw=V,+Y,*(PwM Duly cyoIe)/(nm6 Ratio)\n50 drop between the input bus and the SCBBR output voltage.\nThe switching action of the two switches in the buck\nThe turnsratio for theprototypedesign was chosen to be 2 1 ,\nof FIG. 6 might also be consideredunusual in that\nthe Output be boosted UP to 150% Ofthe inputthey are controlled such that either one or both switchesare\nHowever,\npractical turns ration (&or duty cycle) can\nalways turned on, they are both never off simuitaneously,\nbe chosen, as desired.\n55 even during the switching cycle. It is a current fed mode of\nThe buck mode of the SCBBR operates in a very d%brent\noperation. When both switches are conducting there is no\nmode, but uses essentiallythe same componentsas the boost\nvoltage drop (except the small conduction losses) across the\nmode. The power flow of the buck mode is as shown in the\ninput of the Dx converter, so the output voltage of the\nc\nblock diagram of FIG. 5. The input voltage is greater than\nSCBBR is equal to its input voltage. mn one switch is\ne\nthe desired output voltage. The concept of operation is that 60 open,the voltage acmss the transformeroutput will be equal\nthe input of a Dc-DC converter is connectedi series,with\nn\nto the SCBBR input bus voltage since it is clamped to that\nopposed polarity to the SCBBR input bus, and the OUQut of\nvalue by the bridge rectifiers. Therefore the input voltage\nn\nacross the converter will be equal to the input bus voltage\nthe DC-DC converter is connected i parallel with the\nSCBBR input bus.\ndivided by the transformer tums ratio. Viuying the duty\nThe voltage drop across the input of the DC-DC con- 65 cycle controls the average voltage dropped across the\nverter reduces the SCBBR output voltage, and the power\nDC-DC converter, and therefore the SCBBR output voltassociatedwith this voltage drop is returned to the input bus\nage.\n\nClibPDF - www.fastio.com\n\nUS 7,116,568 B1\n7\nThe SCBBR output voltage in the buck mode can be\ncomputed as:\n\nvd= v,\n\n6 y W Duty cyole)l(Tilnl3Ratio)\n"P M\n\nclosed all the 5\nhas the\ntime\nan angle of 10@/0cornponds to each switch being\nclosed 500/0 ofthe time.\nfor the sign in the equation,\ne q d o n is identical t the o m for the boost mode. By\no\nredefining the duty cyclefor\nb c k to be -looo/o,\nratio io\nthe equations become identical, and for a 2:1\n-fomer,\nthe\ncan be varied from 500/0 to 1 p 0\n5 / of\nthe input voltage.\nThe thirdmode of operation,the cunent Limiting (cL)\nmode, an effectiveschematic ofwhich is shown in FIG. 7,\nOf the components\nin the boost and buck\nm d s as well as some additional components. It uses a\noe,\ncompletely different mode of switching, and allows operation down to o output voltage to allow an increased operand paaicularly an OFF mode and\n20\noverload l m t n function. In the CL mode the primary or\niiig\nN 1 wave bridge side of the converter switches serve no\nP T S 4 a d they areal1 medoff.The SwitchesQd&,\nalso\nfor the buck mode On the Output bus side Of the\nconvm", are switched Shulmus\'Y, With QJQ7 a d 25\neach effectively acting as one switch and the transformer has no voltage across it. Adiode is added between the\nFET switches ad\nand the mT switches, the\ndiode, and the output inductor function as a conventional\n\nmere PWM Angleof\na\n\ne/Q8\n\nbuck converter as shown in FIG*\'* The transformer has no\nfunction in this mode,and in fact is shortedby an auxiliary\nswitch (Q in FIG. 2) to reduce voltage transients.\nIn this CL mode, the output voltage can be computed as:\n\n30\n\nY.=Y,*(PWM Angle)\n35\n\nAlthough the form ofthis quation is quite different from\nthe boost and buck mode equations given Previo~b\',the\nouQa voltage i still defined o\' by the input VObZe and\ns\n&\nPwM angle, and the output can be contd1ed between 0\nvolts and the input voltage. Actually, the range i this mode 4o\nn\noverlaps the range in the SCBBR buck mode, but with\ntypically lower efficiency and higher ripple cun\'ents in the\nfilters. In the prototype, the switching frequency is increased\nfor Operation in the CL mode to reduce the current riPPle.\nThe current limit mode is typically Useful O d Y dg\n45\non and overload conditions, or if the output voltage must be\nlower than that that can be obtained with the SCBBR\nOperathg in buck mode. Also, the equation is Ody valid for\ncontinuous conduction where the inductor L current never\ngoes to 0.\n50\nRsSentidY, overlaying the boost, buck, and\nlimit\nmode effective schematics reveals the complete SCBBR\nI.\nschematic, previously discussed a d shown in F G 2.\nThis discussionhas heretoforeassumedthat the input and\noutput currents of the SCBBR are always positive. However, 55\nif synchronous rectification is used on both sides of the\nDOC converter, then current flow can be in either\ndirection. This can be very useful because the magnetizing\ncurrent of the transformer can be supplied from the input\nsource, otherwisethere would be a minimum output current 60\n(thatrequiredtomagnetiathetransfo~er)bel~~whichthe\nSCBBR buck mode would not operate. Switches that can\nconduct in both directions a e already desireable on two of\ni\nthe switches on the SCBBR output. The logic to control the\nprimary switches is straightfornard (and discussed below), 65\nandprovidesthema~~gcunentdiscussedabove.\nBy\nalso using active switches in the other two positions, the\n\nC I i I3 PDF - www.f asti o .coni\n\noutput the efticiency will increase (synchronous rectificat o ) and the SCBBR can operate in a regenerative mode\nin,\nwherein power is actually retumed to the source h h\nte\nload The regenerative operation in the CL mode is possible\nif the fkee wheeling diode Dfis - e\nF d with a switch.\ncan be d h d for\nvdous Output filter\ns m t h i q the output Voltage for load p r o e o n and/or\ncan be added to the\nIn atio%\ndevice, if necessary,to smooth the inpa voltage as well.\nThe control circuitry, an exampleof which is shown in the\nschematic of FIG. 8, can consist of 3 Pulse Width Modulators A, B, & C, one for each mode, and a mode switching\ncircuit D to switch between either the Current Limit or the\nBuck and Boost Modes. Steering logic 35 is included to\nsupply the proper pWM pulses to the appropriate power\nswitches Q1-Q8. The steering logic\nlogic to connect the pwM\nand the mode\n\n~\n~\ntable (given below). A single analog PWM input command\nis input to the circuit.The pWMcommandcan be genmtd\nfrom voltage and current regulatingcircuitry (not shown)\nto\nthe voltage ration betwen the input bus and\nthe output bus. Typically, Ref h R e f BrRef CrRef D. The\nfor switch Q is not howin the diagram,but can\nbe similarly implmented.\nsignalsproduce boost mode\nThehi.est pWM\nPWM comman& to the swit,,hes. ht-&ae\nlevel comthe\nmands produce Buck mode\npWM sigaals.\ncircuit operates in either the boost or buck mode,but for\ninput to output voltage ratios of nearly 1, the circuits may\noperate in both m d s simultaneously.\noe\nne\nlogic is set up so that the pwM swibb\ncommands in these two modes intersperse with each other\nwithout interference. Thus there can be eitha a slight\noverlap in control range wherein both modes coexist, a m\noverlap (ideal) or a slight w&r]ap wherein for a small\ncommand m g e neither boost nor buck mode PWM com= geueated, without significantly affecting the\ncircuits\' performance. A lower lwei p w ~\nis\nto generate PwM commands for the Current Limit\nchit the logic\nin\nwhen the\nto use the mat\nEt\nmode\nare low\ninstead ofthe buck mode, and switches logic to prevent buck\nmode PWM commands and enable currat limit mode PWM\non a power\nhe Witch to the current limit mode also\nthe power &or\nto\nwhich effectively\ndum\non the power\ndg\nthe\ncurrent limit mode. The mode switchingbetween the current\nlimit mode and the buck and boost modes incorporates\nhyste&s to eliminateany indecision as to which operating\nto use caused by noise near the bmjtjon point.\nThe switching sequence gees through four states in the\nboost and buck modes,and 2 states in the current limiting\nmode, as shown in the following table:\n\nMoDum\n\nQ1*\n\n4\n4\n\nON\n\nON\n\n4\n7\nON\n\nom\n\nOFF\n\nQ*Q\n\n% a ~ ~ON\n& OFF\nb\n\nQ6\n\nA:\n\n-me-\n\nOFF\n\nom\n\nON\n\nON\n\nON\n\nON\n\nOFF\n\nBoostModeb\n\nOFF\n\nOF\nF\n\nON\n\nON\n\nON\n\nON\n\nOFF\n\nEmMode state\nc:\n\n5\n\nD\nBudrMode State\nA:\n\nON\n\nOFF\n\nOFF\n\nON\n\nON\n\nON\n\nOFF\n\nR.\nBuckModcState\n\nOFF\n\nOFF\n\nON\n\nON\n\nON\n\nON\n\nOFF\n\nB\n\n15\n\nStates A and C in the boost and buck mcdes range from\n0 to 5 % duty cycle, and a the boost and buck modes can\n0\nt\nbe running simultaneouslyas long as the total duty cycle of\nboth modes is less than 50%. In the current h i t mode, the\nduty cycle of either state can be 0 to 100%. Depending on\nthe control logic employed, the buck modes and the CL\ns i m u l ~ m s l y ,if desired, or the\nmodes can be\ncontrol system can switched discretely between these\nmodes.\n\n20\n\n25\n\nPrototype Regulator\n%gh efficiency is possible wing the SCBBR technique if\nthe circuit is optimized for low losses. As S U C ~ ,the design\ncan use rather\nSekWndU\xe2\x80\x9df\xe2\x80\x9dTand m a p t i c -Po30\nnents, and a relatwely low Swltchg frequency. Smaller\ncomponents Can be Used where a small, compact Size is\ndesired (although efficiency may suffer).\nAcurrent developmentof the SCBBR is for an application\nas a fuel cell redator. The prototype SCBBR is being tested 35\nwith a simulated fuel cell scaled at 50%of the voltage and\n10% of thecurrent rating of the intended fuel cell. The target\nfuel cell is rated at 10 kw, 340 volts no load (170 for the\nsimulator), 200 volts full load (100 volts for the simulator),\nat 50 amps (5 maps for the simulator).The intended load is 40\na 270-volt (135 volts for the simulated system) bus. The\nefficiency of the pmtotype doesn\xe2\x80\x99t fall greatly until about\n10% load. \xe2\x80\x9che power loss is a relatively constant2 to 3 watts\nbelow 50% power. These efficiencies are for the power stage\nonly, the control power requirement, including gate drive, of 45\nthe prototype is 3 to 4 watts.\nThe DG resistance of the series connected components of\nthe prototype (the input filter, the transformerseconda~~,\nthe\nsecondary switches, and the output filter) is 0.15 o b ,\naccounting for 0.25% loss at 2 amps, and 0.6% loss a 5 50\nt\namps load Two-thirds of the loss at full load is due to\nswitching losses or resistive losses in the primary and\nmagnetic components core losses.\nVoltap regulation in a converter is primarily a measure of\nthe performance of the voltage regulation feedback loop. 55\nThe r g l t o can be as good as the regulator, independent\neuain\nof the transfer cbaracteristicsof the converter. However, the\np d g discussion discussed the transfer functionsofthis\nconverter and t e similarity of them throughout &e three\nh\nMerent modes, and implied that the output voltage could be 60\ndeterminedbased on the input voltage, the transformerratio,\nand the PWM angle. Open loop regulation generally continues into the current limit mode also, but not as accurately.\nA closed loop regulator is also included on the prototype\nSCBBR. Its only function is to ti out the remaining output 65\nrm\nmors, so its control range can be limited to altering the\noutput voltage only a few percent, and it can use only the\n\ne\n\nC 1 i I3 P DF - ww w. fast io.co m\n\nthe design of the integral controller path.\nAs discussed so far, t eSCBBR is typically a stiffvoltage\nh\nsowe, and to be useful in a real system the ability to limit\ncurrents into an Overload is desk&. TWO circuits Can be\nadded to accomplish this. The first an instantaneous overcurrentsenseattwiceratedcunenttoshutoffallswitches\n\ning a large capacitor as a tEansient 1 0 4 while d\ng at\nrated current. The capacitor is 100 times the output filter\nCaPaCime SO the Ourput Voltage collapses almost come\nPletelY- The h & i & m e a wOVmxrent semh3 limits the\ns t k d Spike of current\nthe filter), and then the SCBBR\nunder current limit until the caPCibr is Charged. The\n-Sing and the data Plotted are the current into the\noutput filter. This is t e same as the currents that is in the\nh\noutput switches, and it is the critical current to be controlled\nfor pmhtion of the SCBBR.\nThe invention has been described hereinabove using\nspecific examples; however, it will be understood by those\nskilled in the art that various alternatives may be used and\nVjvalents\nbe mbdmted for elemor steps\ndescribed her&, without deviating fiam the %ope of the\ninvention. Modifications may be necessary to adapt the\nneeds\ninvention to a*particular situation or to\ndeparting &-om the scope of the invedon. It is\nintended that the invention not be limited to the particular\nimplementation described &sh but that the claims be\ngiven theiibroadest interpretation to cover all embodiments,\nliteral or equivalent, e w e 4 thereb.\nWhat is claimed is:\n1 A series\n.\nbuclr-boost regulator comprisk:\na control circuit;\na transformer having a plrimarv winding and a catertapped secondary winding, wherein the center tap of\nsaid secondary winding is for connecting to a source\nvoltage;\na switching circuit controlled by said control circuit and\nfor pulse-width-modulating the source voltage for\ninputting into said primary winding, with said switching circuit including four P W M switches connected in\na bridge configuration with said primary winding connected to a center of said bridge, wherein each PWM\nswitch has a diode connected in parallel; and\nan output circuit controlled by said control circuit and\nconnected to said secondary winding for outputting a\nih\nload voltage, w t said output circuit having two pairs\nof two series connected output switches connected in\nparallel, wherein each output switch also has a diode\nconnected in parallel;\nwherein said control circuit controls a duty cycle of said\npulse-width-modulationof the sou~ce\nvoltage and also\ndrives said ourput circuit such that said output voltage\ncan be varied in a range fiam a minimum voltage less\nthan the source voltage to a maximum voltage greater\nthan the source voltage;\nand further wherein some substantial fraction of the\npower input by the source voltage is not pulse-widthmodulatedby said switchingcircuit during one or more\noperating modes;\n\nand wherein said P W switches include a first switch, a\nsecond switch, a third switch, and a fourth switch, and\nfurther wherein said output switches include a fifth\nswitch, a sixth switch, a seventh switch, and an eighth\nswitch,\n5\nwhemh, during said boost mode, said control circuit\nit\ncontinuously turns on said f f h switch and said sixth\nSwitch, and further wherein said control circuit cycles\nthrough a plurality of boost states including:\na first boost state wherein the first, fourth, and seventh lo\nswitches are on and fuaher wherein the second,\nthird, and eighth switches are 0%\na second boost state wherein the seventh and eighth\nswitchesare on, and fuaherwhereinthe first, second,\nthird,and fourth switches are 0% and\na third boost state wherein the second, third and eighth\nswitches are on and further wherein the first, fourth,\nand seventh switches are off;\nand wherein, during said buck mode, said control circuit\ncontinuously turns on said seventh switch and said 20\neighth switch, and further wherein said control circuit\ncycles through a plurality of buck states including:\na first buck state wherein said first, fourth, and sixth\nswitches are on and further wherein said second,\nthird,and fifth switches are 0%\n25\na second buck state wherein said fifth and sixth\nswitches are on, and further wherein said first, second, third, and fourth switches are off; and\na third buck state wherein said second, third, and fifth\nswitches are on, and further wherein said first, 30\nfourth, and sixth switches are 0%\nand further wherein, during said current limiting mode,\nf\nsaid control circuit continuously turns o f said first,\nsecond,third, and fourth switches, and further wherein\nsaid control circuit cycles through a plurality of current 35\nlimiting (CL) states including:\na first CL state whereii said fifth, sixth, seventh, and\neighth switches are on; and\na second CL state wherein said f f h sixth, seventh, and\nit,\nf.\n40\neighth switches are o f\n2. The regulator of claim 1,further comprising:\na first transformer diode connected to a terminal of said\nsecondary winding;\na second t r a n s f m r diode connected to another terminal\n45\nof said Becondary winding; and\na transformershorting switch connected to said center tap\nof said secondary and also connected to said first and\nsaid second transformer diodes for shorting said secondary on command from said control circuit.\n3 The regulator of claim 2, wherein said PWM switches\n.\ninclude a first switch, a second switch, a third switch, and a\nfourth switch, and further wherein said output switches\ninclude a fifth switch, a sixth switch, a seventh switch, and\nan eighth switch, wherein, during said boost mode,\nsaid control circuit continuouslyt r son said fifthswitch 55\nun\nand said sixth switch, and continuously tums o f said\nf\n\nC Ii I)P DF - www.f asti o.coiii\n\ntransformer shorting s\nin said\ncontrol circuit cycles through a pluralityof boost states\nincluding:\na first boost state wherein the first, fourth, and seventh\nswitches are on and further wherein the second,\nthird, and eighth switches are 0%\na second boost state wherein the seventh and eighth\nswitchesare on, and furtherwhereinthe first, second,\nt i d and fourth switches are 0% and\nhr,\na third boost state wherein the second,t i d and eighth\nhr\nswitches are on and further wherein the first, fourth,\nand seventh switches are 0%\nand wherein, during said buck mode, said control circuit\ncontinuously aunS on said seventh switch and said\neighth switch, and continuously turns off said transformer shorting switch, and further wherein said control circuit cycles through a plurality of buck states\nincluding:\na first buck state wherein said first, fourth, and sixth\nswitches are on and further wherein said second,\nthird, and fifth switches are off;\na second buck state wherein said ffh and sixth\nit\nswitches are on, and fiuther wherein said first, second, third, and fourth switches are off; and\na third buck state wherein said second,third,and f f h\nit\nswitches are on, and further wherein said first,\nfourth, and sixth switches are off;\nand further wherein, during said current limiting mode,\nsaid control circuit continuously turns off said first,\nsecond, third, and fourth switches, and continuously\ntiuns on said transformer shorting switch, and further\nwherein said control circuit cycles through a plurality\nof CL states including:\na first CL state whemin said fifth, sixth, seventh, and\neighth switches are on; and\na second CL state wherein said fifth, sixth, seventh, and\neighth switches are off.\n4. The regulator of claim 3, further comprising:\na freewheeling diode connected between said output\ncircuit and a ground; and\nan inductor for connecting said output circuit to a load.\n5. The regulator of claim 4, wherein said c n r l circuit\noto\ncontrols a duty cycle of said pulse-width-modulation of the\nsource voltage and also drives said output circuit such that\nsaid output voltage can be varied in a range from a minimum\nvoltage less t a the source voltage to a maximum voltage\nhn\ngreater than the source voltage.\n6. The regulator of claim 5, wherein some substantial\nfraction of the power input by the source voltage is not\npulse-width-modulated by said switching circuit during one\nor more of said modes.\n\n* * * * *\n\n'