b'7/ASA- T/V/-/oi-/,o3_\n\nNASA Technical Memorandum 104036\nNASA-TM-104036 19910021824\nI\n\nTWO ALTERNATIVE WAYS FOR SOLVING\nTHE COORDINATION PROBLEM IN\nMULTILEVEL OPTIMIZATION\n\nJaroslaw\n\nSobieszczanski-Sobieski\n\ni _\n\nAugust 1991\n\n"\xe2\x80\xa2i\n\n\xe2\x80\xa2\n\nHampton,\nVirginia23665-5225\n\n<\n\nOC[\n\nf e:\n\n: "\n\nS lea!\n\n=\n\n:\n\n!\ni\n\n|\'1e=\'D _!\n_,i.;r IU_., _i\'-\',"\' _.-,\n_.,,,,:: "_!*\n\n;_.-:\n_-_;?\'\n\n_L ....z__\n;_\n\n".\',\'_T\n\n!\'.q\n\n,.._. :.. , . .... --:.".-:i\n_\n....\n\n"_T "i", _: ;,\'t\n\n.....\n\n,\'_\'_\'3;,"\n\n........\n\n2 "_,\'1"; } :0\'_\';_\n\nJ\n\n\'\n\n1\n\nL__\n!\nL;\'_,_GLr-Y _.... ....... ": ":-"\nLI;3_/,RY ?;\nI!:\'L\'."\n\nNationalAeronauticsand\nSpaceAdministration\nLangleyResearchCenter\n\n".\n\n!\n\n!\n\n\'\n\n.\'-\n\n[ \'--_\'-_"_ :; "_ _ :\'\n\n""_\n\nTWO AIWEI_IATIVE\n\nWAYS I.\'OR SOLVING THE COORDINATION PROBLEM\nIN MULTILEVEL OPTIMIZATION\n.laroslaw Sol)icszczanski Sohicski\nAugust 1991\n\nSummary\nThe paper describes two new techniques for formulating the coupling between levels in multilevel optimization by linear decomposition, proposed a.s improvements over the original formulation, now several years\nold, that relied on explicit equality constraints which were shown by application experience as occasionally\ncausing numerical difficulties. The two new techniques represent the coupling without using explicit equality\nconstraints, thus avoiding the above difficulties and also reducing computational cost of the procedure. The\nold and the new formulations are presented in detail, illustrated by an example of a structural optimization.\nA generic version of the improved algorithm is also developed for applications to multidisciplinary system not\nlimited to structures.\nNotation\nA\n\nvector of cross-sectional areas*, Ai\n\nCi\n\ncumulative constraint of ith beam\n\nDISi\n\nvector defined by cq. (22)*\n\ngk\n\nvector of constraints* for a beam, e.g., stress limits, and local buckling, k = 1... NGB,\npartitioned in subsets of lengths NGBi, each subset corresponding to ith beam\n\nGk\n\nvector of constraints* for the assembled structure, e.g., displacement limits, k = 1... NGA\n\nI\n\nvector of cross-sectional moments of inertia*, Ii\n\nLi\n\nlength of ith beam\n\nNE\n\nnumber of beams in a framework\n\nNi\n\nvector of the end forces* for ith beam\n\nNP i\n\nlength of vector Pi\n\nNSS\n\nnumber of subsystems\n\nNX\n\nlength of vector X\n\nPi\n\nvector of parameters* in optimization of ith beam, comprising elements Pq, q = 1... NPi\n\nPqi\n\nqth clement of vector Pi\n\nSA\n\nsystem analysis\n\nSI\n\ninput vector of length NSI\n\nSO\n\noutput vector of length NSO from SA*\n\nSSAi\n\nith subsystem black box analysis\n\n{SSC}\n\nvector of geometrical* variables determining the structure overall shape\n\nSSI i\n\ninput vector of length NSSI i into SSAi*\n\nSSOi\n\noutput vector of length NSSOi\n\nTOL\n\ntolerance paramctcr set by user\n\ninto SA*\n\nfrom SSAi*\n\nW\n\nweight, equivalent\n\nX\n\nvector of design variables*\ndecomposition\n\nat the system level (assembled\n\n)_\n\nvector of design variables*\n\nin ith beam optimization\n\nZ\n\nvector of design variables*\n\nin optimization\n\n*{ ) brackets\n\nidentifying\n\nvectors\n\nto volume in a homogeneous\n\nare omitted\n\nU and L with X, Y, Z, e.g., XU, XL, denote\ndefined where first used.\n\nstructure\n\nwithout\n\nstructure)\n\nin optimization\n\nby\n\nproblem\ndecomposition\n\nwhere possible without\n\ncausing ambiguity.\n\nupper and lower bounds on these variables;\n\nother symbols are\n\nIntroduction\nLarge sealc optimization problems benefit from decomposition into a set of smaller, more manageable,\nconcurrently-solvable subproblcrmq. In a hierarchic decomposition method, the subproblems form a pyramid\nwith the system problem on top and subsystem problems in the horizontal layers below. These subproblems\nare coupled through the solution of a coordination problem. A particular procedure for optimization by\ndecomposition introduced in reference 1 solved the coordination problem by enforcing a set of equality\nconstraints between the optimization levels and by using an optimum sensitivity analysis formulated in\nrcfcrenccs 2 and 3. That procedure, referred to as Optimization by Linear Decomposition (OLD), was\nformulated for two-levels in reference 1 and was demonstrated using a framework as a test case in reference 4\nrepresenting a class of skeletal, redundant structures. It was subsequently generalized to an arbitrary number\nof levels in reference 5. The OLD is a generic method applicable to any system that is amenable to a hierarchic\ndecomposition, e.g., multidisciplinary applications reported in rcfcrences 6 and 7.\nPractical expcricncc with the procedure, and its examination in reference 8 point to the enforcement of\nequality constraints as the source of numerical difficulties that occasionally make this procedure slow to\nconverge. This observation is consistent with the opinion generally held among the developers and users\nof optimization methods that addition of equality constraints to an optimization problem tends to make the\nsolution numerically more difficult.\nMotivated by the above, and by two new techniques for satisfying equality constraints that were recently\nintroduced in refcrcncos 9 and 10, this paper defines two alternative modifications to the OLD procedure. Either\nalternative removes explicit equality constraints from the procedure while, still, achieves their enforcement\nimplicitly.\nThe two alternative techniques will bc introduced by generalizing from an example of the framework\nstructure that was a test case in references 1 and 4. To this end, the framework analysis will be discussed first,\nfollowed by the framework optimization problem formulated in a standard manner without decomposition.\nNext, an abridged description of the OLD will bc given, limited to a two-level, structural optimization of the\nframework test case. With this as a reference, two new alternative modifications to the OLD algorithm will be\nintroduced.\nOriginal\n\nReference\n\nProcedure\n\nAnalysis\nThe framework is shown in figure 1. We limit the framework analysis to a two-dimensional case by allowing\nonly in-plane displacements under the action of static loads. The static analysis of this structure may be\nformulated in two levels by using either a substructuring approach where each of the three beams in the\nframework is regarded as a separate substructure, or a finite element method in which each beam is a single\nfinite clement. Choosing the finite clement formulation, the analysis of the assembled framework requires an\ninput and generates an output as defined in table 1.\n2\n\nThe (leriw,tivcs such a.s the di,_placement U with respect to the cross-sectional area Ai, ;0-AT, xist because\nOU e\nU = f(A, I, SSU), Ni = f(A, !, SSC), and Li = f(SSC). These derivatives arc obtained by finite differencing\nor by a qua_i-amdytical sensitivity analysis embedded in the framework analysis.\nSelected data from the above output arc entered as input into a local strength analysis of the ith beam.\nThe level of refinement of that analysis is immaterial for the purposes of this discussion, e.g., it might be a\nfinite clement analysis whereby the beam is divided into numbcr of finite elements, or an elementary strength\nof materials analysis. In either case, the input and output arc as defined in table 2.\nThe above approach suggests decomposition of the framework analysis into the assembled framework\nanalysis (system level analysis) and the beam analyses (subsystem level analyses). This decomposition forms\na hierarchy in which the former is a parent and the latter are the daughters. The parent-daughter relationship\nis hierarchic bccansc the information flows from the parcnt to each daughter and no information is directly\ntransmitted from one daughter to another. Since the daughter analyses are mutually independent, they may\nbe executed! concurrently.\nTo make the system and subsystem level analyses consistent, one has to acknowledge that Ai and I i are\nfunctions of the beam cross-sectional dimensions (Y}i. Therefore, when prescribing the values for Ai, Ii, and\n{Y}i, we must satisfy the consistency equations\nAi = fA ({Y}i) ; li = fl ({Y}i),\n\ni = 1... NE\n\n(1)\n\nKeeping these equations satisfied in a multi-level optimization is a part of the so-called coordination problem,\nand the analysis by decomposition will bc exploited to establish a corresponding optimization-by-decomposition\nscheme that will bc described later.\nOptimization\n\nWithout\n\nDecomposition\n\nThe optimization problem to be solved is\n"find Z such that F(Z) is at minimum subject to constraints"\n\n(2)\n\nGj (Z) < 0, j = 1... NGA;\n\n(2a)\n\ngk(Z) <_O, k = 1... NGB\n\n(2b)\n\nZL < Z < ZU\n\n(2c)\n\nIn the static problem at hand, the design variables may include the elements of the {SSC} and some, or\nall, of the cross-sectional dimensions of the beams, {Y}i- The constraints Gk comprise the assembled structure\ndisplacements and elastic stability, and at the beam cross-section level the gk constraints entail the allowable\nstress, beam column buckling, and local buckling.\nOptimization\n\nby Linear Decomposition\n\n(OLD)\n\nThe above problem is decomposed into a single problem solved for the assembled structure (system level\nproblem) and NE separate problems solved for each beam (subsystem level problems). It is convenient to\ndescribe the subsystem level problem first. The equation underscoring indicates which parts of the formulation\nwill bc changed by the two new techniques formulated in this paper.\nSubsystem\n\nlevel.\n\nAt the subsystem level, an optimization problem for the ith beam is independent of the other problems at\nthat level, hence the beam optimizations may bc executed concurrently. The ith beam problem is, taking into\naccount eq. (1):\n"find {Y}i such that Ci({Y}i, {P}i) is at minimum subject to constraints"\n\n(3)\n3\n\nI\n\nAi - fA ((Y}i)\n\n= 0,\n\nIi - fl{Y}i\n\n(3a)\n\n= 0,\n\n(3b)\n\n(YLh _< -<(YVh;\n{Yh\n\n(3c)\n\nwhere {YL}i and {YU}i are the lower and upper side-constraints on {Y}i. The {P)i is a vector of parameters\ncomprising Ai, Ii, Li, and {N}i that are output from the analysis at the system level as defined in table 1\nand are passed as input into the beam analysis as shown in table 2. These parameters stay constant in the\nprocess of the beam optimization. Hence, for ith beam\n{Pq}i = {Ai, Ii, Li, {N}i}, q = 1... N]_\n\n(4)\n\nThe scalar Ci is a cumulative constraint representing the degree of satisfaction, or violation, of the subset\ngk({Y}i),\nk = 1... NGBi, pertaining to the ith beam, of the entire set of gk that appears in cq. (2b). The\ncumulative constraint may be cvaiuated as in references 4 and 5 by means of the Kreisselmeier-Steinhauser\n(KS) function 11):\n(rcf.\n\nCi(gk) = KS(gk)=\n\n(l/p)In\n\n(k_\n\nexp\n\n, k = 1...NGBi\n\n(5)\n\nwhere p is a user-controlled coeicicnt that governs the distance between the KS and max(gk). An alternative\nKS-formulation that avoids generation of |argc values of the cxponcntial function is\n\nC,(gk)=max(gk)+l/p)\n\nln(_kexp(p(gk--max(gk)))),k=l...NGB\n\n,\n\n(5a)\n\nThe KS function is diffcrentiable and has the property that\nmax(0k) < KS(gk) < max(gk) + In NGBi/p,\n\nk = 1... NGB i\n\n(6)\n\napproximating the nondiffcrcntiable max(gk) with an error dependent on p (the larger p is, the smaller the\nerror is. However, optimization may be more difficult numerically).\nThe optimization in eq. (3) alters {Y}i to enforce the consistency cq. (1) by means of the equality constraints\nin eqs. (3a) and (3b), and to achieve a minimum of Ci equivalent to a minimum of max(gk). This optimization\nproduces an optimal solution comprising of Cimin and {Y}iopt" It is followed by an optimum sensitivity analysis\n(ref. 2) to obtain the derivatives of Oimin and {Y}iopt\nSyatem\n\nwith respect to {Pq}i, denoted oc,- \xe2\x80\xa2 and\n_\n\nu,-q_ \xe2\x80\xa2\n\nlevel.\n\nIn the system level problem, the design variable vector X contains Ai, Ii, i = 1... NE, and the elements\n\nof\n{ssc}\n{X} = {Ai,Ii, {SSC}},\n\ni = 1... NE;\n\n(7)\n\nAt this level, thc assembled structural analysis whose input is defined in table I is carried out. The objective\nfunction in this case is the structural weight which for a homogeneous material may be replaced with the\nmaterial volume\nNE\n\nF(X) = W(X) = E AiLi\ni\n\n4\n\n(8)\n\nThe problem\n\nformulation\n\nis\n\n"find X such that F(X)\n\nis at minimum\n\nsubject\n\nto constraints"\n\n(9)\n\nGk(X ) < O, k = 1...NGA;\n\n(9a)\n\nCi(X ) < TOL,\n\n(9b)\n\n{__Yl/}i< {Y}i\n\ni = 1... NE;\n\n< {YU}i,\n\ni=\n\n1...NE;\n\n(9c)\n\nXL < X < XV;\nwhere TOL\n\nis a suitable\n\ntolerance\n\nparameter.\n\nThe constraints Gk(X ) pertain to tile assembled structure\nelastic stability. The Ci(X) is approximated\nby extrapolation\n\nCi(X)\n\n(9d)\n\nbehavior,\n\ne.g., displacement\n\nlimits and overall\n\n= Cimin + _j. _q OCimin -_j (Xj - Xjo),\nOPqi OPqi "\ni = I...NE,\n\nj = 1...NX,\n\nq = 1...\nOC"\n\nNPi\n\n(10)\n\n"\n\nwhere Pqi is defined by cq. (4). In the above, Cimin and _\nare transmitted from the subsystem level\noptimization and optimum sensitivity analysis, and the derivative product terms constitute a chain rule\ndifferentiation necessary since some of the parameters Pq depend on Xj as noted in discussion of table 1.\nOP."\n\nSince Xj is an clement of {P}i, we will have _\n= 1 for the coincidences (Pq)i = Xj that occur in the\nsummation. The values of (Xj)o are those for which the assembled framework analysis was carried out prior\nto the current optimization.\nWhen Ci is expressed by a KS function as in eq. (5) or (5a), the extrapolation error in eq. (10) may be\nsignificantly reduced, or shown in references 4 and 5, by extrapolating each constraint function gk that enter\n\nCi\n\ngk(x)=gko\n+\n\nogkoPq\n\nj q opq oxj (xj- Xjo),\n\nj = 1...NX,\n\nq = 1...NP i\n\n(10a)\n\nand, then, computing in extrapolated 6"/by means of either eqs. (5) or (5a). This technique removes that part\nof the extrapolation error that in eq. (10) would be caused by the curvature of the logarithm and exponential\nfunctions embedded in the KS function.\nAn extrapolation similar to eq. (10) is used to approximate {Y}i in eq. (9e):\n\nYi(X)--- Y/opt + _j _q\ni = 1...NE,\n\n0Yi\xc2\xb0pt OPqi\nOpqi -_j (Xj-\n\nj = 1...NX,\n\nXjo),\n\nq = 1...NP\n\ni\n\n(11)\n\nXL < X < XU\nFinally, XL and XU, are, respectively, the lower and upper limits on X. These side constraints include the\nmove limits guarding against excessive extrapolation errors in cqs. (10) and (11).\n\nO\'oerall\n\nproct\'d\'urc.\n\nThe overall OLD procedure is\n1. Initialize the overall shape data in {SSC}, and the beam cross-sectional dimensions {Y}i;\n2. Enter {Y}i into cqs. (3a) and (3b) to initialize A and 1;\n3. Execute the assembled structure analysis (table 1);\n4. For each beam execute a subsystem level optimization per eq. (3), that refers to the beam analysis per\ntable 2, and carry out the optimum sensitivity analysis with respect to parameters defined in ecI. (4);\n5. Execute optimization at the system level per eq. (9);\n6. If termination criteria set by user are not satisfied, reset X and Y to the new values and repeat from\nstep 3, otherwise exit.\nTo conclude the description of the OLD procedure at two levels, one should point out that the individual\noptimizations at both levels are coupled by means of eqs. (3a), (3b), (9b), (9e), (10), and (11). These equations\nrepresent the coordination problem which is solved by virtue of converging the overall procedure.\n\nShortcomings\n\nof the OLD Procedure in Need for lmprovemenL\n\nIn the subsystem level formulation in cq. (3), there is a possibility of a conflict between the equality\nconstraints in eqs. (3a), (3b), and the side constraints in eq. (3e). Specifically,it may not be possible to find\na feasiblesolution to the subsystem level problem while satisfying both sets of constraints. To alleviate that\nconflict,the system levelformulation above includesapproximate representation of the side constraints on {Y}i,\neqs. (9c) and (11), to keep the system level optimization from imposing on the ith beam such combinations of\nthe A i and Ii values that cannot be attained with the physically realizable {Y}i. The above potential comrliet\nis one disadvantage of using the equality constraints in eqs. (3a) and (3b).\nAs mentioned in the Introduction, the other disadvantage is the increased difficulty of solving the\noptimization problem of eq. (3) brought about by the presence of the equality constraints, as pointed out in\nreference8. Hence, the two alternative modifications are introduced next, primarily, to removethese equality\nconstraints.\nProposed\n\nModifications\n\nTwo alternative modifications whose introduction is this paper purpose are defined herein. The common\nfcature of both modifications is removal of the equality constraints in eqs. (3a), (3b), (9b), and (9c), and\nan indirect fulfillment of these constraints by reformulating the subsystem optimization problem. The two\nmodifications differ in the details of that reformulation.\nModification\n\n1\n\nThe first modification is based on a technique for locating simultaneous roots of a set of functions using the\nKS function as described in reference 9. Specifically, if a set of NF functions Fi(Y) = 0 for Y = Yo, then a\nKS function comprising the positive and negative Fi(Y) has a minimum at Yo. Formally,\nIf Fi(Y) = 0, for Y = 1Io, then KS(Fi(Y)\n\n- Fi(Y))\n\nis at minimum for Y = Yo; i = 1... NF\n\n(12)\n\nThe above property of the KS function may be used to satisfy the equality constraints in eqs. (3a) and (3b).\nFor brevity, we define nondimensional functions\nFAi = (Ai - .fA({Y}i))/Ai, i = 1... NE\nFti = (Ii - ft({Y}i))lIi,\ni = 1... NE\n\n(13)\n\n_nd consl, rnct a conmposil,c I\'uncl, ion\n\nQ ({Yh,{Ph)= Ks\n\n-\n\n- F.)\n\n(_ ) \'n (exp (pFAi) + exp (-pFAi) + exp(pFli) + exp(-pFli) )\n\n(14)\n\nBy virtue of eq. (12), this flmction is a minimum at {Yo}i where FAi and l"ti also vanish. We will seek\n{Yo}i as {Y}iopt in an optimization that entails Ci({Y}i, {P}i) defined by cq. (14) as the objective function.\nThis approach was shown to be effective in reference 12, although the details of the function formulation and\nof the overall procedure defined in that reference were different.\nThe subsystem level optimization of eq. (3) for the ith beam will now change to the following one in which\nCi is defined by eq. (14):\n"find {Y}i such that Ci({Y}i , {P}i) is at minimum subject to constraints"\n\n(15)\n\ngk({Y}i) <_O, k = 1... NGB i\n\n(15a)\n\n{YL}i < {Y}i <- {YU}i\n\n(155)\n\nThe subsystem level optimization satisfies the local constraints, eqs. (15a) and (15b), and comes as close to\nFAi = 0 and Fti = 0, that is fA = Ai, fI = Ii, as possible. However, in contrast to cqs. (3a) and (3b), it is not\nrequired to nullify these quantities completely, if that is not yet possible in the process of iterating between\nthe levels in the overall procedure. Hence, the potential conflict among the constraints eqs. (3a), (3b), and\n(3c) described in the preceding section has bccn removed. Consequently, the constraints in eq. (ge) that were\nneeded to alleviate that conflict are now deleted from the system level optimization. As a result of the deletion\nof cq. (9c) from the system level optimization, the derivatives _ Orqi\nbecome unnecessary. Consequently,\nthe optimum sensitivity algorithm from reference 2 may be replaced with the computationally less expensive\nalgorithm from reference 3 for a significant reduction of the computational cost of the entire procedure.\nThe system level optimization change is limited to deletion of cq. (9c), and to redefinition of 17i from the\none given in eq. (5) to that set by eq. (14). The new definition of Ci must also bc used in eq. (10).\nEven though the equality constraint such as those in cq. (3) do not appear directly in the above subsystem\noptimization, they are eventually brought to satisfaction within tolerance TOL, indirectly, by virtue of eqs. (14),\n(15), (15a), (15b), and (9b), when the overall procedure converges.\nModification 2\nAn algorithm introduced in reference 10 for the purposes of fitting an empirical function to a set of\nexperimcntai data points may be adapted as a formulation of the subsystem level optimization problem. The\nalgorithm requires augmentation of {Y}i by an additional independent variable, LIMi, that also doubles for\nthe objective function in a following formulation of the subsystem problem for the ith beam\n"find {Y}i and LIM i such that LIM i is at minimum subject to constraints"\n\n(16)\n\ngk{Y}i <_O, k = 1... NGB i\n\n(16a)\n\n-LIMi\n\n<_FAi < +LIM i\n\n(16bl)\n\n-LIMi\n\n< Fli < +LIMi\n\n(1652)\n\n{YL}i <_{Y}i <- {YU}i\n\n(16c)\n\nLIMi > 0\n\n(16d)\n7\n\nThe above problem solution produces the values of LIMi,nia and {Y}ioptThe LIMimln is eventually\nreduced to TOI, owing to the following changes in the system level optimization of eq. (9): deleting eq. (9c),\na._ in Modification 1 above, and replacing C i with LIMi which changes eqs. (9b) and (10) to\nLIMi\n\nLIMi(X)\n\n< TOL,\n\ni = 1... NE\n\n= (LIMi)min + _ V" 0-L/Mi\'_\n_\nOP \xe2\x80\xa2\nj q\nq_\ni = 1...NE,\n\nj = 1...NX,\n\n(17)\n\naPqi(xj\nOX"\n1\n\nq = 1...NP\n\ni\n\n- xjo),\n(18)\n\nAs in Modification 1, the optimum sensitivity analysis that follows the solution of cqs. (15), (15a), and\n(15b) may be carried out using the algorithm from reference 3 iustcad of reference 2. Neither Modification 1\nnor Modification 2 change anything in the step-by-step prescription for the overall procedure OLD described\npreviously.\nExtension\n\nto a Generic\n\nSystem\n\nThe above algorithm lends itself to a complete generalization by replacing the variables and terms specific\nto the framework example with their generic counterparts, while leaving the organization of the decomposed\noptimization and the formulations of its elements unchanged. This section explains the substitution of\nthe variables and terms in each of the system and subsystem level analyses, subsystem and system level\noptimizations, and the ovcraU procedure.\nSystem Level Analysis\nSystem Analysis, designated SA, is regarded as a black box that converts an input vector {,5\'I} of length\nNS[ into an output vector {SO} of length NSO. Vector {SI} contains as a subset the vector {X} of length NX\nthat comprises the system level design variables. Vector {SO} also contains {X} as a subset (passed through\nSA). By definition of SA\nSO = f(SI)\n(19)\nassumed differentiable up to the first derivatives. Consequently, a Jacobian matrix of the first derivatives exists\n\n= [OSIj J\' i = 1...NSO,\n\nj = 1...NSI\n\n(20)\n\nEquations (19) and (20) form a functional statement that is a very general one and includes two important\nspecial cases: the first derivatives in the abovc Jacobian, cq. (20), degenerate to zero wherever a particular\nSO i is not influenecd by a particular Sift and the derivatives default to unity wherever, for a particular pair\nij, there is SO i = SIj = X k.\nThe Jacobian matrix, cq. (20), is obtainable by finite differencing on SA or by quasi-analytical sensitivity\nanalysis embedded in SA. In either case the Jacobian matrix is rcgardod as an additional output from SA,\nseparate from SO.\nThe input defined in table 1 is an example of SI, while the subset of A\'s and I\'s in that input is an example\nof X. The output dcfincd in that table is an example of SO, and the A\'s and I\'s present in that output are\nexamples of X as a subset of SO that is being passed through SA unchanged. The derivatives 8N[OA defined\nin table 1 constitute an example of the elements of OSO/OSI.\nSubsystem\n\nLevel Analysis\n\nIt is assumed that there arc NSS black boxes representing the next lower level of subsystems. As daughters\nof the SA parent black box, they receive their input in part from the systeni levet\'and, in part, from the outside\n8\n\nworld, but not from each other. Therefore, the subsystem black boxes are mutually independent and may be\nexecuted concurrently. The ith black box is designated SSA i. It converts the input vector {SSI}i of length\nNSSI i into an output vector {SSO}i of length NSSOi.\nVector {SSI}i contains selected elements of {SO}, some of which may be the elements of X. It includes\nalso thc vector of the subsystem level design variables {Y }iAt this point, it is convenient to define a vector {P}i, i = 1... NPi, as a subset of those elements of {SSI}i\nwhich arc fimctions of X. Naturally, this includes the elements of X, if any arc present in {SSI}i. An example\nof such a subset is eq. (4).\nWe now assume that for the elements of {P}i, the {SSA}i contains a functional relation,\n{P(X)}i = f({YIi)\n\n(21)\n\nAn example of the above relation is illustrated by eq. (1). However, eq. (20) is more general than eq. (1)\nsince it recognizes that not only the elements of X but also other data in SSIi, selected from SO, may be\ncomputable as functions of {Y}i.\nFor the ith subsystem optimization, it will be useful to define a "discrepancy" vector {DIS}i defined as\n{DISj}i\n\n= ({Pj}i - l({Y}i))/{Pj}i,\n\nj = 1... NP i\n\n(22)\n\nExamples DIS) are FA i and FI i in eq. (13). The SSA i output {SSO}i contains {DIS}i and other behavior\nvariables of interest.\nSubsystem\n\nLevel Optimization\n\nSSOPT i is an optimization of subsystem i. It can be defined by either one of the two alternative ways,\nconsistent with Modification 1 (cqs. (15), (1ha), and (15b)) or Modification 2 (eqs. (16), (16a--d)).\nIn the first alternative, corresponding to eqs. (15), (1ha), and (15b), the design variables are the elements\nof {Y}i, and the objective function C i :is\nCi({Y}i, {P}i) = KS({DISj}i,-{DISj}i)\n\n=(1/p)\n\nln(_(cxp(p{DZSj}i)+cxp(-o{DISj}i))),\n\nj--1...N_\n\n(23)\n\nIn this alternative the optimization problem comprises\' the above Ci as the objective function and its\nformulation is as follows:\n"find {Y}i such that Ci({Y}i, {P}i) is at minimum subject to constraints"\n\n(24)\n\ngk({Y}i) < O, k = 1... NGSSi\n\n(24a)\n\n{YL}i <_{Y}i _<{YU}i\n\n(245)\n\nIn the second alternative, consistent with cq. (16), the design variables are the elements of {Y}i and an\nadditional variable LIMi. The latter doubles for an objective function so that the optimization problem is\n"find {Y}i and LIMi such that LIM i is at minimum subject to constraints"\ngk({Y}i) < O, k = 1... NGSSi\n\n(25)\n(25a)\n9\n\n-LIMi\n\n<_ {DIBj}i\n{YL}i\n\n<_ q-LIMi,\n\nj = 1...NPi\n\n(25b)\n\noutput is {Y}iopt\nrcspcctively.\nOptimum\n\nand, dcpcndcntly\n\nSensitivity\n\nAnalysis\n\n(25c)\n\nLIM i > 0\nIn both cqs. (24) and (25), the constraint\n\n< {Y}i < {YU}i\n\n(25d)\n\nfunctions gk arc evaluated\n\nusing the data in SSOi.\n\non the choice of cqs. (24) or (25), Fimin = Cimin or _bqmin= LIMimia ,\nand\n\nExtrapolation\n\nof the Minimum\n\nThe Optimum Sensitivity Analysis, OSAi, uscs the algorithm of reference 3,\nSSOPTi, to yicld for each subsystem i a vector of the dcrivativcs of the minimum\nSOF.- i\nrcspcct to the parameters P. The vector of these derivative.s, (_\n], has the\nP (see discussion preceding cq. (21)) and the functional relationship defined by\n{Pj}i = f(Xk),\n\nand that the derivatives 0{_\n\nThe SSOPT i\n\nJ = 1...NPi,\n\nof the\n\nObjective\n\nFunction\n\napplied as a post-processor\nto\nobjcctive function Fimia with\nlength NPi. The definition of\neqs. (19) and (20) imply that\n\nk = 1...NX\n\n(26)\n\nexist. These derivatives default to unity for those pairs jk for which Pj = X k.\n\nUsing the above, one may cxtrapolatc Fi by means of thc chain rule as an approximate function of X\n\nfi= f mi,,+\n\n0_imin\n\nOPq OXj (Xj-\n\nXjo),\n\ni = 1...NSS,\n\nj = 1... NX, q = 1...NP\n\ni\n\n(27)\n\nwhere (Xj)o is the X for which the systcm and subsystcm analyscs wcrc carried out prior to the subsystem\noptimization. For an example of cq. (27), scc eqs. (10) or (18).\nSystem\n\nLevel Optimization\n\nEquating Fi either to Ci computed from eq. (23), or to LIM i defined for eq. (25), dependently on the\nchoice of Modification 1 (cq. (15)) or Modification 2 (cq. (16)) for the SSOPT formulation, the system level\noptimization, designated SOPT, may bc formulated so as to accommodate both alternatives. Defining an\nobjective function FS(X) and the vcctor of constraints G(X), both computed from the elements of SO, the\nSOPT formulation is as follows:\n"find X such that FS(X)\n\nis at minimum\n\nsubject\n\nto constraints"\n\n(28)\n\nak(X ) <_O, k = I\n.... GS\nN\n\n(28a)\n\n_(X) _<TOL, i= I...NSS\n\n(28b)\n\nXL <_X <_XU\n\n(28c)\n\nconsistent with cq. (9) modified as described in the discussions of the Modifications 1 and 2.\nIn the above optimization problem, Fi in cq. (28b) is extrapolated by cq. (27), analogous to the extrapolation\nof Ci in eq. (10) or LIMi in cq. (18).\nInitialization\nIt is a recommended practice to initialize the entire optimization procedure by first setting the values of\n{Y}i, i = 1... NSS, and then computing X from eq. (21), recalling that, by definition X is a subset of P.\nThis guarantees starting in SA at the system level with the X values that are physically realizable in SSOPTi\nby {Y)i within the YL and YU limits. This operation is abbreviated INIT.\n10\n\nGeneric Two-Level\n\nOptimization\n\nProcedure\n\nThe procedure is the same as the one described previously for the framework example, restated in the\ngeneric terms defined in this section.\n1. Execute INIT;\n2. Execute SA;\n3. Execute SSOIYFi, followed by OSAi,\nequipment permits;\n\ni = 1... NSS, concurrently, if desired and if the computing\n\n4. Execute SOPT;\n5. If termination criteria set by user are not satisfied, reset X and Y to Xop t and Yopt and repeat from\nstep 2, otherwise EXIT.\nThe procedure output is the optimal data for X, Y, G(X), g(X), and FS(X). Owing to the formulation\nof SSOPTi in eq. (23) or (24), the optimal values of X and Y will satisfy eq. (20) within TOL. The procedure\nflowchart is depicted in figure 2.\n\nConcluding Remarks\n\n:\n\n!\n:\n:\n\nTwo new techniques are presented for coupling the levels in optimization by decomposition.\nThe\ntechniques constitute improvements of a previouMy published algorithm for two-level Optimization by Linear\nDecomposition (OLD). The OLD algorithm has been summarized and illustrated by an application example\nto show how the new techniques are implemented by local modifications in that algorithm. The resulting two\nalternative formulations improve OLD by removing the potential for numerical difficulties that occasionally\nwere caused in the original algorithm by an explicit handling of the equality constraints which constituted\nthe key coupling between optimizatious at two levels. Both alternative formulations eliminate the explicit\npresence of these constraints while satisfying them indirectly. The alternative formulations allow the use of a\nvariant of the optimum sensitivity analysis that does not require second derivatives of behavior and, therefore,\nis computationally less expensive than the variant used in the original algorithm. Thus, an additional benefit\nexpected from the modified algorithm is a reduction of its overall computational cost. It is shown that the\nimproved algorithm may be generalized to multidisciplinary system applications.\nReferences\n1. Sobieszczauski-Sobieski, J.: A Linear Decomposition Mcthod for Large Optimization Problems--Blueprint\nfor Development. NASA TM 83248, February 1982.\n2. Sobieszczauski-Sobieski, J.; Barthclcmy, J. F.; and Pdlcy, K. M.: Sensitivity of Optimum Solutions to\nProblem Parameters. AIAA J., Vol. 21, Sept. 1982, pp. 1291-1299.\n3. Barthelemy, J. F.; and Sobieszczanski-Sobieski, J.: Optimum Sensitivity Derivatives of Objective Functions\nin Nonlinear Programing. AIAA J., Vol. 22, No. 6, June 1983, pp. 913-915.\n4. Sobieszczauski-Sobieski, J.; James, B. B.; and Dovi, A. R.: Structural\nDecomposition. AIAA J., Vol. 23, No. 11, November 1985, pp. 1775-1782.\n\nOptimization\n\nby Multilevel\n\n5. Sobicszczanski-Sobieski, J.; James, B. B.; and Riley, M. F.: Structural Sizing by Generalized, Multilevel\nOptimization. AIAA J., Vol. 25, No. 1, January 1987, p. 139.\n6. Wrcnn, G. A.; and Dovi, A. R.: Multilevel Decomposition Approach to the Preliminary Sizing of a Transport\nAircraft Wing. AIAA Journal of Aircraft, Vol. 25, No. 7, July 1988, pp. 632-638.\n7. Zcilcr, T. A.; and Gilbert, M. G.: Integrated Control/Structure\nNASA TM 102619, March 1990.\n\nOptimization by Multilevel Decomposition.\n\n11\n\n8. Thareja, R.; and Haftka, R. T.: Numerical Difficulties Associated with Using Equality Constraints to\nAchieve Multi-level Decomposition in Structural Optimization. AIAA Paper No. 86-0854, AIA.A./ASME/\nASCE/AHS 27th Structures, Structural Dynamics, and Materials Confcrence, San Antonio, Texas, May\n1986.\n9. Sobicszczanski-Sobicski, J.: A Technique for Locating Function Roots and Satisfying Equality Constraints\nin Optimization. NASA TM-104037, January 1991.\n10. Vanderplaats, G.: Newsletter of VMA-Enginecring, May 1990.\n11. Krcissclmeicr, G.; and Steinhanser, R.: Application of Vector Performance Optimization to a Robust\nControl Loop D_ign for a Fighter Aircraft. International Journal of Control, Vol. 37, No. 2, 1983, pp.\n251--284.\n12. Schmit, L. A.; and Ramanathan, R. K.: Multilevel Approach to Minimum Weight Design Including Buckling\nConstraints. AIAA J., Vol. 16, Feb. 1973, pp. 97-104.\n\n12\n\nTable 1. Input and Output of Assembled\n\nFramework\n\n(System\n\nLevel) Analysis\n\nInput\nAi, l i\n\ncross-sectional area and moment of incrtia for ith beam (i = 1...NE,\nthe\nnumber of elements in the example is NE = 3), both assumed constant along\nthe beam length\n\n{SSC}\n\nvector of the structure shape coordinates in a reference coordinate system that\ndefines locations of the frame support and corner points\n\n{Q}\n\nvector of loads Qj, j = l ... NDOF, applied coincident with the structure\nunsupported degrees of freedom whose number is NDOF\n\nE\n\nthe material Young\'s modulus\nOutput\n\n{U}\n\nvector of displacements Uk, k = 1... NDOF\n\n{N}i, i = 1... NE\n\nvector of the end-forces on the beam, at each end there are three such forces:\naxial force, transverse force, and bending moment\n\nLi\n\nlength of the ith beam\n\nAi, Ii, and E as an input passed through the analysis to output;\nDerivatives: D(U,A),\n\nD(U,I),\n\nD(U, SSC),\n\nTable 2. Input and Output\n\nD(N,A),\n\nD(N,I),\n\nD(N, SSC),\n\nof ith Beam (Subsystem\n\nD(L, SSC)\n\nLevel) Analysis\n\nInput\nNAL and SAL\n\nnormal and shear allowable stresses, respectively\n\nInput selected from the Output in table 1:\nNi, i = 1...NE\n\nvector of the end-forces on the beam\n\nLi\n\nlength of the ith beam\n\nAi, Ii, and E;\n{Y}i\n\nveetor of the beam cross-seetional dimensions Yk, k = 1... NYi, shown in the\ninset, Fig. 1.\nOutput\n\n{SN}i and {SS}i\n\nvectors of the normal and shear stresses, respectively, at judiciously chosen\npoints on the end cross sections\n\n{UB}i\n\nbeam displacements in the beam local coordinate system\n\n{NCR}i\n\nand {SCR}i\n\nvectors of the normal and shear critical stresses, rcspeetively, for evaluation of\nthe beam column and local buckling constraints\n\n13\n\nbeam\n\nt\n.5L\n\nbeam\n\n1\n\n2\n\nt\n\n1\n\n\\\n\n3\n\nL\n\nbeam\n\n3\nbeam cross-section\nand detailed dimensions Y\n\n4\n\nFig.1 A portal framework.\n\nSTART\n\n- INIT\n\n"-\n\nSI\n_r\nSA\nSystcm level\nSO , D(SO,SI)\n\nSSIi\nSSAi\n\n........\n\nSSOi\n\nSSOPTi\n\nSubsystem level\n\n]\n\nI\n\n.....\n\nOSAi\n\n.....\n\nI\nnew Y and X\n\nr\nSOPT\n\n/\n\n!\n\n_ EXIT I\n/\nI\n\nFig.2 Flowchart of the generic procedure.\nt.n\n\n_\n\'\nSystem level\n\nR_:porl Documentation\n|\n\n|tl;JlOll\n\n_(I\n\n2. (;OVl;Clllllt_lll\n\nAI.I.I;t"),"-.I()I)\n\nPage\n\nN()\n\n3.\n\nRecipleflt\'s\n\nCatalog\n\nNo.\n\n:\n\nNASA TM- 1040 36\n..........................\n\n4. Title and Subtitle\n\n5. Report Date\n\nTwo Alternative\nWays for Solvingthe Coordination\nProblemin MultilevelOptimization\n\n7. Author(s)\n\nAugust\n\n1991\n\n6. Performing Organization Code\n\n8. Performing Organization Report No.\n\nJaroslaw Sobieszczanski-Sobieski\n10. Work Unit No.\n\n505-63-36\n\n9. Performing Organization Name and Address ...............\n\n11. Contract or Grant No.\n\nNASA LangleyResearchCenter\nHampton,VA\n23665\n\n13. Type of Report and Period Covered\n\n12. Sponsoring Agency Name and Address\n\nNational\n\nAeronautics\n\nTechnical\n\nMemorandum\n\nand Space Administration\n\nWashington, DC 20546-0001\n\n14. ponsoring Code\nS\nAgency\n\n15.Supplementary Notes\n\n16. Ab_ract\n\nThe paper describestwo new techniquesfor formulating\nthe couplingbetweenlevels\nin multileveloptimization lineardecomposition,\nby\nproposedas improvements\nover\nthe originalformulation,\nnow severalyears old, that reliedon explicitequality\nconstraints\nwhich were shownby application\nexperienceas occasionally\ncausing\nnumerical\ndifficulties. The two new techniquesrepresentthe couplingwithout\nusing explicitequalityconstraints,\nthus avoidingthe abovedifficulties\nand also\nreducingcomputational\ncost of the procedure. The old and the new formulations\nare presentedin detail,illustrated an exampleof a structural\nby\noptimization.\nA genericversionof the improvedalgorithmis also developed\nfor applications\nto\nmultidisciplinaryystem not limitedto structures.\ns\n\n17. Key Words (Suggested by Authorls))\n\n18. Distribution Statement\n\ncumulativeconstraint\noptimization\ngeometrical\n19. Security Classif. (of this report)\n\nUnclassified\nNASA FORM 1626 OCT 86\n\nUnclassified - Unlimited\nSubject Category - 05\n\n20. Security Classif. (of this page)\n\nUnclassified\n\n21. No. of pages\n\n16\n\n22. Price\n\nA03\n\n'