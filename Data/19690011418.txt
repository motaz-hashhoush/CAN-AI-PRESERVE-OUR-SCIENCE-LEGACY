b'I\n\nLOAN COPY: RETURN TO\nAFWC (WLIL-2)\nKIRTLAND AFB, N MEX\n\nDYNAhtIC ANALYSIS OF PERMANENT\nMAGNET STEPPING MOTORS\n\nby David J. Robinson\nLewis Resedrch Center\nCZeveZand, Ohio\nN A T I O N A L A E R O N A U T I C S A N D SPACE A D M I N I S T R A T I O N\n\nW A S H I N G T O N , D. C.\n\nMARCH 1969\n\n1\n\nDYNAMIC ANALYSIS OF PERMANENT MAGNET S T E P P I N G MOTORS\n\nBy David J. Robinson\nLewis Research Center\nCleveland, Ohio\n\nNATIONAL AERONAUT ICs AND SPACE ADMlN I STRATION\n.\n.\n\nFor sale by the Clearinghouse for Federal Scientific and Technical Information\nSpringfield, Virginia 22151\nCFSTI price $3.00\n\n-\n\nABSTRACT\nA dynamic analysis of permanent magnet stepping motors for multistep operation is\ndescribed. Linearized t r a n s f e r functions f o r single-step responses a r e developed. Multistep operation, when the motor i s driven by a c u r r e n t s o u r c e , is analyzed by using\nphase plane techniques. F a i l u r e of the motor to operate for fixed stepping r a t e s and\nload torques is discussed. Dimensionless curves showing maximum stepping r a t e as a\nfunction of motor p a r a m e t e r s and load torque a r e developed and experimentally verified.\nThe curves allowed the maximum stepping r a t e of a motor with viscous, inertial, and\ntorque loads to b e predicted f r o m simple measurements of the motor p a r a m e t e r s .\n\nii\n\nDYNAMIC ANALYSIS OF PERMANENT MAGNET STEPPING MOTORS\nby David J. Robinson\nLewis Research Center\nSUMMARY\nPermanent magnet stepping motors a r e being applied as digital actuators. Analytical\nmodels of stepping motors have been developed that analyze the dynamic response to a\nsingle step. They have not, however, been expanded to analyze stepping motor performance during multistep operation.\nAn analytical study is presented herein that examines stepping motor performance\nduring both single-step and multistep operation. A linearized single-step model is\ndeveloped which allows the stepping motor to be defined in t e r m s of a natural frequency\nand a damping ratio. A nonlinear analysis is also developed which, when a constant current source is assumed, allows the stepping motor to be analyzed for fixed stepping rates\nand applied load torques. It was found that the permanent magnet stepping motor cannot\nrespond to a step command when the applied load torque becomes greater than 0.707 of\nthe motor\'s stall torque. Also the motor cannot follow a sequential set of step commands\nif, during the sequence, the rotor lags the command position by more than two steps.\nBased on these results, we developed and experimentally checked a set of dimensionless curves which express maximum normalized stepping rate as a function of normalized\ndamping and normalized load torque. These curves allow the maximum stepping rate of a\nmotor with viscous, inertial, and torque loads to be predicted from simple measurements\nof the motor parameters.\n\nINTRODUCTION\nIn recent years, the use of digital control has found increased application in the field\nof automatic control systems. One inherent problem in applying digital control is in selected suitable digital actuators. One promising actuator is the permanent magnet (PM)\nstepping motor.\nThe application of stepping motors is not new. Proctor (ref. 1) reports that stepping\nmotors were first used in servomechanisms in the early 1930\'s. During the development\n\nI\n\n.\n\n..\n\nof closed-loop servomechanisms in the World W a r II years, proportional analog activat o r s largely replaced stepping motors in actuator applications. With the space age and\nthe development of automatic digital systems, problems arose in using analog closed-loop\nservomechanisms because of the need for digital- to-analog (D/A) conversion techniques.\nThis problem was particularly important in space applications because of the extra weight\nrequired for the D/A equipment.\nThe stepping motor has found increased applications as a digital actuator because it\ndoes not require D/A conversion. Nicklas (ref. 2) utilized a stepping motor as an actuator in a spacecraft instrumentation system. Giles and Marcus (ref. 3) reported on the use\nof stepping motors as control drum actuators for the SNAP-8 program.\nTo increase the application of the stepping motor, much analytical work has been\ndone. Bailey (ref. 4) compares stepping motors with conventional closed-loop positioning\nsystems. The stepping motor was modeled, for a single-step response, as a secondorder linear approximation. O\'Donohue (ref. 5) and Kieburtz (ref. 6) have developed\nsimilar mathematical models. These particular second-order models cannot be extended\nto adequately describe the dynamics of the stepping motor for multistep inputs. Bailey\nanalyzed multistep inputs on a limited basis, by assuming that the time between applica-.\ntion of the step command was long compared with the settling time of the response to each\nstep input.\nThe work described in this report was conducted to develop analytical techniques to\ninvestigate multistep operation. The analysis is restricted to permanent magnet stepping\nmotors; however, the techniques can be extended to other forms of stepping motors,\nelectrical, pneumatic, or mechanical. Stepping motor operation is analyzed to determine\nan expression f o r developed torque. A linearized single-step analysis is presented to express motor performance in terms of a natural frequency and damping ratio. Phase plane\ntechniques a r e used to extend the analysis to handle multistep commands supplied from a\nconstant current source. From the analysis, a dimensionless curve is developed that allows the maximum stepping rate of a motor with viscous, inertial, and torque loads to be\npredicted from simple measurements of the motor parameters.\nSimple experimental results from two stepping motors a r e presented. These results\nare used to check the analytical analysis.\n\nDESCRIPTION OF PERMANENT MAGNET STEPPfNG MOTOR OPERATION\nThe permanent magnet (PM) stepping motor is an incremental device that accepts\ndiscrete input commands, and responds to these commands by rotating an output shaft in\nequal angular increments, called steps; one step for each input command. The angular\nposition of the output shaft is controlled by the initial location and the number of input\ncommands received. The angular velocity of the output shaft is controlled by the rate at\nwhich the input commands are carried out.\n2\n\nSimplified Permanent Magnet Stepping Motor\nA simplified P M stepping motor is shown i n figure 1. The P M stepping motor consists of a stator containing two o r more phases wound on salient poles and a permanent\nmagnet rotor of high permeability. When a stator winding is energized, a magnetic f l u x\nis set up which interacts with the permanent magnet rotor. The rotor will move in such\na manner that the magnetic moment of the permanent magnet will aline with the field s e t\nup by the stator winding current. In referring to figure 1, assume winding 1 is energized such that a magnetic flux is set up with a direction from the face of salient pole 1\nand into the face of salient pole 3. The rotor will aline as shown. If winding 2 is energized such that a magnetic field is set up with a direction from the face of salient pole 2\nand into the face of salient pole 4, the rotor will turn such that the south magnetic pole of\nthe rotor alines with salient pole face 2. If winding 1 is energized in the manner previously described, the rotor will move s o that the south magnetic pole is again alined\nwith salient pole face 1. However, if the current is reversed in winding 1 such that the\nmagnetic field direction is from salient pole 3 and into salient pole 1; the rotor will move\nsuch that the south magnetic pole alines with salient pole 3 instead of salient pole 1.\nThus, the position of the rotor of a P M stepping motor can be determined by a discrete\nset of stator winding excitations and a discrete s e t of current reversals in the stator\nwindings.\n\nSalient\npole 2\n\nPermanent\nmagnet rotor 7\n\np1e3fl\nSalient\n\n-.\n\nSalient\npole 4\nFigure 1\n.\n\n-\n\n-\n\nTypical representation of permanent magnet stepping motor.\n\n3\n\nSynchronous Inductor Motor\nThere are several different PM stepping motor configurations available commercially. The most common types are derived from two- o r four-phase a c synchronous\nmotors. The synchronous inductor motor is one of these types and has received considerable attention in the literature for stepping motor applications (refs. 1 and 6 to 9).\nAs an aid in developing some general results, the torque developed by the synchronous inductor motor is examined. Figure 2(a) shows a simplified cross section of a twophase synchronous inductor motor with four salient poles and five rotor teeth. The rotor\ntooth pitch is 72O, while the salient poles are located every 90\'. One step corresponds\nto one-fourth of the rotor tooth pitch, o r a rotor movement of 18\'. One complete revolution of the rotor corresponds to 20 steps. Figure 2(b) shows an expanded layout of the\nrotor and stator. The expanded layout is used to simplify the graphical representation\nof the developed torque as the rotor moves relative to the stator salient poles.\nStepping the rotor is accomplished by reversing the direction of the current in one\nphase while holding the other phase constant. F o r a two-phase, four-salient-pole motor,\nthe salient poles can form four possible magnetic pole combinations:\n(1) Salient poles P I A and P2A are north magnetic poles, and salient poles PIB\nand PZB are south magnetic poles.\n(2) Salient poles P1B and P2A are north magnetic poles, and salient poles PIA\nand PZB are south magnetic poles.\n(3) Salient poles P1B and P2B are north magnetic poles, and salient poles PIA\nand P2A are south magnetic poles.\n(4)Salient poles PIA and P2B are north magnetic poles, and salient poles PIB\nand P2A a r e south magnetic poles.\nFigure 3(a) shows the developed torque as a function of rotor position for combination\n(1). The resultant curve is the summation of the torque curves due to the individual\nphases and, as will be discussed later, is assumed to be sinusodal. The equilibrium\npoints of the resultant curve lie midway between the equilibrium points of the individual\nphases. Figure 3@) shows the developed torque as a function of rotor position for combination (2). The equilibrium points of the resultant curve remain midway between the\nequilibrium points of the individual phases. Comparing the resultant curves of figures\n3(a) and @) show that the equilibrium points have shifted by 1/4 rotor tooth pitch. In like\nf\nmanner, figures 3(c) and (d) show the developed torque for combinations (3) and (4). I\nthe motor is stepped by sequentially repeating the magnetic pole combinations, the rotor\nequilibrium points will be shifted by 1/4 rotor tooth pitch for each combination applied.\n\n4\n\nPhase 2\n\'2A7\n\nI\n\nI I\n\nSouth magnetic disk\n1 -\n\nI\n\n\'1\n\n-\n\nNorth magnetic disk\nAxial maanet\n\n1\n\n- - Phase\n\nPhase 1 -\n\n5 Salient\n\nP2BJ\n\n\' Phase 21 1 1\nI\n(a) Cross section.\n\n\'1A\n\nSouth magnetic\nsection of mtor\n\n\'2B\n\n4 7 18"\n1 Step=\n\nI\n\nI\n\ns\n\n--______\ns\n\ni\n\ns\n\nS\n\nb,.j\n\n,S\n\n1\n\nRotor tooth Pitch\n(c) Expanded rotor-stator layout.\n\nFigure 2. -Simplified synchronous inductor motor.\n\nCD-9835-09\n\nI 111ll\n111\nllII\nl\n\n111 I II I WII I 1 1 1 1 ~IIIIII~ 1 1 1 1 1 III II1111 I\nI .111111\n111\n\nA Stable equilibrium points\n0 Unstable equilibrium points\nSalient\npole\n1\n\nSalient\npole\n\nSalient\npole\n\nSalient\npole\n\nrResultant torque\n\n(a) Stator currents I1 and 12: salient poles P1A.and PZA are n o r t h\nmagnetic poles; P1B and PZB are south magnetlc poles.\nr\n\nResultant tnrniie\n\n(b) Stator currents -11 and IF salient poles P14 and PN\nmagnetic poles; PIA and P 2 are south magnetlc poles.\n~\n\nare n o r t h\n\nResultant toroue\n\nand PZB are n o r t h\n(c) Stator currents -11 and -I2: salient polesBIP\nmagnetic poles; PIA and PZA are south magnetic poles.\nResultant toroiie\n\n114 Rotor tooth pitch\n(90")\n\n4\n\n(d) Stator currents 11 and -I2: salient poles PIA and PZB are north\nmagnetic poles; P1B and PZA are south magnetic poles.\nFigure 3. -Torque as function of rotor position - both phases energized.\nArrows indicate direction of developed torque a b u t equilibrium points.\n\n6\n\nAnalytical Development of Stepping Motor Torque\nTorque is produced on the rotor of the PM stepping motor as the result of an interaction between the flux created by the stator windings and the permanent magnet rotor.\nIn the PM stepping motor, the stator windings a r e wound in coils surrounding each salient\npole. Assume that an energized stator winding produces a parallel magnetic field of density B\'. Also assume that the rotor of the P M stepping motor is a thin b a r magnet. The\ntorque relations of a thin bar magnet in a parallel magnetic field are shown in figure 4.\n\n\'D\nla) General configuration.\n\n(b) Maximum and minimum torque developed.\nFigure 4. -Torque relations of thin-bar magnet in parallel\nmagnetic field.\n\nwill\nThe bar magnet tends to turn in a direction such that its magnetic moment vector\nline up with the parallel magnetic field. The torque developed ??D is the cross product\nand the magnetic flux density E:\nof the magnetic moment vector\n\n(All symbols are defined in appendix A. ) When figure 4(a) is used, the developed torque\nbecomes\n7\n\nFigure 4(b) shows that the maximum torque is developed when the permanent magnet is\nperpendicular to the parallel field. When the permanent magnet is parallel with the magnetic field, no torque is developed.\nThe magnetic moment of the thin bar magnet is proportional to the pole strength m\nand to the length 2 of the b a r magnet. Thus,\n\nlMl =KmZm\n\n(3)\n\nIf the parallel magnetic field is produced by an ideal solenoid of n turns, the magnetic\ndensity is proportional to the number of turns and to the magnitude of the current I(t)\nflowing through the solenoid turns.\n= KInI(t)\n\nThus, the torque developed on a thin bar magnet in a parallel magnetic field is given by\nT\n\n~ I- mZmnI(t) cos a\n-K K\n\n(5)\n\nor\nTD = KTI(t) COS a\n\n(61\n\nwhere\n\nKT = KmLmnKI\nSince the maximum torque developed occurs when\n\na\n!\n\nTmax = KTI(t)\n\n= 0,\n\n(7)\n\nThus, the developed torque can be expressed by\nT~ = Tmax cos a\n\nEquation (8) may not be an exact model when applied to the P M stepping motor, since\nthe stator windings are not ideal solenoids and the rotor is not a bar magnet. The magnetic flux set up by the stator windings has a distribution effect across the surface of the\nsalient pole face. Similarly, the rotor has distributional effects due to its configuration.\n8\n\nA\n\nStable equilibrium p i n t s\n\n0 Unstable equilibrium p i n t s\nSalient p l e\np2A\n\nSalient p l e\n\'1A\n\nSalient p l e\n\'2B\n\nSalient p l e\n\'1B\n\nRotor I s h o w i n\n\nReference pint\n\n~\n\n~\n\n7\n\ncw torque\nCCW m b r\ndisplacement\n\n-\n\nCCW torque 1\ntal Reference p s i t i o n : sd1ier.t p l e s P\nPIB and PPB are south magnetic\n\npk. and\n\nPZA are north magnetic ples;\n\ncw torque L\n\nCCW m b r\ndisplacement\n\n-\n\nCW mtor\ndisplacement\n\nIbl Step 1 Sdlinet p i e s PB\n:\nI\nare m t h magnetic pies.\n\nana P,\n2\n\nare north nidynetic ples; PIA and PZB\n\nCW r o b r\ndisplacement\n\nand PZB are north magnetic p l e s ; PIA and PZA\ntcl Step 2: salient p l e s P 1 ~\nare south magnetic poles.\n\nCW rotor\ndisplacement\n\nId1 Step 3: salient pies PZB and PIA are north magnetic p l e s : PIB\nare south magnetic p l e s .\n\n1\n\nand PX\n\nCW lorque\n\ndispldcement\nCCW mtor\n\n-\n\nCW mtor\n\ndisplacement\n\nc c h lorque\n1 4 114 Rotor tooth pitch\n\nL\n\n18G\n\n366\n\nRotor PIorition. E. d q\n\n(el Step 4: salient p l e s PIA and P ~ A north magnetic pies; PIB\nare\nare south magnetic ples.\n\nand PpB\n\nFigure 5. - Rerulldr.l torque as function of rotor p s i l i o n lor lour-step sequence. Arrows indicde direction\nof developed torque a b u t equilibrium pints.\n\n9\n\nIn addition, the magnitude of the torque depends upon the number of phases energized,\nsince the magnetic structure of the motor will be used more efficiently when a l the\nl\nphases are energized.\nFor a given stepping motor, each rotor movement of 1/4 tooth pitch corresponds to\nan angular rotation q~ in mechanical degrees. Define an angle 0 such that, when the\nrotor moves 1/4 tooth pitch, 0 varies by .\n\'\n0\n9\nThe angle 0 is related to the mechanical\nangle of rotation q~ taken during each step by the number of teeth on the rotor.\n\nThe resultant developed stepping motor torque from each step command can be generalized by assuming that the developed torque varies sinusoidally when the rotor moves\n1/4 tooth pitch. By superimposing the torque produced by each pole pair, the developed\ntorque can be expressed by\n\nT~ = Tma.x sin 0\nFigure 5 shows the resultant curves for developed torque as a function of position f o r\na four-step sequence in a synchronous inductor motor. In figure 5(a), equilibrium point\nX is an arbitrary reference point. A s the rotor is moved, the resultant developed\ntorque is given by\n\nT~ = - T ~ %\nsin\n\ne\n\nFigure 5(b) shows the resultant torque curve for the first step command. The torque is\ngiven by\n\nTD = -Tma\n\nsin(8\n\n-9\n0\n\'\n)\n\nT~ = Tmax cos 0\nFigure 5(c) shows the resultant torque curve for the second step command.\nis given by\n\nThe torque\n\nTD = -TmZ sin(8 - 1)\n8\n0\n\'\nT~ = Tmax sin 0\n\n(15)\n\nFigure 5(d) shows the resultant torque curve for the third step command. The torque is\ngiven by\n\n10\n\nTD = -Tm,\n\nsin(8 - 270\')\n\nTD =\n\nCOS\n\ne\n\nFigur 5(e) shows the resultant torque curve for the fourth st\nis given by\n\ncommand. The torque\n\nTD = -Tmm sin(8 - 360\')\nTD - -Tmm sin 8\nThis is the same result as for the reference point, equation (11). Thus, the torque developed in a P M stepping motor for any step command sequence can be given by a combination of the four equations:\nTD = -Tmn\nTD = Tmax\n\nsin 0\nCOS\n\ne\n\nT~ = Tmax sin 8\n\nTD = -Tmm cos 8\nEquation (7) stated that the maximum torque developed per phase was related to the\nstator current by\nTmax = KTI(t)\n\n(24)\n\nIf the time between steps is long compared with the rise time for the stator current, the\nequation for T\n,\n\ncan be written\nT Tmax = K I1 - KT I2 - KTI\n\n(25)\n\nThe developed torque f o r one phase becomes\nTD = KTI sin 8\n\n11\n\nTO\n\nA\n\nCCW rotor\ndisplacement\n\nt\n\nResultant torque 7\n\nCW torque\n\n/\n\n-/\n\nCW rotor\ndisplacement\n\n\\\n\nCCW torque\nI\n\n-225\n\n-180\n\n-135\n\n-45\n\n-90\n\n0\n\n45\n\nRotor position, 8,\n\n90\n\nI\n\n135\n\nl\n\n180\n\nl\n\n225\n\ndeg\n\nFigure 6. - Torque as function of rotor position for generalized permanent\nmagnet stepping motor - b t h phases energized.\n\nWith the aid of figure 6, equation (26) can be extended to include the case when both\nphases are energized and the magnitudes of the stator currents are assumed to be equal:\n\nTD = -KTIkin(8\n\nTD =\n\n-\n\n-4\n5\n\'\n)\n\n*KTI\n\n+ sin(8 + 45Oj\n\n(28)\n\nsin 8\n\nThe minus sign in equation (29) is due to the reference point chosen. It indicates that\nfor a clockwise (CW) 8, the developed torque will move the rotor in a counterclockwise\n(CCW) direction.\n\nPM Stepping Motor Single-Step Analysis\nA schematic representation of the P M stepping motor is shown in figure 7. The\nvoltages supplied to the stator windings a r e given by\ndIl(t)\nEl(t) = FtIl(t) + L dt\n\n+\n\n12\n\nE2(t) =\n\ndI2(t)\n\nm2(t)+ L dt\n\n+\n\nEv\n\nThe induced voltage E, generated in the stator is due to the magnetic rotor moving relative to the stator magnetic poles.\nIt is assumed that the rotor velocity vector remains perpendicular to the stator flux\nduring the entire step. However, due to the geometry of the stator, the magnitude of the\nstator flux density is distributed in the stator. When this distribution is assumed to be\nsinusoidal and Maxwell\xe2\x80\x99s equations are used, the induced voltage can be given by\n\nThus, the differential equation for the stator voltage per winding becomes\n\nIn responding to a step command, the developed torque produced by the motor must\novercome the mechanical load placed on the rotor. The mechanical load includes\n(1)The inertial torque Jb2cp(t)/dtq, which includes the inertia of the motor and\nthe inertia of any load imposed on the stepping motor shaft\n(2) The viscous damping torque D[dcp(t)/dg, which includes the motor damping and\nany viscous damping on the motor shaft\n(3)Torque due to Coulomb friction Tf {kq(t)/dtl/Odcp(t)/dt\n(Coulomb friction is\ndefined as a friction independent of the magnitude of the relative velocity of the\nsurfaces in contact, but dependent on the direction of the relative velocity. )\n(4)External load torque applied to the motor shaft TL(t)\nIn referring to figure 7, the equation of motion of the P M stepping motor can be expressed by\n\nn}\n\nTD = KT12(t) cos e(t)\n\n- KTIl(t)\n\nsin e(t)\n\nde(t)\n--\n\nd26(t)\n-+N~~ dt2\nJ\n\nD\n\nd6(t)\nNRT dt\n\n(35)\n\n13\n\nFigure 7. - Schematic representation of permanent magnet stepping motor for a\nsingle step.\n\nLinearized Model\nEquations (33) to (35) are nonlinear differential equations because of the torqueproducing t e r m in each of the equations. These equations can be linearized about an\noperating point by expanding them in a Taylor s e r i e s (ref. 10) of the form\n\nIx2,o\n\nIX2,O\n\nLinearizing equations (33) to (36) results in\nKT12(t) cos O(t)\n\n- KTIl(t)\n\nsin O(t) = KT12,0 cos Oo - KT12,0 sin Oo AO(t)\n\n+ KT\n\n14\n\ncos do A I 2(t)- KTIl7\n\nsin Oo\n\nJ d2e(t) +--- D\nNRT\n\ndt2\n\nNRT\n\nde(t)\ndt\n\ndt\n\n+ -?!\n\n+\n\nN~~\n\nE2,\n\nI:({\n\n+ AE2(t) = RE2 90 + A12(tj + L\n\nE 190 + AEl(t) = RIIl,o\n\n+ AIl(t)l + L\n\n+ A[y])\n\n+3\n($)o\n\ncos\n\neo\n\nNRT\n\n{(2)o\n\n+-\n\n{($)o A P I\n\n+)]?[\nA\n\n+\n\nc:)\n\ns i n 80 A -\n\n$(z)o\n\n+-N2TC:)o\n\nsin eo\n\ncos \' 0\n\nTransfer Function About an Operating Point at Beginning of a Step\nThe linearized equations are first considered about an operating point at the beginning of a step. The constraining equation neglecting friction becomes\n\n15\n\n,\n\n......\n\n.\n\nNow assume that the voltage applied to winding 1 is held constant and the motor is stepped\n.\nby energizing winding 2 Assume the initial conditions\n\nAlso, since the voltage applied to winding 1 is being held constant, hEl(t) = 0. From the\ndifferential equation at the operating point\n\neo\n\n-KTI1,O sin\nEquation (42)establishes\n\n(42)\n\n= TL,0\n\neo at the beginning of the step\nT\nL,O\n\neo = sin-1\n\n(43)\n\n-KT1l, 0\nF o r an excursion about the operating point, equations (37)and (38)can be combined\n\nas follows:\nKT cos\n\neo\n\nA12(t)\n\n- KTI1,\n\nX\n\nA%\nL]\n\n+ ATL(t)\n\n(44)\n\nMaking use of the identities\n\nsin\n\neo\n\n=\n\nTL, 0\n\n-\n\n(45)\n\nKT1l, 0\n\nCOS\n\ne,\n\n=\n\n+ X , O\n\n2\n- TL,O\n\nV\n\nKT1l, 0\neqdation (44) can be written\n\n16\n\n(46)\n\n+-TL9\n\nAIl(t) - ATL(t)\n\n(47)\n\nI1,O\nAlso, equations (39) and (40), for an excursion about the operating point, can be written as\n\nAE2(t) = RA12(t) + L A\nA\n\n[]\ny\n\nA transfer function relating rotor position, stator voltage, and load torque can be derived by taking the Laplace transforms of equations (47) to (49). The derivations of the\nLaplace transformations are found in appendix B. The resultant linearized transfer function about an operating point at the beginning of a step is as follows:\n2\n\nKT$\n\n-\n\n:o\ni\n\n[m2(S)\n\n+%]\n\n- (R\n\n+ LS)\n\nKT\xe2\x80\x99l. 0\n\nAO(S) =\n\n,f\noT\n\nJLS3 + (DL + J R ) S ~ t R +KTKV +LKT1l, Of\n+\nN~~\n\n=TI 1\n\nK\xe2\x80\x99,0\nTl\n\nis 0, equation (50) can be reduced to\nIf the initial load torque T\nL, 0\n\nKT k 2 ( s ) +\n\nAO(S) =\nJLT3\n\n+\n\n\xe2\x80\x9821\nS\n\n-\n\n(R\n\n+ LS) ATL@)\n(51)\n=T1l,\n\n0\n\n17\n\n1 1 I 1111\nl111l\n\nII\n\nEquations (50) and (51) show that the resultant linearized transfer function about an operating point at the beginning of a step results in a third-order system. The resultant\nlinearized transfer function can be used to examine the effect of an initial value of load\ntorque on the step response. It can also be used to examine the effects of inductance,\ngenerated back electromotive force (emf), inertia, and damping on the step response.\nHowever, the choice of an operating point at the beginning of a step makes experimental\nverification of the resulting model difficult.\n\nTransfer Functions About an Operating Point at End of a Step\nConsider the transfer function of the P M stepping motor about an operating point when\nthe motor is in equilibrium at the end of a step with both phases energized. This operating point is chosen because the resulting transfer function can be easily verified experimentally. At the end of the step, the initial conditions are Bdu)/(dt)lo = ed20)/(dt2)lo = 0\nand 11, = 12, = I. For an excursion about the operating point the constraining equation\nat the operating point is\ncos\n\neo - KTI1,\n\ncos\n\nKT12,\n\nL, 0\neo - sin eo = -\n\nsin\n\neo\n\n=\n\nTL,\n\n(52)\n\nor\nT\n\n(53)\n\nKT1\nEquation (53) establishes eo. If TL, = 0, then\nabout the operating point equating friction are\n-KTIIIsin\n\neo + cos eo]\n\nAe(t)\n\n+ K~\n\ncos\n\neo AI^(^) - K~\n\nAE2(t) = R M2(t) + L\n\n18\n\neo\n\n= 45\'.\n\nsin\n\nThe linearized equations\n\neo Ml(t)\n\ncos\n\neo ]?[\nA\n\n(55)\n\nI\n\nAEl(t) = R AIl(t)\n\n+L\n\nA\n\nsin\n\neo ]?[\nA\n\nThe Laplace transformations of equations (54) to (56) are\nKT cos Oo AI2@) - KT sin Go AI1@)\n\n-\n\nATL@)\n(57)\n\nAQiS) =\n\\\n\nI\n\nJS2\nN~~\n\nDS\n+ -+ K\n\n~k I n\ni\n\neo + cos eo]\n\nN~~\n\n0\nAE2(S) + 2 -cos OoS Ae(S)\n- Kv\nN~~\n~A q S )=\nR + LS\n~~\n\n5\n\nAE1(S) +0\nA - BoS A@)\nsin\n\ns\n\nq s )=\n\nN~~\nR + LS\n\n(59)\n\nCombining equations (57) to (59) gives the resultant linearized equation for both phases\nenergized about an operating point at the end of a step\nKT cos\n\nR\n\nAe(S) =\n\nJS2\n\nNRT\n\neo\n\n\xe2\x82\xaco\nl\n\n+ LS\n\n+- DS\n\n+\n\nNRT\n\nR\n\nS\nKTKv\n\n(,os 2\n\n+ LS\n\n__-\n\n~~\n\nS\n\neo - sin2 Bo) S + KTI(sin eo + cos\n\nNRT(R+LS)\n\nF o r no initial load torque (TL, = 0), the constraining equation (eq. (53)) yields\n= 45\'.\nThus,\n\no]\n\n0*70mT[\nR + LS AE2(S) +L7 0LST ~ 1 ( S )\n- 0R + x\n\'\n\n+?d-\n\nAT L (s)\n\nAe(S) =\nc)\n\nJ s L +NRT\n\nDS +&KTI\n\nN~~\n\n19\n\nFor load torque disturbances about the operating point at the end of the step and the initial\nload torque equal to 0, the transfer function is a second-order system\n\n3\n\n+-+JS\n\nJ\n\nThis result is important for two reasons. First, it allows the stepping motor to be described in t e r m s of a natural frequency and damping ratio. Second, these parameters\ncan easily be determined experimentally.\n\'\n0\n9\nEquation (62) has been developed in t e r m s of 8, such that one step equals .\nEquation (62) can be written in t e r m s of the actual mechanical degrees for a particular\nstepping motor. Since\n\nJ\n\n.\n\nJ\n\nit follows that\n\nJS\n\nJ\n\nThe natural frequency obtained from equation (64) is given by\n\nThe natural frequency of the P M stepping motor is increased by\n(1) Decreasing the inertia\n(2) Increasing the number of rotor teeth\n(3) Increasing the magnitude of the stator current\nThe upper bound on the natural frequency due to inertia is often limited by the load inertia. However, minimizing the rotor inertia increases the natural frequency when the load\n\n20\n\ninertia is not the limiting factor. The natural frequency of the stepping motor can also be\nexpressed in t e r m s of the stall torque TS with both phases energized\nTS = v 2 KTI\nThus,\n\nwN=\n\nd,gTs\n\nThe damping ratio of equation (64) is given by\nD\n2CWN = J\n\nThe damping ratio is increased by increasing the viscous damping, o r by decreasing the\ninertia. The damping ratio is decreased by increasing the number of rotor teeth o r by\nincreasing the maximum torque by increasing the stator current.\nThe natural frequency and the damping ratio of the linearized model of the P M stepping motor can also be evaluated by considering a small change in A0 from the equilibrium point. Consider the linearized equations about the point of stable equilibrium with\nthe stator current held constant and no applied load torque. The linearized equations reduce to\n\n-K TI(sin\n\neo + cos\n\nJGo) AO(t) = - A\nN~~\n\nThe Laplace transform of equation (70) is\n\n21\n\nJ\nFor a small initial displacement AO(0) and initial conditions Oo = 4\n5\n\'\n2O/dt 2)o = 0, equation (71) can be rewritten as\nA[dO(O)/dt] = (dO/dt)O = (d\n\nand\n5\n\n-\n\nN G ~ T ~ AO(S) = (JS2 + DS) AO(S) - (JS + D) AO(0)\nK I\n\nwhere\n\n(S\nAO(S) =\n\n):+\n\nAO(0)\n-.\n\n-\n\n(73)\n\n.\n\nJS\n\nJ\n\nEquation (73) can be used to evaluate the natural frequency and the damping ratio of the\nlinearized model about the stable equilibrium point.\n\nPHASE PLANE ANALYSIS\nThe linearized mathematical model of the PM stepping motor was developed to analyze the single-step response of the PM stepping motor. For multistep operation, the\nresponse of the PM stepping motor for a given load torque is governed by\n(1)The rate of the input pulses\n(2)The current transients in the stator windings\n(3) The mechanical parameters of the rotor\nThe linearized model cannot be used to analyze multistep responses because the model\nfails to account for motor failures caused by excessive input stepping command.\n\n22\n\nThe transient response of the stator current has a significant effect on the stepping\nmotor response as the stepping rate is increased. Even if the back emf induced in the\nstator is not significant, the current turnon transient affects the maximum torque developed by the motor. Consider the electrical (L/R) time constant of the stator windings.\nIf the time between the application of step commands approaches this time, the current\nwill not reach its expected value. The maximum torque developed by the motor is reduced, and thus, the natural frequency of the stepping motor is reduced. The amount of\nload torque which the motor can step against is also reduced.\nIn general, stepping motor drive circuits are designed to compensate for stator current transients. The drive circuit tends to act as a constant current source by controlling the stator current independently of the inductance o r generated emf. A typical constant current drive source used to compensate a stepping motor is presented by Zeller\n(ref. 11).\nFor multistep analysis, it is assumed that a drive circuit is used which approximates\na current source for stepping motors. The stator currents are assumed to be constant\nand to hzve magnitudes equal to I o r -I during each step.\n\nAnalytical Model Assuming Constant Current Source\nThe assumption of a constant current source simplifies the analytical model of the\nP M stepping motor. It also permits the response of the motor to be studied f o r a s e r i e s\nof input pulses. Because the current is independent of dI(t)/dt and dO(t)/dt, the stator\nwinding equations become\nEl = d R\n\n(74)\n\nEa = *IR\n\n(75)\n\nThe sign in each equation is determined by the input pulse sequence.\nThe differential equation of rotor motion can be reduced to a second-order nonlinear\ndifferential equation. For the rotor at the equilibrium position, the developed motor\ntorque has been shown to be\n\nA step command requires that the rotor angle 8 advance .\n\'\n0\n9\ngenerated by the motor to accomplish this step is given by\n\nThe developed torque\n\n23\n\nT~ = K ~ sin\nI\n\n{ 9\'\n0\n\n- [e(t) - 4 5 g } + KTI sin {goo - [O(t) + 45O]}\n\n(77)\n\nor\n\n-\n\n+sink5O -\n\n0(tU\n\n0(t]}\n\nEquation (78) reduces to\n\ncos 0(t)\n\nTD = &KTI\n\n(79)\n\nEquating equation (79) to the mechanical load of the motor results in\n\nJ\nd20(t)\nh K T I cos 0(t) = -___ +-- D\nNRT dt2\nN~~\n\n\\\n\n-\n\n-\n\nN-\n\n-\n\n//\n\n/\nA~\n\nStator\nwinding 2\n\nI\n\n~\n\n~~\n\n+ -sf\nI\n\n\\45"\n\n+ TL(t)\n\n/\n\ndt\'\n\n/\n\nI \\\n\n/\n\ndt\n\nTf\n\nJ\n\nI\n\nRotor command\nposition, step 2\n\n+\n\nStator\nwinding 2 7\n\nRotor command\nposition, step 1\n\n\\.\n\n/\n\ndO(t)\ndt\n\nRotor initial position\nRotor command\nposition, step4\n\n\\\n\nRotor command\nposition, step 3\n\n5\nV\n\n\\\n\nwinding 1\nStator\n\n\\\n\nFigure 8. - Schematic representation of rotor command positions. Multistep operation.\n\n24\n\nMultistep Analysis Assuming Constant Current Source\nEquation (80) can be extended to include multistep operation. Each step command\ncalls for the rotor equilibrium position to shift by 90\'.\nExamine figure 8 and assume the\n.0\nThe equations for the developed torque for a s e r i e s of steps are\nrotor is initially at\'\nthen\nStep 1:\n\nT~ = K ~ sin\nI\n\n{ 90\'\n\n- [e(t) - 45q} + K\n\n~ sin\nI\n\n{ 90\'\n\n- [e(t)\n\n+4\n5\n\'\n1\n)\n\n(81)\n\nStep 2:\n\nT D = KTI sin\n\n{ 180\'\n\n- [e(t) - 45.1) + KTI\n\nsin\n\n{ 180\'\n\n- [O(t) + 45.1)\n\n(82)\n\nStep 3:\n\nT D = KTI sin\n\n{ 270\'\n\n- [O(t) - 4501) + KTI\n\nsin\n\n{ 270\'\n\n- [e(t) + 45j}\n\n(83)\n\n(84)\n\nStep 4:\n\nStep 5\n:\n\nT D = KTI sin {450\xc2\xb0\n\n- [O(t) - 45.1) + KTI\n\nsin\n\n{ 450\'\n\n- [O(t) + 45q)\n\n(85)\n\nand s o forth. These equations reduce to\nStep 1:\n\nStep 2-\n\nT~ =\n\nf\n\ni sin ~\ne(t)\n\n~\n\n~\n\nStep 3:\n\nStep 4:\n\nT~ =\n\n-I\n\n~ K sin e(t)\n~ I\n\nStep 5\n:\nand so forth. The basic equation for multistep operation becomes\n\n25\n\ndW)\n\nG K s~ E c - e(t,l\nin I\n\nJ d20(t)\n--+-- D dO(t)\nNRT dt2\nNRT dt\n\n(91)\n\nNormalized Model for Multistep Operation\nThe second-order nonlinear differential equation obtained in equation (91) lends itself\nto phase plane analysis. This equation can be considered as the transient solution to a\ns e t of initial conditions. By specifying the initial conditions O(0) and dO(O)/dt, the solution for all positive time is completely determined. An advantage of the phase plane\nanalysis is that trajectories representing the transient solution of the equation can be determined without solving the equation for the dependence of position on time.\nEquation (91) can be normalized to reduce the number of parameters. By using the\nlinearized analysis, the normalization can be performed to allow the use of experimental\ndata. Dividing equation (91) by the stall torque TS = 2 K I results in\nT )\n\n(\n\nsin[Oc\n\n- e(tj =\n\nd-\n\nJ\nd20(t)\nD\ndW)+\nf i K T I dt 2 NRT G K T I\ndt\nN~~\n+\n\ndt\n\nTf\n\nd-2 K\n\nI\n\nTL\n\nI 1\'\n\nGKTI\n\n(92)\n\ndt\n\nRecall that the natural frequency of the linearized second-order model is given by\n\nEquation (92) can be simplified by defining a new time parameter in t e r m s of the natural\nfrequency :\nT = W\n\nNt\n\n(94)\n\n(95)\n\n26\n\nEquation (97) can also be defined in t e r m s of the damping ratio\n\nV\n\nJ\n\nor\n\nD = 2{\n\n(99)\n\nAlso, normalizing the friction and load torques gives\n\nTf =\n\nTf\n\n- -Tf\n_\n\n$KTI\n\nTS\n\n+KTI\n\nTS\n\nand\n\nTL =\n\nThus, equation (92) can be written with 8 and BC specified in radians\n\n(102)\n\nTime can be eliminated from equation (102) by defining\n\n27\n\nRewriting equation (103)in t e r m s of position 8 and velocity V results in\n\ndV\nsin(OC - 6 ) = V - + DV\nde\n\nv\n+ Tf - -\n\nThe phase plane solution to equation (104)is a plot of velocity V as a function of position 8. The initial conditions V(0) and e ( 0 ) locate an initial point in the phase plane.\nThe trajectory through this point describes the response of equation (104)for all positive\ntime. The slope of the trajectory is given by\n\nF o r a given motor with a specified value of friction, the slope of the trajectories is a\nfunction of three variables,\n\nThus, the unique response to a s e t of initial conditions must be specified in t e r m s of the\nload torque, assuming that the motor is loaded by a speed independent torque of magnitude TL. In the normalized equations, 8 and 8, must be specified in t e r m s of radians.\n\nPhase Plane Analysis by Delta Method\nThere are several graphical methods to determine the phase plane trajectories. F o r\nsingle-step analysis, the most convenient method is the delta method (ref. 10). The delta\nmethod assumes that the trajectories can be approximated by a r c s of circles with origins\non the &axis. In figure 9(a), 6 gives the center of a circular a r c through point P1.\nComparing similar triangles,\n28\n\n-6 =\n\ndV\ne +vdB\n\nTo determine a trajectory using equation (108), first select a point P1 and solve for\ndelta. The value of delta will determine the center of an a r c rc that will pass through\npoint PI. Notice that the center of the a r c always lies on the &axis. After drawing a\nsegment through point P1, select a point P2 on the segment. Compute a new delta and\nnew a r c center, etc. Figure 9(b) illustrates the method. Using equation (104) with\nV\n\nI\n\nr-\n\n(a) Determination of center of circular arc through p i n t P i .\n\n1\n.\n\nO\nr\n\n-.51\n0\n\nI\n\n1\n\n-\n\n1.0\n1.5\nRotor position, rad\n\n.5\n\nI\n\nI\n\nd\n\n0\n\n45\nRotor position, deg\n\n2.0\n\n90\n\n(b) Use of delta method.\nV dVld0 = coS(0 - V).\nFigure 9.\n\n- Graphical solution of a phase plane trajectory by delta method.\n\n29\n\n-\n\nV(0) = e(0) = Tf = TL = 0, Bc = a / 2 , and D = 1 . 0 results in\n\n- -dv - cos\nde\n\ne-v\n\ne + v-dV = e + COS e -\n\n-6 =\n\nde\n\nv\n\nThe process for computing the trajectory continues until the equilibrium point is reached.\nTime can be computed along the trajectory (ref. 12). The relation between time, position, and velocity is given by\nT =\n\n/L\n\nde\nV\n\nFor a segment along the trajectory,\n\nTN+l\n\n-\n\nTN =\n\ne\n\'av\n\nor\n\'N+1\n\n-\n\n-\n\n\'N+1\n\' =\nN\n\n- (vN+l\n2\n\n\\\n\n_-\n\n%\nJ\n+ vN)\n\nThe tota time is the summation of the increments of time along the entire trajectory.\nSingle-step response. - For a single-step response the phase plane is useful in analyzing\n(1) The transient response to a s e t of initial conditions\n(2) The effect of load torque TL on the transient response\n(3) Other nonlinear effects, in particular Coulomb friction, provided they a r e built\ninto the model\nThe equation for a single-step response was given in equation (104) as\nsin(Qc-\n\n-\n\nv\ne) = V-dV + - + Tf DV\n\n-\n\nde\n\n-\n\n-\n\nThe step response will first be analyzed for Tf = TL = 0. Equation (114) reduces to\n\n30\n\n1\n\nsin( OC\n\n-\n\n-\n\ndV\n0) = V - + DV\nde\n\nAssume that the rotor is initially at rest and that the step command will move the rotor\n0\n\'\nfrom\'0 to 9 as shown in figure 8. The equation for the step becomes\n\n- e)\n\nsin(:\n\n=\n\nv -+dV DV\nde\n\nor\nCOS\n\ne = v-dV + D V\nde\n\nFor a given value of the normalized damping ratio D, equation (117) describes a trajectory in the phase plane for a given set of initial conditions.\n\nNormalized\n\n-1.01\n0\n\nI\n\nT\n\n1.0\n1.5\nRotor position, 8, rad\n\n.5\n\nL\n\n0\n\nNormal ized\ntime,\n\nI\n45\n\n2.0\n\n2.5\n\nI\n90\nRotor position, 8, deg\n\nFigure 10. - Effect of normalized damping on single-step response. Normalized frictional torque Tf, 0; rotor command position BC, 1.57 radians.\n\n31\n\nFigure 10 shows the effect of D on the step response. Increasing D makes the response l e s s oscillatory and increases the rise time for each step response. In figure 10,\nthe normalized time is given for each step response when 8 reaches 1.50 radians o r\nabout 95 percent of the command value of 1.57 radians (90\').\nThe normalized time varies from 1.97 to 5.74 as D varies from 0.25 to 2.0.\nEffect of load torque. - The addition of load torque causes an offset in the equilibrium position of the rotor. Load torque also slows down the step response. With load\ntorque applied, the initial position of the rotor is determined by the equilibrium point of\nthe previous step, Figure 11 illustrates this effect. Figure ll(a) shows the developed\nmotor torque when TL = 0. Assume the equilibrium position with no load torque before\nthe step command is given is 0\'. The previous step command required to reach this position is given by\nsin(O0 -\n\n-\n\ndV\ne) = v - + DV\nde\n\nor\n-sin 0 = V-dV\ndB\n\n-\n\n+ DV\n\nThe equilibrium position is given by\n-sin\n\ne=\n\n1\n\n0\n\nor\n0 = Oo(O radians)\n\nJ\n\nThese form the initial conditions for the next step. Notice that at this position no motor\ntorque is developed. If the rotor is moved about this point, the motor develops a torque\nwhich tends to drive it back to the point of equilibrium. When the next step is commanded, maximum motor torque is applied to the rotor for acceleration. A s the rotor\nmoves toward 90\xc2\xb0, the amount of available torque is reduced until the 90\' position is\nreached. At this point, the developed torque is again 0.\nFigure l l ( b ) shows the developed motor torque for a normalized load torque of 0.4.\nThis shift is due to the\nF o r the previous step, the equilibrium position has shifted 23.6\'.\nfact that some motor torque is required to hold the load torque. The initial equilibrium\nposition of -23.6\' was determined from\n-sin\n\ne = V?\n\nde\n\n32\n\n+DV\n\n+ 0.4\n\n(121)\n\n2\n\nDeveloped motor torque\nagainst position before\nstep command\nDeveloped motor torque\nfor step command\n\nUsable torque for\n\ne\nInitiall,\nI\n-90\n\nFinal\n0\n\n90\n\n1\n\nUsaole torque for TD\nacceleration\n\n\\\n\n\\\n\n+\n\n-e\n\n\\\n\n0\n\n-90\n\n90\n\n(b) TL = 0.4.\n\nNo torque available\nfor acceleration.\nMotor cannot step7\n\nlTD\n\nI\nInitial\n\n0\n\n-90\n\n90\n\nRotor psition, deg\n(c) TL\n\n=\n\n0.707.\n\nFigure 11. - Effect of.normalized load torque TL on developed\nmotor torque for a step command. Arrows indicate direction\nin which developed motor torque acts.\n/\n\n33\n\nWhen the rotor reaches equilibrium,\n-sin 0 = 0.4\n8=\n\n- 23.6\'(0.645\n\nradians)\n\nThe shifted equilibrium position reduces the amount of motor torque that is available to\naccelerate the rotor to the next step. The torque that is available for acceleration is\ngiven by\nCOS\n\n8- T\n\n-\n\n= V-dV +DV\n\nde\nThe amount of motor torque available f o r acceleration decreases with increasing load\ntorque until TL = 0.707. From figure l l ( c ) for a load torque of 0.707, the rotor position\nWhen the next step is commanded,\noffset is 45\'.\ncos(:\n\n-\n\n0.707) = V\nd8\n\n+ GV\n\ndV DV\n0 = V -+de\nthere is no motor torque available to accelerate the rotor, and a step command cannot\nbe accomplished. The motor can statically hold a load torque equal in value to the stall\ntorque of the motor. But the motor cannot step a load torque that is equal to o r greater\nthan 0.707 of the motor\'s stall torque TS. Thus, a normalized load torque of 0.707 will\ncause the P M stepping motor to fail to respond to a step command.\nFigure 1 2 shows the step response in the phase plane for various values of load\nis given as 1.0. Notice that although the initial and final\ntorque. Normalized damping\nrotor positions are offset by the load torque, the distance between these positions is 9\n0\n\'\n(1.57 radians). Thus, load torque does not alter the size of the step, just the initial and\nfinal positions of the rotor.\nFigure 1 2 illustrates the effect of load torque on the speed of response. The maximum velocity reached is reduced with increasing load torque. This is a direct result of\nthe available motor torque to accelerate the rotor. Notice that with increasing load\ntorque the amount of position overshoot is reduced. Also shown in figure 1 2 is the normalized time for the rotor to move 50 percent of its step. The time is increased with increasing load torque.\n\n34\n\n1.0-\n\nT\n\nB (1.33) 7,\n\\\n\nA (1.581\n\n5\n2\n\n0\n\n-45\n\n45\n\n90\n\nRotor position, deg\nFigure 12. - Effect of normalized load torque o n single-step response. Normalized damping, 1.0; frictional torque, 0.\n\nNormalized\n\nRotor position, 8, rad\n\nI\n0\n\nI\n\nI\n\n45\n90\nRotor position, 8, deg\n\nI\n135\n\nf i g u r e 13. - Effect of normalized Coulomb friction on single-step response\nwithout load torque. Normalized damping, 0.5; normalized load torque, 0.\n\n35\n\nEffect of Coulomb friction. - Coulomb friction changes a given step size. Figure 13\nillustrates the step response for various values of Tf with TI; = 0 and D = 0.5. N e a r\nthe command position, the developed motor torque becomes small. If Tf > cos 0 when\nV = 0, the friction will hold the rotor, causing an offset from the command position.\nThus, the equilibrium position l i e s in a band about the command position. The size of\nthe band is determined by the amount of friction present. The speed of response is also\nreduced by friction. The reduction is small, however, unless a large amount of friction\nis present.\n\n-!\n\n1.or\n>\n\nI\n\nNor mal ized\n\n0\n\n-.5-.5\n\n0\n\nI\n\n0\n\n.5\n1.0\nRotor position, 0, rad\n\nI\n\n45\nRotor position, 0, deg\n\n1.5\n\n2.0\n\nI\n\n90\n\nFigure 14. -Effect of normalized Coulomb friction o n single-step response\nwith load torque. Normalized damping, 0 2 normalized load torque, 0.5.\n.;\n\nCombined effects. - Figure 14 illustrates the effect of friction combined with load\ntorque. The effects are similar to those experienced with load torque alone. The final\nrotor position for a given step is determined by the values of load torque and friction\npresent. The effect of Tf on stepping motor operation will not be considered further in\nthis report since the frictional torque magnitude is generally small and its effects a r e\nsomewhat similar to the load torque effects.\nMultistep analysis. - The real advantage of using the phase plane in analyzing the\nstepping motor is that the analysis can be extended to include multistep operation. In\nmultistep operation, each input step to the motor commands the rotor to move to a new\n0\n\'\nposition 9 away from the existing command position. The dynamic equation that relates the motor movement is equation (104). If the time between the application of input\nsteps is long, the rotor may reach the new point of equilibrium before the next step command is applied. A s the rate of step commands is increased, the rotor may not reach\nthe new equilibrium point. At the instant the next step command is applied, the position\n\n36\n\nand velocity of the rotor form initial conditions for the new equation of rotor motion. The\nstep commands are applicable to unidirectional o r bidirectional rotor movements.\nThe phase plane f o r multistep analysis can be considered as a s e r i e s of trajectories\nfor each possible dynamic equation given by the step commands. Time is computed along\nthe trajectories and is used to indicate the time for the application of the next step command. A s an illustration, consider the following s e r i e s of input commands with Tf = 0:\n\ndV\nL\n= C O S ~ = Ve + D V + T\nd-\n\nStep 1:\n\nStep 2:\n\nsin(n- -\n\n-\n\ne) = sin e = v dV + DV\n\n+ T~\n\ndB\n\nStep 3:\n\n-\n\nStep 4:\n\nStep 5:\n\nsin(27r\n\ndV DV\n- e) = -sin e = v - + - + TL\nde\n\n-\n\nsin(:\n\n8>\n\n=\n\ncos\n\ne\n\ndV = v-dB +Dv\n\n-\n\n+ TL\n\nFigure 15 shows a phase plane portrait for this s e r i e s of steps. The trajectory is for\nD = 0 . 2 5 and TL = 0. Consider a normalized stepping period of AT = 1 . 3 1 .\nThe step commands a r e applied at the following normalized times:\nStep 1:\n\nT =\n\n0 , 6 = 90\nC\n\nStep 2:\n\nT=\n\n1.31, BC = 18Oo(n radians)\n\nStep 3:\n\nT=\n\n2.62, 8C = 270\n\nStep 4:\n\nT =\n\n3.93, Bc = 360\xc2\xb0(277 radians)\n\nStep 5:\n\nT =\n\n5.24, 8C = 4\n5\n0\n\xc2\xb0\n(\n:\n\nradians)\n\n37\n\n2-\n\n5\n\nL\nc\n0\n\ne\n\n-1Command position:\n\nFirst step (90")\n\nSecond step (180")\n\nI\n\n-2\n\nT h i r d step (270")\n\nFourth step (360")\n\nI\n\n~~\n\nFifth step\n(450")\n\n-I\n\nI\n\nStep 5\n\nI\n\nI\n\nSecond step\n\nFirst step\n(90")\n\nCommand\nposition:\n\nI\n2\nFigure 16.\n\n38\n\n-\n\nI\n\nFourth step\n(360")\n\nThird step\n(270")\n\n( 180")\n\nI\n\n4\n3\nRotor position, 8, rad\n\nI\n\n5\n\nI\n\n6\n\nPhase plane portrait for multistep input with normalized load torque equal to 0.2.\n\nFifth step\n(450")\n\nI\n7\n\nI\n\n8\n\nThe initial conditions for step 1 are V(0) = 0(0) = 0. The trajectory is governed by\nequation (126)and is shown in figure 15 between 0 = 0, V = 0, and point A. At point A ,\nthe total response time T is 1.31, and step 2 is applied. The values of V and 0 at\npoint A become the initial conditions for the response of step 2. The equation governing\nstep 2 is equation (127). The trajectory moves from point A to point B. A t point \xe2\x82\xac3, the\ntotal time T is 2.62. The third step command is applied and is governed by equaf\ntion (128). The values o V and 0 at point B become the initial conditions for equation (129). This process is continued for each step applied. The rate of stepping can be\nchanged by simply changing the time between steps A T .\nThe dashed trajectories in figure 15 show the phase plane trajectories if the succeeding commands are not applied. Curve OA\' is for a single-step command, OB\' is for\na two-step command, and so forth. The response is oscillatory in each case, but each\ntrajectory reaches its correct command position. The oscillations of the trajectories\nas they approach the equilibrium position are a function of the maximum velocity reached\nduring the stepping sequence.\nFigure 16 is a phase plane portrait of the same stepping sequence but with a load\ntorque TL of 0.2. The addition of load torque causes the rotor velocity to build up at a\nslower rate than in the case of no load torque. Without load torque, the rotor velocity\npeaks during the third step. With the load torque, the velocity does not peak until the\nf i f t h step. The dashed trajectories in figure 16 show the phase plane trajectories if the\nsucceeding commands are not applied. A comparison of these trajectories clearly shows\nthe applied load torque slows down the speed of response.\n\nPhase Plane Analysis by Method of Isoclines\nThe phase portrait for the differential equation of the P M stepping motor can be used\nto determine whether the stepping motor will fail for a given stepping rate with a given\nvalue of load torque. The delta method provides a convenient way of constructing the\nphase trajectories for a given set of initial conditions and lends itself to computer solution. However, the entire family of phase trajectories can be graphically examined by\ndeveloping the phase portrait using the method of isoclines (ref. 12). This method develops the phase plane by plotting curves, called isoclines, of constant trajectory slope.\nThe slope of the stepping motor differential equation is given by\n\nd0\n\nV\n\nThe slope of the differential equation must be specified in terms of a given D and TL.\n!\n\n\\\n\n39\n\nI 1111 111ll1\nl 111 111l l\n1\nll1\n\n1l111l111lII1 I IIIII\n1\nl\n\nThe value of 5 is determined by the specific system in which it is applied. F o r the following analysis, D is chosen as 0.25. The load torque will be neglected in the following\nanalysis. For a step command of 90\xc2\xb0, the slope is given by\n\nFigure 17 shows a plot of the isoclines f o r equation (132). A phase trajectory, for a\ngiven s e t of initial conditions, is plotted by connecting short line segments with theproper\nslope at intervals along the isoclines. A trajectory with initial conditions O(0) = 0 and\nV(0) = 0 is plotted in figure 17.\nFigure 17 shows the existence of singular points in the phase plane. A singular point\nis a representative point (eo, Vo) in the phase plane f o r which (dO/dt) = (dV/dt) = 0\n(ref. 12). For a singular point, the direction of its tangent is indeterminate, and its trajectory degenerates into the singular point itself. From figure 17, the singular points\n\n/\n\xe2\x80\x9d\n\nI\n\n-2\n\nI\n\n-90\n\nI\nI\n\n0\n\nFigure 17.\n\n40\n\nI\n\nI\n\n1\n2\nRotor position, 8, rad\n\nI\n\nI\n\nI\n\nI\n\n3\n\n4\n\n5\n\n6\n\nI\n\n90\nRotor position, 8, deg\n\n- Isoclines for\n\ndV/&\n\n=\n\ncos 8 - 0.25.\n\nI\n\n180\n\n.I\n\n270\n\n- --\n\n&\n\n,,-Trajectory\n\ne\n\n(b) Saddle pint. Indicates\nsingular p i n t of un-\n\n(a) Focal p i n t . Indicates\nsingular p i n t of stable\n\nstable eguilibrium.\n\nRotor oosition.. 0. rad\n.\n\nI\n\nI\n\nI\n\nI\n\n-270\n\n-180\n\n-90\n\n0\n\nI\n\nI\n\nI\n\nI\n\n270\n360\nRotor p s i t i o n . 0, deg\n\n90\n\n180\n\nI\n\nI\n\nI\n\n450\n\n540\n\n630\n\n(cl Singular p i n t locations for stepping motor equation.\nFigure 18. -Types and locations of singular p i n t s for normalized stepping motor\nequation.\n\nare found, for example, at e = *goo, *270\xc2\xb0, and *450\xc2\xb0. The singular points for these positions a r e either focal points o r saddle points (ref. 13). Focal points a r e singularities in\nwhich trajectories approach in a decreasing s D i r a l manner, as shown in figure 18(a).\nFocal points form points of stable equilibrium for the stepping motor. Saddle points are\nsingularities which are approached by trajectories forming distinct sectioned curves, as\nshown in figure 18(b). Saddle points form points of unstable equilibrium. Figure 18(c)\nshows the alternating locations of focal points and saddle points. The focal points are\n30 apart and 180\' from the saddle points.\n6\'\nMultistep analysis. - Multistep operation can be analyzed for a given stepping sequence by plotting the isoclines of the resulting equations for the desired step commands.\nF o r a given stepping sequence, set of initial conditions, and stepping rate, the phase trajectory is developed by selecting the set of isoclines corresponding to the given step command. The phase trajectory is then drawn from the initial conditions. Time is computed\nincrementally along the trajectory. When the computed time equals the stepping period\nfor the given command step, the next step command in the sequence is applied. The point\non the trajectory at which the computed time equals the stepping period becomes the ini41\n\nI\n\nI\n\nI\n\nI\n\n1\n\n-\n\nI\n\nI\n\n(a1 Phase plane p r t r a i t for r e s p n s e to step w m m a n d s 1 and 5. Wid6\n\n=\n\nw s 9IV\n\nI\n\nI\n\nI\n\n1\n\n- 0.25.\n\n-\n\nJ\n11\n\n1\n\n0\n\nI\n\n90\n\nI\n\n180\n\nI\n\nI\n\n270\nRotor p s i t i o n . 6.\n\n360\n\n1\n450\n\nI\n540\n\ndq\n\n[bl Phase plane p r t r a i t for r e s p n s e to step command 2. dVldB = sin BIV - 0.25\nFigure 19. - M u l t i s t e p sequence lor change in normalized time h T o f 1.31.\n\n42\n\nQ\n\n4\n\n3\n\ni\n\n1\n\nI\n\n>\ni\nc\n0\n"\nm\n\nI\n\n-\n\nI\n\nI\n\nI\n\nI\n\nI\n\n(c) Phase pldne portrdit for response to step command 3. dVld8\n\n>\n\n=\n\nI\n\nI\n\nI\n\n-cos 8IV - 0.25.\n\nL\n\n0\n\nn\nm\nN\n\n.m\nE\nz\n\nI\n1\n\nG\n0 .I\n\nI\n\nI\n\nI\n\nI\n\n~\n\nII\n\nI\n\nI\n\nI\n\n1\n\n2\n\n3\n\n4\n\n5\nRotor position, 8. rad\n\nb\n\n7\n\n8\n\n9\n\n10\n\n90\nI\n\n180\nI\n\n270\nI\nRotor p s i t i o n , 8. deg\n\n360\nI\n\n(dl Phase plane portrait for response to step command 4. dVlffi\nFigure 19.\n\n11\n\n04\n450\n=\n\n-sin 0IV - 0.25\n\n- Concluded.\n\n43\n\ntial condition for the next step command. The trajectory for this step command is plotted\nby using its corresponding s e t of isoclines. Time is computed along the trajectory and\ncompared with the stepping period to determine the application of the succeeding step\ncommand. This method is continued for the given stepping sequence.\nEffect of stepping rate. - Figures 19(a) to (d) show the effect of stepping rate.on the\n, ability of the P M stepping motor to follow a set of sequential step commands. These figu r e s show phase plane plots developed by the method of isoclines and consider the set of\nsequential step commands that were developed in equations (126) to (130). The equations\nfor the slope of the trajectories with\n= 0.25 and TL = 0 are\n\n\'(i\n\n::-\n\n)-,\n\nStep 1:\n\n8 = 90 - radians\n\n-- e\ncos\nV\n\n0.25\n\nStep 2:\n\ndV sin\n8 = 1800 ( T radians); - = -- 8\nC\nd8\nV\n\no.25\n\nStep 3:\n\nStep 4:\n\nStep 5:\n\nC\n\n-\n\n8 = 270 - radians\nC\no\n(\n:\n\ncos\nV\n\ndV\n8 = 360 0 (277 radians); - =\nC\n\nde\n\n) *,\n\nradians\n\nC\n\n--sin\n\ne\n\n8 - o.25\n\nV\n\n::--\n\n--\n\n0.25\n\n-- e\ncos\n\n0.25\n\nV\n\nFor the sequential step commands, again consider a normalized stepping period of\nAT = 1.31. Recall that the step commands a r e applied at the following normalized times:\nStep 1:\n\nStep 2:\n\nT =\n\nT =\n\n0; 8 = 90\nC\n\n1.31; 8, = 180\xc2\xb0(r radians)\n\nStep 3:\n\nT=\n\n2.62; 8C = 270\n\nStep 4:\n\nT=\n\n3.73; OC = 360 (277 radians)\n\nStep 5:\n44\n\nT=\n\n0\n\n5.24; 8C = 450\n\nThe trajectory for the response to this\nStep 1 calls for a position command of 90\'.\ncommand is shown in figure 19(a). The rotor is assumed to be initially in equilibrium at\n8(0) = 0 and V(0) = 0. The trajectory is drawn from 8(0) and V(0) to point A. At\npoint A, the normalized time T is 1.31, and the command f o r step 2 is applied. Step 2\ncalls for a position command of 180\'.\nThe trajectory for the response to this command\nis shown in figure 19(b) from point A to point B. At point B the computed time is 2.62,\nand the command for step 3 is applied. Step 3 calls for a position command of 270\'.\nThe trajectory f o r the response to this command is shown in figure 19(c) from point B to\npoint C. At point C the computed time is 3.93, and the command f o r step 4 is applied.\nStep 4 calls f o r a position command of 360\'.\nThe trajectory for the response to this command is shown in figure 19(d) from point C to point D. At point D the computed time is\n5.24, and the command for step 5 is applied. Step 5 calls f o r a position command of\n450\'.\nThe slope of the trajectory in response to this command is given by equation (137).\nThis equation gives the same result as f o r the slope of the trajectory in response to the\n90\' step command given by equation (133). Thus, the response for the 450\' position command can be shown in figure 19(a) from point D to point E. This procedure can be continued f o r plotting the trajectory in response to any additional step commands desired.\nFailure to execute commands. - Increasing the stepping rate decreases the amount\nof time in which the motor can respond to the step command. A s a result, the rotor\ntends to lag behind the command position until sufficient velocity is built up to allow the\nrotor to reach the command position. The rotor can dynamically lag behind the command\nposition by as much as 180\' (two steps) and still follow the command. But once the rotor\nfalls behind by more than 180\xc2\xb0, the motor cannot reach the correct command position.\nAs an illustration, consider the previous step sequence with the normalized stepping\nperiod AT reduced from 1.31 to 0.92. The step commands a r e applied at the following\ntimes:\nStep 1\':\n\nT = 0; 8 =\nC\n\n90\n\nStep 2\':\n\nT=\n\n0.92; OC = 180\xc2\xb0(a radians)\n\nStep 3\':\n\nT=\n\n1.84; 8, = 270\n\nStep 4\':\n\nT =\n\n2.76; OC = 36Oo(2a radians)\n\nStep 5\':\n\nT=\n\n3.68; 8, = 450\n\n45\n\nI\n\n-2\n>\n\n-\n\nI\n\nI\n\nI\n\n1\n\nI\n\nI\n\nla1 Phase plane portrait for resprnse to step commands 1\' and 5\'. dVld8 =\n\n.-\n\ni\n\n-\n\n0\n\nI\n\nI\n\nJ\n\n!\'\n\nI\n\n180\n\nI\n\n270\n\nRotor p s i t i o n . 0. deg\n\nlbl Phase plane portrait for response to step command 2\'.\n\nI\n\n-\n\n360\ndVld0 = sin 8IV - 0.25.\n\nFigure 20. - M u l t i s t e p sequence for change i n normalized time bh~of 0.92.\n\n46\n\nI\n\ncos 0IV - 0. 25.\n\n1\n\n4%\n\n-\n\nI\nM0\n\n- I !\nI\n\nStep 3\'\n\n:\n:\n\nI\n\n._ -2\n\nI\n\nI\n\nI\n\nI\n\nI\n\n1\n\nI\n\nI\n\nI\n\n>\nL\n\nIC) Phase plane p r t r a i t for r e s p n s e io step command 3\'. dVld0 = -msBIV\n\n0\n0\n\nI\n\n- 0.25.\n\nn\n\nStep 4\'\n\nI\n\n-2\n-1\n\n1\n\n0\n\n2\n\nI\n\n3\n\nI\n\nI\n\n5\n\n4\n\nRotor psition. 6. rad\n\nI\n0\n\n-\n\n1\n\n90\n\n180\n\n27L\nRotor psition. 6. deg\n\n(dl Phase plane p r t r a i l for resmnse to step command4\'. dVld8\nFigure 20.\n\n1\n\nI\n\n8\n\n9\n\n10\n\nI\n\n-\n\nI\n45c\n\n11\n\nI\n\n36C\n\nI\nI\n\n1\n\nI\n7\n\n-\n\n6\n\n54c\n\n- s i n BIV\n\n- 0.25.\n\n- Concluded.\n\n47\n\nThe response to step 1\' is shown in figure 20(a) f r o m V(0) = 0 and O(0) to point A\'.\nAt point A\', T = 0.92, and the 180\' step command is applied. Notice that the value of\nvelocity and position reached is considerably lower than in the previous case for T = 1.31\nFigure 20(b) shows the trajectory for the response to the 180\' step command between\npoints A\' and B\'. Note in figure 20(b) that the rotor position at point B\' is lagging the\ncommand position by more than 90\'.\nAt point B\', T = 1.84, and the step command f o r\n270\' is applied. Figure 20(c) shows the trajectory f o r the response to the 20 step com7\'\nmand, between points B\' and C\'. The velocity of the rotor actually decreases during this\nstep, and the rotor lags further behind the command position. At point C\', T = 2.76, and\nthe 360\' step command is applied. Note by examining the isoclines, that had the 360\'\nstep command not been applied, the rotor could still have reached the correct command\n6\'\nFigure 20(d) shows the trajectory f o r the response to the 30 step composition of 270\'.\nmand between points C\' and D\'. Again during the step the rotor velocity decreases. At\npoint D\' the rotor is approximately 180\' behind the command position. However, the\nrotor can still reach the proper command position of 360\'.\nAt point D , T = 3.68, and the\n\'\n450\' step command is applied. Figure 20(a) shows the response to the 45OOstep command between points D\' and E\'. The rotor is more than 180\' behind the command position during the entire step. Clearly, the motor cannot reach the desired command posiIf no further steps are applied, the rotor will come to r e s t at 8 = 90\xc2\xb0, o r\ntion of 450\'.\nfour steps behind the desired command position.\nIn general, the rotor will fail to execute the step command if the stepping motor trajectory crosses the position axis before the desired command position is reached. This\nThe\ncan only occur if the position of the rotor lags the step command by more than 180\'.\nfailure analysis must be carried out by using enough steps to show that either the motor\nfails to follow the desired command o r that the motor reaches a steady-state condition\nfor the given command rate.\nIf a motor will follow step commands at a given stepping rate, it will follow the step\ncommands regardless of the number of steps applied. Also, if it cannot follow a step\ncommand, the motor will continue to lose steps. The steps that it loses can be applied\nafter the step commands have been completed. This can be accomplished by feedback but\nintroduces more complications (ref. 1).\nThe method of isoclines is not limited to analyzing step commands in one direction o r\nto a constant time between steps. Any step sequence o r stepping rate can be considered\nby selecting the proper set of isoclines corresponding to the step sequence. In general\nany step sequence o r stepping rate can be considered by selecting the proper s e t of isoclines corresponding to the step sequence. Thus, any input step sequence can be investigated by this method.\n\n48\n\n\'\n\nDIMENSIONLESS CURVES FOR EXPRESSING PM STEPPING\nMOT0R PERFORMANCE\n\nMultistep operation in the phase plane has been shown to be a function of three dimensionless parameters:\n\n(1) Motor damping parameter,\n\n(2)Time parameter,\n\n= 2{\n\n(138)\n\nt=ot\nN\n\nT=\n\nm\n\nm\n\n- -I\n-\n\n(3)Load torque parameter, TL =\nGKTI\n\n(139)\n\nL\n\nTS\n\nUsing these parameters, multistep analysis in the phase plane can be used to specify the\nmaximum stepping rate for any given P M stepping motor and desired value of load torque.\nThe maximum stepping rate is defined as the rate in which the motor can step with a\ngiven value of load torque and not miss a single step. The P M stepping motor is assumed\nto be initially at rest at a point of stable equilibrium for the given value of load torque.\nBy determining the maximum stepping rate for various values of\nand TL, a set of dimensionless curves can be developed to predict PM stepping motor performance.\nA computer program was developed which uses the delta method to map the maximum stepping rate as a function of\nand TL and is described in appendix C. In the\ncomputer program, the maximum stepping rate is determined by an iteration process.\nA normalized stepping rate A AT is chosen and expressed in terms of the time between\napplication of steps AT. The motor is then stepped at the given rate for a number of\nsteps. The phase portrait is examined to s e e if the motor follows the command without\nmissing a step. If the motor follows the command, a higher stepping rate is chosen, and\nthe procedure is repeated until a stepping rate is found in which the motor cannot follow.\nFigure 21 shows the resulting dimensionless curves of P M stepping motor performance derived from the computer program. The curves show that, for a given value of\nload torque, the maximum stepping rate of a given P M stepping motor decreases as the\ndamping ratio increases. This has a direct bearing on the application of the P M stepping\nmotor to system design. The motion of the P M stepping motor for a single step is highly\nunderdamped, yielding low values of damping ratio. The motor can be compensated to\nobtain a higher damping ratio and a better single-step response. But raising the value of\n\n49\n\nh\n\nSingle-step damping ratio,\n\nL\n0\n\n5\n\n1\n\nI\n\nI\n\n1\n\n2\n\n3\n\nI\n4\n\nNormalized motor damping,\nFigure 21. - Dimensionless parameter curves for\npermanent magnet stepping motor.\n\nthe damping ratio decreases the maximum stepping rate that can be obtained. Thus, for\nmultistep operation, compensating for the single- step response may not be desirable.\nThe phase plane analysis demonstrated that the ability of a motor to follow a set of\nstep commands was, in part, determined by the position of the rotor corresponding to the\ncommand position during each succeeding step. If the rotor position falls further behind\nwith each succeeding step, the motor will eventually miss a step. Thus, the r i s e time\nand, hence, the damping ratio of the rotor during each step affects the maximum stepping\nrate of the P M stepping motor. The damping ratio is given by\n\nThus, the damping ratio can be lowered by decreasing the viscous damping o r increasing\nthe motor inertia o r the natural frequency. However, increasing the inertia decreases\nthe natural frequency since\n\n50\n\nIf the natural frequency of the motor is increased, the time between steps can be decreased, and the maximum stepping rate can be increased since\nA T = wNAt\n\n1 - wN\nAt\n\nAT\n\nThus, f o r a given load torque, maximum stepping rate is obtained by minimizing the\ndamping ratio and maximizing the natural frequency.\nFigure 21 also shows that, for a given damping ratio, increasing the load torque decreases the maximum stepping rate that can be achieved. Since the dimensionless curves\nassume a constant current source, the maximum stepping rate will be decreased if the\nmotor is driven from a voltage source. The stepping rate in this case is decreased as a\nresult of the stator winding L/R time constant and induced emf, both of which cause the\nrotor position to further lag behind the intended command position.\n\npulse\n\nfor arma-\n\nlogic\n\nAmmeter\n\na\n28 v dc\nservomotor\n\nEmitter\nfollower\nGear ratio, 6\n\n(load\ntorque)\n\nratio,\nGear\n3\n\nL--\n\n\'ro oscilloscope\n\nFigure 22. - Experimental setup for verification of analytical model.\n\n51\n\nExperimental resultsComputed curve for TL = 0\n\nA\n\nI\n\nI\n\n.\n.\n\n1\n2\nNormalized motor damping,\n\nI\n3\n0 = 25\n\n-1\n4\n\nFigure 23. - Experimental verification of dimensionless\nparameter curves for normalized applied load torque\nTL of 0.\n\nA\n\nExperimental results\n\n- Computed curve\n\nI\n0\n\nu\n\nI\n1 .__\n.2\n.4\n.6\nNormalized load torque, TL\n\n.8\n\nFigure 24. - Experimental verification of normalized stepping rate for vgrious values of load torque with normalized damping D of 0.9.\n\n52\n\nEXPERIMENTAL VERIFICATION OF DIMENSIONLESS CURVES\nSome experimental measurements were taken to check the validity of the dimensionless curves developed for the PM stepping motor. Figure 22 is a schematic diagram of\nthe apparatus used in the experimental work. The measurements w e r e taken on synchronous inductor stepping motors. The stepping motor drive circuit used approximated\na current source. Damping torque was obtained by adding weights to the motor\'s output\nshaft. Additional damping torque was obtained by coupling to the stepping motor output\nshaft a dc servomotor whose field windings were open-circuited. Load torque was obtained by using the servomotor in the conventional manner.\nFigure 23 shows a comparison of the experimental values obtained to the analytically\nderived curve for TL = 0. The experimental data show reasonable agreement with the\nanalytical curve.\nFigure 24 shows the comparison of experimental data with the corresponding analytical data from the dimensionless curves for values of TL of 0, 0.2, 0.4, and 0.6.\nThe normalized damping was held at 0.9. The results show good agreement.\n\nCONCLUS IONS\nAn analysis of the permanent magnet (PM) stepping motor can be used to study the\neffects of inertia, damping, current transients, etc., on the stepping motor response to\na single-step command. A nonlinear analysis which uses phase plane techniques was developed. This analysis allows the P M stepping motor to be analyzed f o r failure to respond to given stepping rates with various values of load and friction. The nonlinear\nanalysis w a s simplified by assuming that the stator windings are supplied by a constant\ncurrent drive circuit that could compensate for the electrical (L/R) time constant.\nThus, the results represent an upper bound on stepping motor performance.\nBased on the nonlinear analysis, it was found that the P M stepping motor cannot respond to a step command when the applied load torque becomes greater than 0.707 of the\nmotor\'s stall torque. The P M stepping motor cannot follow a sequential set of step commands i f , during the sequence, the rotor lags the command position by more than\ntwo steps.\nThis result was extended to develop a s e t of dimensionless curves which express\nmaximum normalized stepping rate as a function of normalized damping and normalized\napplied load torque. These curves allow the maximum stepping rate of a permanent magnet stepping motor to be determined from simple measurements of its parameters or\nfrom manufacturer\'s data.\n\n53\n\nBecause the dimensionless curves assume a constant current source, the maximum\nstepping rate will be decreased if the motor is driven from a voltage source. The stepping rate in this case will be decreased as a result of the stator winding electrical (L/R)\ntime constant and induced electromotive force, both of which cause the rotor position to\nfurther lag behind the intended command position.\nStepping motor response to a single-step command is usually highly underdamped.\nHowever, the maximum stepping rate curves show that improving the single-step response by adding damping will lower the maximum stepping rate that can be achieved.\nLewis Research Center,\nNational Aeronautics and Space Administration,\nCleveland, Ohio, November 19, 1968,\n\nP22-29-03-01-22.\n\n54\n\ne\n\nAPPENDIX A\nSYMBOLS\nN~~\n\nD\n\nnumber of solenoid turns\n\nR\n\nstator resistance per phase, 52\n\nS\n\nmagnetic flux density, T\n\nconstant relating rotor position\nin degrees 8 to mechanical\ndegrees of rotation\n\nn\n\nB\n\nLaplace operator, l / s e c\n\nviscous damping of motor and\n2\nload, (g)(cm )/sec\n\nD\n\nnormalized damping\n\nE\n\nconstant value of stator input\nvoltage, V\nLaplace transform of p(t), V\nstator input voltage, V\n\nfrictional torque, N-m\n\nstator induced electromotive\nforce (emf), V\n\nI\n\ndeveloped motor torque, N-m\n\nnormalized frictional torque\n\nconstant value of stator input\ncurrent, A\n\nnormalized applied load torque\n\napplied load torque, N-m\n\nTmax\n\nstator input current, A\n\nmaximum motor torque per\nphase, N-m\n\nTS\n\nLaplace transform of Z(t)\n\nmotor stall torque, both phases\nenergized, N- m\n\ninertia of motor and load,\n(g)(cm2)\n\ntime, s e c\n2\n\nKI\n\nsolenoid constant, (Q)(sec)/m\n\nnormalized velocity\n\nKm\n\nbar magnet constant, m/(Q)(sec)\n\nvariable\n\nKT\n\nmotor torque constant, (N-m)/A\n\nangular measurement variable,\n\nKV\n\ndeg\n\nconstant relating induced voltage\nand stator flux density,\n\nline segment, cm\n\n(V)\n(sec)/deg\nL\n\nstator inductance per phase, H\n\n9[1\n\nLaplace transformation\n\nI\n\nlength of bar magnet, cm\n\nchange in a variable about an\noperating point\n\n6\n2\n\nM\n\nmagnetic moment, (A)(m\n\nm\n\nbar magnet pole strength, W b\n\ncenter of circular arc, deg\ndamping ratio\nLaplace transform of e(t), specified in degrees except where\nnoted in radians\n\n55\n\nrotor position defined s o that\n1/4 rotor tooth pitch equals\n90\xc2\xb0, specified in degrees except where noted in radians\nrotor command position, specified in degrees except\nwhere noted in radians\n\nq(t)\n\nrotor position in mechanical\ndegrees\n\nwN\n\nnatural frequency, rad/sec\n\n(0)\n\ninitial condition of a variable\n\nSubscripts :\n\n0\n\nvalue at operating point\n\n7\n\nnormalized time\n\n1\n\nstator phase 1\n\nAT\n\nchange in normalized time\n\n2\n\nstator phase 2\n\nl/Ar\n\nnormalized stepping rate\n\n56\n\nAPPENDIX B\nLAPLACE TRANSFORM DERIVATIONS OF LINEARIZED FUNCTIONS\nThe Laplace transformation can be applied by considering the following development.\nF o r a variable X(t) about an operating point,\n\nand so forth. Taking the derivative of equation (Bl) and assuming that X is a constant,\n,\nd\n-X(t)\ndt\n\nd\n= - (X,)\n\nd\n+ - U(t)\n\ndt\n\ndt\n\nCombining equations (B2) and (B4),\n\nTaking the Laplace transform of equation (B5),\n\nIn the same manner, taking the derivative of equation (B2),\n037)\n\n57\n\nCombining equations (B3)and (B7)results in\n\nTaking the Laplace transformation of equation (B8),\n/d2X\\\n\nWhen the initial conditions are used, the Laplace transforms of the excursions about\nthe operating point at the beginning of the step a r e\n\n=\n\nS Ae(S)\n\n-\n\nAe(0) - -- S A@)\n-\n\nS\n\n58\n\n=\n\nS A I 2 ( S ) - AIZ(0) -\n\n= S AI1(S) - AI1(O)\n\n0\n\n-\n\n~\n\nS\n\nS\n\n- ___ - s AI1@)\nOS\n\nThe derivative (d12/dt)0 in equation (B15) can be determined by noting that since\n(dB/dt)O = 0, the induced voltage E\n= 0. The voltage supplied to winding 2 becc\nv, 0\n\nA l e s\n\nAE2(t) = A12(t)R + A [ y ] L\n\nAE2(S) = (R\n\n+ LS)A12(S)\n\nAssuming that the stator input voltage to winding 2 is a step function results in\n\n12(S) = -\n\nor\n\nWhen the initial value theorem (ref. 14)is applied,\n\nt-O\n\ndt\n\nS-00\n\nR+LS\n\nL\n\n\\dt\n\n/\n\n0\n\n59\n\n- -1\nThus, the Laplace transforms of the equations for the excursions about the operating\npoint at the beginning of the step become\n\nT\xe2\x80\x9990\n2 2\n\nS AO(S)\n\nKT1l. 0\n\n=\n\nR\n\nI\xe2\x80\x99\n\n\xe2\x80\x99\n\n+ LS\n\nR\n\n+ LS\n\nCombining equations (B22) to (B24) gives the resultant linearized transfer function about\nan operating point at the beginning of a step:\n\nS\n\nJLS\nN~~\n\n60\n\n-\n\n(R\n\n+ LS)ATL(S)\n\nAPPENDIX C\nDIMENSIONLESS PARAMETER CURVE COMPUTER PROGRAM\nA digital computer program was written to develop the dimensionless curves using\nthe multistep phase plane analysis. The maximum stepping rate was determined by stepping the motor a number of steps at a constant stepping rate. The phase trajectory was\ncalculated and checked to s e e if it followed the command without missing a step. The\nstepping rate was increased until the motor failed to follow a command.\nThe computer program developed is shown in table I. The program was developed by\nusing the delta method for computing the phase trajectories. The delta method allowed\nthe trajectory to be calculated by using small incremental sections. This method was\nalso convenient for calculating time along the trajectory. The computer input variables\nwere\n(1)Initial velocity, VIN\n(2) Initial position, THIN\n(3) Initial value of 6, DELTIN\n(4)Total time for the number of steps, TTOT\n(5) Total time between steps, DTAUS\n(6) Position increment used in computing trajectory, DTH\n(7)Normalized motor damping parameter, D\n(8) Normalized load torque, TL\nTwenty steps were commanded for each stepping rate. These were enough steps to\ndetermine whether the motor could follow the stepping rate with t h e given 6 and TL.\nMotor failure was determined by checking for the rotor velocity to change sign (motor\nreverses i t s direction) before the desired step command w a s reached. The stepping\nrates w e r e varied in increments of 0.01, and the values of position were compared along\nthe trajectory. The normalized time was computed, and a new value for delta was computed f o r each time the position of the rotor changed by a predetermined increment.\nThis increment affects the overall accuracy of the trajectory and of the calculated time.\nThus, it was made an input variable (DTH), and its effect on the response was checked.\nA value of DTH = 0 . 0 5 was found to give results with sufficient accuracy for the program.\nThe maximum stepping r a t e was computed, using this program, for values of\nD = 0 . 2 5 , 0. 5, 1. 0, 1 . 5 , 2 . 0, and 4 . 0 and f o r values of TL = 0, 0 . 2 , 0. 4, and 0.6.\n\n61\n\nTABLE I.\n\n- DIGITAL\n\nCOMPUTER PROGRAM\n\n100 FORMAT ( 8 E 10.5)\n101 FORMAT( 1H 1,5X, 3HVI N, 9X,4HTHI N, 7X, 6 H D E L T I N,9X,4HTTOT18X,\nlOX1,3HDTH,IIX,IHD,l\nlX,2HTL/(8E13.5))\n1 0 2 FORMAT ( 3 E 2 0 . 6 )\n103 FORMAT( lH0,5X,8HVELOCI TY, 14X,SHTHETA, l 5 X , 3HTAU)\n500 READ (5,100) V I N ,TH IN, D E L T l N, TTOT, DTAUS DTH D, T L\nWKI TE (6,101 ) V I N,TH I N, D E L T l N,TTOT, DTAUS, DTH, D,TL\nWRITE(6,lOj)\nTAU=O. 0\nSIGN=l.O\nVI=VIN\nTH 1 = T H I N\nWR I TE ( 6 , 1 0 2 ) V 1, TH 1, TAU\nDELTA=DELTI N\nN=l\nM= 1\ni o RADSQ= (V I*V I+(DELTA+TH I ) )\nI)*(DELTA+TH\nTH2=THI+DTH\nTEM 1 = (DELTA+TH 2)* (DELTA+TH2)\nI F(TEM1 .LE .RADSQ) GO TO 2 0\nTH2=BM2-DTH\nDTH=- DTH\nS I GN=-S I GN\nT EM 1= ( DE LTA+TH 2) (DE LTA+TH 2 )\n2 0 V2=S IGN*SQRT(RADSQ-TEMI)\nIF(TEM1.GT.RADSQ)\nGO TO 2 1\nDTAU=2.O;t(TH2-THl)/(V2+Vl)\n2 1 TAU=TAU+DTAU\nv 1= v 2\nTHl=TH2\nK=M- (M/5)9:5\ni F (K) 60,60,70\n60 WRI TE ( 6 , 1 0 2 ) V 1 ,TH 1 ,TAU\n70 M=M+l\nI F ( T A U . G T . T T Q T ) GO TO 500\n3 0 T E k T A U - F L O A T (N- 1 )+:DTAAUS>t4.0\nTEM2=TEM/DTAIJS\nGO TO 4 0\nIF(TEM2.GT.4.0)\nGO TO 50\n40 N=N+I\nGO TO 3 0\n50 I F ( T E M 2 . G T . 3 . 0 ) GO TO 14\nIF(TEM2.GT.2.0)\nGO TO 13\nI F(TEMZ.GT. 1 .o) GO TO 12\n1 1 VDV=COS (TH 1 ) -D:v 1 -TL\nGO TO 15\nI 2 VDV=S I N (TH 1 ) - D - \xe2\x80\x9d v I - T L\nGO TO 15\n13 VDV=-COS(THI)-DWI-TL\nGO TO 15\n1 4 VD v=- s I N (TH 1 ) - D 1 - T L\n:\n;\nv\n\xe2\x80\x98\n15 DELTA=-VDV-TH 1\nGO TO 10\nEND\n\n5HDTAUS,\n\n,\n\n*\n\n62\n\n. -\n\n_I\n\nREFERENCES\n1. Proctor, John: Stepping Motors Move In.\npp. 74-78.\n\nProduct Eng., vol. 34, Feb. 4, 1963,\n\n2. Nicklas, J. C. : Analysis, Design and Testing of a Position Servo Utilizing a Stepper Motor. Tech. Rep. 32-206, Jet Propulsion Lab., California Inst. Tech.,\nJan. 25, 1962.\n3. Giles, S. ; and Marcus, A. A. : SNAP-8-Control-Drum Actuators. Rep. NAA-SR9645, Atomics International, Dec. 15, 1964.\n4. Bailey, S. J. : Incremental Servos. Part I - Stepping v s Stepless Control. Control\nEng., vol. 7, no. 11, Nov. 1960, pp. 123-127; Part 1 - Operation and Analysis,\n1\nvol. 7, no. 12, Dec. 1960, pp. 97-102; Part III - How They\'ve Been Used, vol. 8,\nno. 1, Jan. 1961, pp. 85-88; Part I - Today\'s Hardware, vol. 8, no. 3, Mar.\nV\n1961, pp. 133-135; Part V - Interlocking Steppers, vol. 8, no, 5, May 1961,\npp. 116-119.\n5. O\'Donohue, John P. : Transfer Function for a Stepper Motor. Control Eng., vol. 8,\nno. 11, Nov. 1961, pp. 103-104.\n6. Kieburtz, R. Bruce: The Step Motor - The Next Advance in Control Systems. IEEE\nTrans. on Automatic Control, vol. AC-9, no. 1, Jan. 1964, pp. 98-104.\n7. Snowdon, Arthur E. ; and Madsen, Elmer W. : Characteristics of a Synchronous Inductor Motor. AIEE Trans. on Applications and Industry, vol. 81, Mar. 1962,\npp. 1-5.\n8. Morgan, N. L. : Versatile Inductor Motor Used in Solving Industrial Control Problems. Plant Eng., vol. 16, no. 6, June 1962, pp. 143-146.\n\n9. Swonger, C. W. : Polyphase Motors as Digital-Analog Stepping Devices. Data Systems Eng., vol. 18, no. 6, July-Aug. 1963, pp. 52-56.\n10. Graham, Dunstan; and McFuer, Duane: Analysis of Nonlinear Control Systems.\nJohn Wiley & Sons, Inc., 1961.\n\n11. Zeller, Donald F. : Digital Control of a Stepping Motor. MS Thesis, Massachusetts\nInst. Tech., 1966.\n\n1\n\nI\n\n12. Cunningham, W. J. : Introduction to Nonlinear Analysis. McGraw-Hill Book Co.,\nInc., 1958.\n13. Minorsky, Nicholas: Introduction to Non-Linear Mechanics. J. W. Edwards, Ann\nArbor, 1947.\n14. Savant, C . J., Jr. : Basic Feedback Control System Design. McGraw-Hill Book\nCo., Inc., 1958, p. 64.\nNASA-Langley, 1969\n\n-\n\nE-4479\n\n63\n\nNATIONAL\nAERONAUTICS SPACE ADMINISTRATION\nAND\nWASHINGTON, C. 20546\nD.\n\nFIRST CLASS MAIL\n\nOFFICIAL BUSINESS\n\nPOSTAGE A N D FEES PAID\nNATIONAL AERONAUTICS A N D\nSPACE ADMINISTRATION\n\nIf Undeliverable (Section 158\nPostal Manual) D o Not Return\n\n"The aeronautical and space activities of the United States shall be\nconducted so as to contribute . . . t o the expansion of h a ~ z a n\nKnowledge of phenoiiiena in the atmosphere and space. T h e Administration\nshall provide for the widest prcrcticable aud appropriate disse?Jzi?za?ion\nof inforimtion concerning its actkities and the resvlts thereof."\n\n-NATIONAL\nAERONAUTICS SPACE ACT OF 1958\nAND\n\nNASA SCIENTIFIC AND TECHNICAL PUBLICATIONS\nTECHNICAL REPORTS: Scientific and\ntechnical information considered important,\ncomplete, and a lasting contribution to existing\nknowledge.\nTECHNICAL NOTES:. Information less broad\nin scope but nevertheless of importance as a\ncontribution to existing knowledge.\nTECHNICAL MEMORANDUMS :\nInformation receiving limited distribution\nbecause of preliminary data, security classification, or other reasons.\nCONTRACTOR REPORTS: Scientific and\ntechnical information generated under a NASA\ncontract or grant and considered an important\ncontribution to existing knowledge.\n\nTECHNICAL TRANSLATIONS: Information\npublished in a foreign language considered\nto merit NASA distribution in English.\nSPECIAL PUBLICATIONS: Information\nderived from or of value to NASA activities.\nPublications include conference proceedings,\nmonographs, data compilations, handbooks,\nsourcebooks, and special bibliographies.\nTECHNOLOGY UTILIZATION\nPUBLICATIONS: Information on technology\nused by NASA that may be of particular\ninterest in commercial and other non-aerospace\napplications. Publications include Tech Briefs,\nTechno~ogy\nUtilization R~~~~~~ N\nand\n~\n~\nand Technology Surveys.\n\nDetails on the availability of these publications may be obtained from:\n\nSCIENTIFIC AND TECHNICAL INFORMATION DIVISION\n\nNATIONAL AERONAUTICS AND SPACE ADMINISTRATION\nWashington,\n\nD.C. PO546\n\n~\n\n~\n\n,\n\n'