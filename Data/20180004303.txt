b'1111111111111111111inuu1111111111111111u~\n(12) United States Patent\n\n(io) Patent No.:\n(45) Date of Patent:\n\nLux et al.\n(54) MICROWAVE RADAR SENSOR MODULES\n(71) Applicant: California Institute of Technology,\nPasadena, CA (US)\n(72) Inventors: James Paul Lux, Thousand Oaks, CA\n(US); Richard Kalantar Ohanian,\nValley Village, CA (US); Raymond\nQuintero, Santa Clarita, CA (US); Troy\nMichael Torrez, Pasadena, CA (US);\nKeizo Ishikawa, South Pasadena, CA\n(US); Michael Ray McKee, Lancaster,\nCA (US); Salman-ul Mohammed\nHaque, Los Angeles, CA (US); Sarah\nHolmes, Glendale, CA (US); Carl\nSpurgers, Rancho Cucamonga, CA\n(US)\n\nSubject to any disclaimer, the term ofthis\npatent is extended or adjusted under 35\nU.S.C. 154(b) by 787 days.\n\n(21) Appl. No.: 14/609,354\n(22) Filed:\n\nJun. 5,2018\n\n(58) Field of Classification Search\nCPC .................. A61B 5/0507; A61B 5/113; A61B\n2560/0252; GOIS 13/536; GOIS 13/04;\n(Continued)\n(56)\n\nReferences Cited\nU.S. PATENT DOCUMENTS\n3,670,327 A *\n4,434,424 A *\n\n6/1972 Clare et al. ........... GOIS 13/536\n2/1984 Old ....................... GOIS 7/2813\n(Continued)\n\nFOREIGN PATENT DOCUMENTS\nJP\nJP\n\n(73) Assignee: California Institute of Technology,\nPasadena, CA (US)\n(*) Notice:\n\nUS 9,986,934 B2\n\n09044779 A\n2/1997\n09304525 A\n11/1997\n(Continued)\nOTHER PUBLICATIONS\n\nExtended European Search Report for European Application No.\n14785477.2, Search completed Dec. 22, 2016, dated Jan.9, 2017, 10\nPgs.\n(Continued)\nPrimary Examiner Bernarr E Gregory\n(74) Attorney, Agent, or Firm\nKPPB LLP\n\nJan. 29, 2015\n(57)\n\n(65)\n\nABSTRACT\n\nPrior Publication Data\nUS 2015/0208945 Al\n\nJul. 30, 2015\n\nRelated U.S. Application Data\n(60) Provisional application No. 61/952,366, filed on Mar.\n13, 2014, provisional application No. 61/932,937,\nfiled on Jan. 29, 2014.\n(51) Int. Cl.\nA61B 5/05\nA61B 5/113\n\n(2006.01)\n(2006.01)\n(Continued)\n\n(52) U.S. Cl.\nCPC ............ A61B 5/0507(2013.01); A61B 5/113\n(2013.01); A61B 256010252 (2013.01)\n\nSystems and methods for detecting biometrics using microwave radar sensor modules are disclosed. Integrated microwave sensor modules can include a transmitter unit configured to generate at least one continuous wave transmit signal\nbased upon at least one frequency control signal, a receiver\nunit configured to utilize a cancellation path to cancel\ncontributions to a return signal based upon at least one\ncancellation path control signal, and a microcontroller unit\nthat includes a processor, a memory containing a microcontroller application, where the microcontroller application\nconfigures the processor to generate at least one frequency\ncontrol signal to generate least one CW transmit signal\nhaving a plurality of frequencies, generate at least one\ncancellation path control signal to automatically adjust the\n(Continued)\n\n~7oa\n\nUS 9,986,934 B2\nPage 2\ncancellation path in real time, receive at least one demodulated signal, digitize the at least one demodulated signal, and\nupdate the at least one frequency control and cancellation\np\nq\ny\npath control signals.\n25 Claims, 25 Drawing Sheets\n\nWO\nWO\nWO\nWO\nWO\nWO\nWO\n\n2008001092\n2008054490\n2008054490\n2011075639\n2012055148\n2012158840\n2014172668\n\nA2\nA2\nA3\nAl\nAl\nAl\nAl\n\n1/2008\n5/2008\n7/2008\n6/2011\n5/2012\n11/2012\n10/2014\n\nOTHER PUBLICATIONS\n(51) Int. Cl.\nA61B 5/00\n(2006.01)\nGOIS 13/00\n(2006.01)\n(58) Field of Classification Search\nCPC ........ GO1S 13/62; GO1S 7/2813; GO1S 7/038;\nGOlS 7/292; GOlS 7/415\nSee application file for complete search history.\n(56)\n\nReferences Cited\nU.S. PATENT DOCUMENTS\n\n4,958,638\n4,970,519\n4,991,165\n5,448,501\n5,507,291\n5,760,687\n5,861,021\n5,904,709\n6,026,173\n6,031,482\n6,057,761\n6,208,286\n6,307,475\n6,313,743\n6,909,397\n6,927,691\n7,135,980\n7,199,749\n7,646,830\n7,679,545\n7,889,053\n8,378,879\n8,721,554\n2002/0138768\n2003/0081503\n2003/0130697\n2003/0135097\n2003/0178034\n2004/0123667\n2004/0243299\n2005/0128124\n2006/0028369\n2006/0028389\n2006/0224046\n2007/0066904\n2008/0007445\n2008/0045832\n2008/0074307\n\nA\nA *\nA *\nA *\nA\nA\nA\nA\nA\nA *\nA\nB1\nB1\nB1\nB1\nB2\nB2\nB2\nBI*\nB2\nB2\nB2 *\nB2 *\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl\nAl*\n\n9/1990\n11/1990\n2/1991\n9/1995\n4/1996\n6/1998\n1/1999\n5/1999\n2/2000\n2/2000\n5/2000\n3/2001\n10/2001\n11/2001\n6/2005\n8/2005\n11/2006\n4/2007\n1/2010\n3/2010\n2/2011\n2/2013\n5/2014\n9/2002\n5/2003\n7/2003\n7/2003\n9/2003\n7/2004\n12/2004\n6/2005\n2/2006\n2/2006\n10/2006\n3/2007\n1/2008\n2/2008\n3/2008\n\n2009/0146869\n2009/0278728\n2010/0079347\n2010/0109938\n2010/0249633\n2010/0295718\n2010/0321229\n2013/0002434\n2014/0316261\n2015/0223701\n\nAl\nAl\nAl\nAl\nAl\nAl\nAl *\nAl\nAl\nAl\n\n6/2009\n11/2009\n4/2010\n5/2010\n9/2010\n11/2010\n12/2010\n1/2013\n10/2014\n8/2015\n\nSharpe et al.\nMinnis et al. .......... GO1S 7/038\nCronyn ................... GO1S 7/038\nHablov et al........ A61B 5/0507\nStirbl et al.\nCousy et al.\nThome et al.\nArndt et al.\nSvenson et al.\nLemaitre et al. ....... GO IS 13/04\nYukl et al.\nRostislavovich et al.\nKelley et al.\nAbraham-Fuchs et al.\nGreneker, III et al.\nYukl et al.\nMoore et al.\nGreneker, III et al.\nWeill ...................... GO IS 7/292\nRausch et al.\nMcGrath et al.\nLewis et al............. GO IS 13/62\nLin et al. ............. A61B 5/0507\nMurakami\nBarnard et al.\nHalperin et al.\nWiederhold et al.\nYuki et al.\nMcGrath et al.\nScaer et al.\nGreneker et al.\nRausch et al.\nYukl et al.\nRamadas et al.\nWesmann et al.\nLeach et al.\nMcGrath et al.\nBoric-Lubecke\net al. .................... A61B 5/0507\nDwelly et al.\nMorgan et al.\nHayes et al.\nOswald et al.\nDroitcour et al.\nMohamadi et al.\nDwelly et al........... GO1S 7/415\nCuddihy et al.\nLux et al.\nGhaemi et al.\n\nFOREIGN PATENT DOCUMENTS\nKR\nWO\n\n20030070315 A\n2007118274 Al\n\n8/2003\n10/2007\n\nInternational Preliminary Report on Patentability for International\nApplication PCT/US2007/008340, Report dated Oct. 8, 2008, 4\nPgs.\nInternational Search Report and Written Opinion for International\nApplication PCT/US2010/062036,report completed Aug. 31, 2011,\ndated Aug. 31, 2011, 6 Pgs.\n"Arduino HomePage", Arduino, Feb. 1, 2014, https://web.archive.\norg/web/20140201142732/https://www.arduino.cc/, 3 pages.\n"Autoregressive model", Wikipedia, Dec. 8, 2013, retrieved from\nhttps://web.archive.org/web/20150106061833/https://en.wikipedia.\norg/wiki/Autoregressive_model on Jul. 26, 2017, 9 pages.\n"Camero Step into the known", Camero Tactical Through-Wall\nImaging Solutions, Mar. 28, 2013, retrieved from https://web.\narchive.org/web/20130328000753/http://www.camero-tech.com/\non Jul. 26, 2017, 1 page.\n"EMMDAR (Electro-Magnetic Motion Detection and Ranging)",\nL3 Communications CyTerra, 2011, retrieved from http://www.\ncycerra.com/products/emmdar.htm on Jul. 26, 2017.\n"Fieldnames", MathWorks, Nov. 28, 2013, https://web.archive.org/\nweb/20131128081202/http://www.mathworks.coni/help/matlab/\nref/fieldnames.html, 2 pages.\n"Least squares", VVikipedia, Jan. 30, 2014, https://web.archive.org/\nweb/20140209133957/https://en.wikipedia.org/wilci/Least-squares\non Jul. 26, 2017, 9 pages.\n"Str2num", MathWorks, Jul. 17, 2013, retrieved from https://web.\narchive.\norg/web/20130717105438/http://www.mathworks.com/\nhelp/matlab/ref/str2num.html, 2 pages.\n"Teensy USB Development Board", PJRC Store, Feb. 9, 2014,\nretrieved from https://web.archive.org/web/20140209222648/www.\npjrc.com/store/teensy3.html, 1 page.\n"Teensyduino", PJRC, Feb. 9, 2014, https://web.archive.org/web/\n20140209215538/https://www.pjrc.com/teensy/teensyduino.html, 3\npages.\n"Textscan", MathWorks, Dec. 19, 2013, retrieved from https://web.\narchive.org/web/20131219081941/http://www.mathworks.com/\nhelp/matlab/ref/textscan.html, 3 pages.\n"TiaLinx, Inc.", TiaLinx, Inc., Jul. 15, 2012, retrieved from https://\nweb.archive.org/web/20120715031226/www.tialinx.com/\neaglefamily.html on Jul. 26, 2017, 4 pages.\n"Tianying-Night Vision", Yiwu TianYing Optical Instrument Co.,\nLimited, Mar. 20, 2013,retrieved from https:Hweb.archive.org/web/\n20130320184606/http://www.nightvisioncn.com:80/sdp/6255 12/4/\nmain-3235899/O/Home.html on Jul. 26, 2017, 2 pages.\n"Troubleshooting Common Problems", PJRC, Feb. 9, 2014, https://\nweb.archive.org/web/20140209214600/https://www.pjrc.coni/\nteensy/troubleshoot.html, 5 pages.\nChongyu et al., "The design of cancellation unit against\nradiofrequency interference in life-detection radar", 2010 International Conference on Microwave and Millimeter Wave Technology,\nMay 2010, pp. 1758-1761.\nDonelli, M.,"A Rescue Radar System for the Detection of Victims\nTrapped Under Rubble Based on the Independent Component\nAnalysis Algorithm", Progress in Electromagnetic Research M,\nvol. 19, Jul. 29, 2011, pp. 173-181.\nIzadi et al., "Design and Simulation of a Life Detection System\nBased on Detection of the Heart Beat Using Doppler Frequency",\n2006 IEEE International Symposium on Signal Processing and\nInformation Technology, Aug. 27-30 2006, Vancouver, BC, Canada,\npp. 685-690.\nJianqi et al.,"A New Method for Identifying the Life Parameters via\nRadar", EURASIP Journal on Advances in Signal Processing, vol.\n2007, Article ID 31415, Jan. 30, 2007, 8 pages, doi:10.1155/2007/\n31415.\n\nUS 9,986,934 B2\nPage 3\n(56)\n\nReferences Cited\nOTHER PUBLICATIONS\n\nLiu et al., "The Application of the Hilbert-Huang Transform in\nThrough-wall Life Detection with UWB Impulse Radar", Piers\nOnline, vol. 6, No. 7, Jan. 2010, pp. 695-699.\nPieraccini et al., "Detection of Breathing and Heartbeat Through\nSnow Using a Microwave Transceiver", IEEE Geoscience and\nRemote Sensing Letters, vol. 5, No. 1, Jan. 2008, pp. 57-59.\nXu et al., "A Novel Method for Automatic Detection of Trapped\nVictims by Ultrawideband Radar", IEEE Transactions on Geoscience and Remote Sensing, vol. 50, Issue 8, Aug. 2012, pp. 31323142.\nZade et al., "A Modern Microwave Life Detection System for\nHuman Being Buried Under Rubble", International Journal of\nAdvanced Engineering Research and Studies, E-ISSN2249-8974,\nvol. 1, Issue 1, Oct.-Dec. 2011, pp. 69-77.\nInternational Preliminary Report on Patentability for International\nApplication PCT/US2014/034700, dated Oct. 20, 2015, dated Oct.\n29, 2015, 5 Pgs.\n\nInternational Search Report and Written Opinion for International\nApplication PCT/US2014/034700, report completed Sep. 3, 2014,\ndated Sep. 3, 2014, 7 Pgs., Sep. 3, 2014.\nChen, Kun-Mu et al., "Microwave Life-Detection Systems for\nSearching Human Subjects Under Earthquake Rubble or Behind\nBarrier", IEEE Transactions on Biomedical Engineering, Jan. 2000,\nvol. 27, No. 1, pp. 105-114.\nGhaemi,"Synthetic Aperture Weather Radar", Thesis, 2008, 78 pgs.\nHirsch et al., "Respiratory sinus arrhythmia in humans: how breathing pattern modulates heart rate", American Physiological Society,\n1981, pp. 11620-11629.\nLi et al., "Efficient Mixed-Spectrum Estimation with Applications to\nTarget Feature Extraction", IEEE Transactions on Signal Processing, vol. 44, No. 2, Feb. 1996, 281-295.\nLiu et al., "Feature extraction of SAR targets consisting of trihedral\nand dihedral corner reflectors", IEE Proc.-Radar, Sonar Navig., Jun.\n1998, Vo. 145, No. 3, pp. 161-172.\n\n* cited by examiner\n\n106\n\nComputational Assist\nData Archiving\n(Local to disaster Ste)\n\n104\n\nAntenna Unit\n\n"",\\ - - - - - -\n\nWireles\n\n100\n\n1, I\n\nAntenna Unit\n\n104\n\n100\n\n(Remote Resources)\n\nOther FINDER units\n(Command Frost)\n\nr\n\n201\n\ninterface\n\nCommunications\n\n205\n\n204\n\nMicracontroller for signal\nprocessing and control\n\n208\n\nRadar\nElectronics\n\nAntenna Unit 202\n\n208\n\nTransmit and\nReceive Antennas\n\n31\'\n\n302\n\n306\n\n304\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 4 of 25\n\nUS 9,986,934 B2\n\nLID\n\nLL\n\nLO\n\n0\nQ0\n\nm\n\n402\n\nl\n/\n\n408\n\n410\n\nAnR\n\n412\n\n400\n\nser Interface\n\n~w\n\n5\n\n464\n\n462\n\nUser B\n\n~\n\n466\n\n450\n\n,460\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 7 of 25\n\nCD\n\nUS 9,986,934 B2\n\n00\n\nL\n\ne\nY\n\nLO\n\n/ ~\n\nLO\n\nco\nCD\n\ni\n\nC~\nLO\n\nC\n\nLL\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 8 of 25\n\nUS 9,986,934 B2\n\nclq\nco\nLO\n\ne\n\ni~\ni\n\ntS\'\nLO\n\nLO\n\nU.S. Patent\n\nJun. 5,2018\n\nUS 9,986,934 B2\n\nSheet 9 of 25\n\nI ntZI 4I-nH-ar r\'n\',\n\n2\nI:\n\nV\n\n0\n\n10\n\n......... ........\n20\n30\n\n:.......: 3......:: ..,.\n40\n50\n60\n70\n80\nnanoseconds\n\nC\n\n.....>\n1010.\'\n\nI foot is about 2 nanoseconds in rubble\n\n600\n\nU.S. Patent\n\nco\n\nJun. 5,2018\n\nSheet 10 of 25\n\nUS 9,986,934 B2\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 11 of 25\n\nUS 9,986,934 B2\n\n2\n\n1.5\n802\n\nUj\nz\nC\nZ 0.5\n804\n\n0\n\n1.1\n\n1.2\n\n1.3\n\n1.4\n\n1.5\n\n1.6\n\n1.7\n\n1.8\n\n2\n\n1.~3\n\nx1G4\n\nTIME\n\nr\n\\\n\n800\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 12 of 25\n\nUS 9,986,934 B2\n\nTransmitter Section 902\n910\n\nPower Lirt^iting\nAttenuator\n\n914\n\n~,\n\'\nP;accer-cy t\ncuE~Troi\n\n-----\n\n------ ---------------\n\nTx cantenna\n\n\\\n\n916\nPhase & AmOtude\nCont;d O.e cancel:atiorpath conTrolsi\n\nComputer\n\n-------------------- --------------`=-----~\n\nPhase &\nAmplitude\nAdjust\n\n-------------------------------------------------- ---------- ---------------------t.\n\n- 918\n\n912\nieterfeci Skg.^.ais\n\nCancellation Path Section\n\n(1.8, fflC2fVY.f\n\noutr )\n\nir\n\n906\n\n920 ,\n921\n\ni\ni\n\nReceiver ;\xc2\xae-\n\nPower\n\n14\n\nC:ombiner\n\nReceiver Section\n\n1,9\n\nRx antenna\n\n904\n\n900\n\n12V >51f\n1122\n\n1008\n\n~\n\n1 flfl0\n-----------------------------------------\n\n1002;\n\n-----------------------------------------------------\n\n-----------------------------------------------------\n\n~\nRx Board 1010\n\n1000\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n12V- >5id\n112611018\n-------------------------------------------------------------------------------------------\n\n1003\n\nICS Modulator\n1014 11012..\n\nETC_\n------- ------- --------------x2\nICS\n--------Demodulator I\n1124\n\'\n1010\n\ngad\n\n------*i DAC x2\n\nTx Board 1004\n1001\n1(109\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\ni\n\n112fl\n\n------------DAB-------------\n\nRx antenna\n\nTx antenna\n\nizi\n\nN\n\nOft\n\nA\nO\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 15 of 25\n\nUS 9,986,934 B2\n\n1200\n\n4\n\ny\nM1~~M1\n\nO\n\n..\n\n;*.:::::.::\n;5\xe2\x80\xa2M1\n\n1210\n\n1220\n\n1304\n\n1300\n\nReference\nfrom Tx\n\n,;\n.\nI\n\n1302\n\nQuadrature Hybrid\n\n1\n00\xc2\xb0\n\n08\n\n1316\n\n1314\n\nQcontrol\ni\n\nlcontrol\n\n`1308\n\n1306\n1310\n\n1312\'\n\nCancellation\nSignal to Rx\n\nU.S. Patent\n\nJun. 5,2018\n\nrn\nqw1\n\nSheet 17 of 25\n\nUS 9,986,934 B2\n\n0\n\n102\n\n103\n\n10G\n\n106\n\n107\n\n50\n\n100\n\n1452\n\n150\nHz\n\n200\n\npower spectrum\n\n250\n\n000\n\n350\n\n1450\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 19 of 25\n\nUS 9,986,934 B2\n\n0\n\nus\n~+z\n\n3\n\nLO\nfiS\n\na\n\nLL\n\ns\nS~~\n\n0\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 20 of 25\n\nUS 9,986,934 B2\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 21 of 25\n\nUS 9,986,934 B2\n\nI I U&\n\nFIG.\n\n1700\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 22 of 25\n\nUS 9,986,934 B2\n\nQAC\n\n1728\n\n1726:\n1726:1720\n\n1720\n\nU.S. Patent\n\nJun. 5,2018\n\nUS 9,986,934 B2\n\nSheet 23 of 25\n\nout\nI/Q Calibration\xe2\x96\xba\n\n1752\n\nFIG. 1\n\n1750\n\n-5W.0\n\ns\n\n\xc2\xa2oot\n\n35000\n\n=100\n\n\xc2\xbb #\n: \xe2\x80\xa2\xc2\xab\xc2\xab. :~\n\n~~Av~Ae\n\nU.S. Patent\n\nJun. 5,2018\n\nSheet 25 of 25\n\nUS 9,986,934 B2\n\nLL\n\nr4\n\nUS 9,986,934 B2\n2\nMICROWAVE RADAR SENSOR MODULES\nCROSS-REFERENCE TO RELATED\nAPPLICATIONS\n5\n\nThe current application claims priority to U.S. Provisional\nPatent Application Nos. 61/932,937 filed Jan. 29, 2014, and\n61/952,366 filed Mar. 13, 2014, the disclosures of which are\nincorporated herein by reference.\n10\n\nFEDERAL FUNDING SUPPORT\nThe invention described herein was made in the performance of work under a NASA contract, and is subject to the\nprovisions ofPublic Law 96-517(35 USC 202)in which the\nContractor has elected to retain title.\n\n15\n\nFIELD OF THE INVENTION\nThe present invention generally relates to radars and more\nspecifically to microwave radar sensor modules for systems\nand methods for detecting biometrics.\n\n20\n\nBACKGROUND\n25\n\nBiometrics refer to the quantifiable data (or metrics)\nrelated to human characteristics and traits. The quantifiable\nmetrics can be gathered using various sensors and the\ncollected data processed to identify individual persons.\nTypically, biometric identifiers can be categorized as physiological and/or behavioral characteristics. Generally, physiological characteristics are related to the shape of the body\nand can include (but not limited to) fingerprint, palm print,\nDNA,and scent. In contrast, behavioral characteristics relate\nto a pattern of behavior and include(but not limited to) gait,\nvoice, and typing rhythm. Biometric identifiers can also\ninclude characteristics that are more subtle such as breathing\npatterns and heart rates.\nSUMMARY OF THE INVENTION\nSystems and methods for detecting biometrics using\nmicrowave radar sensor modules in accordance with\nembodiments ofthe invention are disclosed. In one embodiment, an integrated microwave sensor module includes a\ntransmitter unit that includes a variable frequency microwave source connected to at least one transmitter unit\namplifier, where: the variable frequency microwave source\nis configured to generate at least one continuous wave\n("CW") transmit signal based upon at least one frequency\ncontrol signal received from a microcontroller unit, and the\nat least one transmitter unit amplifier is configured to receive\nand amplify the at least one CW transit signal; a receiver unit\nconfigured to receive at least one return signal and utilize a\ncancellation path to cancel contributions to the return signal\nthat are not the result of reflections from a target that\nincludes a vector modulator, a combiner, a vector demodulator, and at least one receiver unit amplifier, where: the\nvector modulator is configured to receive at least one\ncancellation path control signal from the microcontroller\nunit, sample the at least one CW transmit signal, and adjust\nan amplitude and phase of the sampled CW transmit signal\nbased upon the at least one cancellation path control signal,\nthe combiner is configured to receive the adjusted transmit\nsignal and combine it with the at least one return signal, the\nat least one receiver unit amplifier is configured to amplify\nthe combined signal, and the vector demodulator is config-\n\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\nured to receive the amplified combined signal, sample the at\nleast one CW transmit signal, and generate two baseband\nsignals by coherently demodulating the amplified combined\nsignal using the sampled CW transmit signal; a microcontroller unit configured to communicate with the transmitter\nand receiver units that includes: a processor, a memory\ncontaining a microcontroller application, where the microcontroller application configures the processor to: generate\nat least one frequency control signal, wherein the at least one\nfrequency control signal can configure the transmitter unit to\ngenerate least one CW transmit signal having a plurality of\nfrequencies, generate at least one cancellation path control\nsignal, wherein the at least one cancellation path control\nsignal can configure the receiver unit to automatically adjust\nthe cancellation path in real time, receive at least one\ndemodulated signal from the receiver unit; digitize the at\nleast one demodulated signal, and update the at least one\nfrequency control and cancellation path control signals\nbased upon the received at least one demodulated signal.\nIn a further embodiment, the variable frequency microwave source is a voltage controlled oscillator.\nIn another embodiment, the at least one transmitter unit\namplifier is connected to at least one transmit antenna\nconfigured to propagate at least one beam using the amplified CW transmit signal set at a plurality of frequencies.\nIn a still further embodiment, the at least one return signal\nis associated with reflections from objects ofthe at least one\nbeam, where the return signal comprises at least one signal\ncomponent having a static phase associated with reflections\nfrom nonmoving objects and at least one signal component\nhaving time varying phase associated with at least one\ntarget.\nIn still another embodiment, the microcontroller application also configures the processor to automatically adjust\ncancellation paths associated with each of the plurality of\nfrequencies.\nIn a yet further embodiment, the microcontroller unit also\nincludes at least one digital-to-analog converter for processing the at least one transmitter frequency control signal.\nIn yet another embodiment, the microcontroller unit also\nincludes a plurality of digital-to-analog converters for processing the at least one cancellation path control signal.\nIn a further embodiment again, the receiver unit also\nincludes a low pass filter to filter the demodulated signal.\nIn another embodiment again, the microcontroller unit\nalso includes a plurality of analog-to-digital converters that\ndigitizes the at least one demodulated signal received from\nthe receiver unit.\nIn a further additional embodiment, the microcontroller\nunit is connected to a host computer.\nIn another additional embodiment, the microcontroller\nunit also includes a temperature sensor configured to take a\ntemperature measurement related to the sensor module.\nIn a still yet further embodiment, the microcontroller\napplication also configures the processor to generate an\nupdated frequency control signal based upon the temperature measurement.\nIn still yet another embodiment,the microcontroller application also configures the processor to generate an updated\ncancellation path control signal based upon the temperature\nmeasurement, wherein the temperature measurement can\nprovide an a priori starting point for adjusting the cancellation path.\nIn a still further embodiment again, the microcontroller\napplication also configures the processor to validate the\ndemodulated signals and format for further processing.\n\nUS 9,986,934 B2\n3\n\n4\n\nIn still another embodiment again, the microcontroller\napplication also configures the processor to provide range\nresolution by processing time and frequency measurements.\nIn a still further additional embodiment, the transmitter\nunit is implemented on a first printed-circuit-board("PCB"),\nthe receiver unit is implemented on a second PCB, and the\nmicrocontroller unit is implemented on a third PCB.\nIn still another additional embodiment,the transmitter and\nreceiver units are separate and synchronized.\nIn a yet further embodiment again, the integrated microwave sensor module is synchronized with another integrated\nmicrowave sensor module.\nIn yet another embodiment again, the integrated microwave sensor module, also includes N transmitter units, M\nreceive antennas, and NxM receiver units to simultaneously\nprocesses multiple frequencies.\nIn a yet further additional embodiment, the vector modulator can be an alternate discrete implementation that\nincludes a quadrature hybrid coupler, a first and second\ndiscrete mixers, and a power combiner.\nIn yet another additional embodiment, the quadrature\nhybrid coupler receives a sampled CW transmit signal from\nthe transmitter unit and splits the received sampled CW\ntransmit signal into a first and second split signals that are 90\ndegrees apart in phase.\nIn a further additional embodiment again, the first discrete\nmixer is configured to receive the first split signal and a first\ninput control signal and output a first mixer signal.\nIn another additional embodiment again, the second discrete mixer is configured to receive the second split signal\nand a second input control signal and output a second mixer\nsignal.\nIn a still yet further embodiment again, the first and\nsecond mixer signals are combined using the power combiner to generate a cancellation signal.\nIn still yet another embodiment again, an integrated\nmicrowave sensor module includes a transmitter unit that\nincludes a voltage controller oscillator ("VCO") connected\nto at least one transmitter unit amplifier, where: the VCO is\nconfigured to generate at least one continuous wave("CW")\ntransmit signal based upon at least one frequency control\nsignal received from a microcontroller unit, the at least one\ntransmitter unit amplifier is configured to receive and\namplify the at least one CW transit signal, and the at least\none transmitter unit amplifier is connected to at least one\ntransmit antenna configured to propagate at least one beam\nusing the amplified CW transmit signal set at a plurality of\nfrequencies based upon the at least one frequency control\nsignal; a receiver unit configured to receive at least one\nreturn signal and utilize a cancellation path to cancel contributions to the return signal that are not the result of\nreflections from a target comprising a vector modulator, a\ncombiner, a vector demodulator, and at least one receiver\nunit amplifier, where: the vector modulator is configured to\nreceive at least one cancellation path control signal from the\nmicrocontroller unit, sample the at least one CW transmit\nsignal, and adjust an amplitude and phase of the sampled\nCW transmit signal based upon the at least one cancellation\npath control signal, the combiner is configured to receive the\nadjusted transmit signal and combine it with the at least one\nreturn signal, the at least one receiver unit amplifier is\nconfigured to amplify the combined signal; and the vector\ndemodulator is configured to receive the amplified combined\nsignal, sample the at least one CW transmit signal, and\ngenerate two baseband signals by coherently demodulating\nthe amplified combined signal using the sampled CW transmit signal, and the at least one return signal is associated\n\nwith reflections from objects of the at least one beam, where\nthe return signal comprises at least one signal component\nhaving a static phase associated with reflections from nonmoving objects and at least one signal component having\ntime varying phase associated with at least one target; a\nmicrocontroller unit configured to communicate with the\ntransmitter and receiver units includes: a processor, a\nmemory containing a microcontroller application, where the\nmicrocontroller application configures the processor to: generate at least one frequency control signal, where the at least\none frequency control signal can configure the transmitter\nunit to generate least one CW transmit signal having a\nplurality of frequencies, generate at least one cancellation\npath control signal, where the at least one cancellation path\ncontrol signal can configure the receiver unit to automatically adjust the cancellation path in real time, receive at least\none demodulated signal from the receiver unit, digitize the\nat least one demodulated signal, and update the at least one\nfrequency control and cancellation path control signals\nbased upon the received at least one demodulated signal, at\nleast one digital-to-analog converter for processing the at\nleast one transmitter frequency control signal, a plurality of\ndigital-to-analog converters for processing the at least one\ncancellation path control signal, and a plurality of analogto-digital converters that digitizes the at least one demodulated signal received from the receiver unit.\n\n5\n\n15\n\n20\n\n25\n\nBRIEF DESCRIPTION OF THE DRAWINGS\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\nFIG. 1 is a system diagram of a life detecting radar\n("FINDER") in accordance with an embodiment of the\ninvention.\nFIG. 2 illustrates an antenna unit in accordance with an\nembodiment of the invention.\nFIG. 3A illustrates a FINDER utilizing a single beam for\ndetection and a reflection of heartbeat signals from a\nbystander in accordance with an embodiment of the invention.\nFIG.3B illustrates a FINDER utilizing multiple beams for\ndetection and elimination ofa bystander target in accordance\nwith an embodiment of the invention.\nFIGS. 4A and 4B illustrate FINDER systems utilizing\nmultiple Antenna Units in accordance with an embodiment\nof the invention.\nFIGS. 5A and 5B illustrate signal propagation characteristics of a signal generated by a FINDER system in accordance with an embodiment of the invention.\nFIG. 6 is a graph illustrating the calculated time domain\nresponse of a received signal in accordance with an embodiment of the invention.\nFIG. 7 illustrates sensing areas of a FINDER system in\naccordance with an embodiment of the invention.\nFIG. 8 is a graph illustrating microwave cardiogram\n("MCG")recorded from two subjects in accordance with an\nembodiment of the invention.\nFIG. 9 is a block diagram illustrating a combined Radio\nFrequency ("RF") module in accordance with an embodiment of the invention.\nFIG. 10 is a block diagram illustrating separate transmit\nand receiver RE modules with digital interfaces in accordance with an embodiment of the invention\nFIG. 11 is a block diagram illustrating a sensor module\ncomprising a microcontroller unit integrated with transmitter and receiver units in accordance with an embodiment of\nthe invention.\n\nUS 9,986,934 B2\n5\n\nT\n\nFIGS. 12A-C illustrate implementation of a sensor modbiometrics (i.e. physiological characteristics) of various targets. A FINDER system in accordance with an embodiment\nule using three printed circuit boards (PCBs)in accordance\nof the invention is illustrated in FIG. 1. The system 100\nwith an embodiment of the invention.\nincludes a user interface 102 configured to wirelessly conFIG. 13 a block diagram illustrating a discrete implementation of a vector modulator in accordance with an embodi- 5 nect and control at least one antenna unit 104, where the\nantenna unit transmits and receives radio signals as further\nment of the invention.\ndescribed below. In several embodiments, the user interface\nFIGS. 14A and 14B are spectrograms illustrating data\n102 can also wirelessly connect to various other units\ncollected using a sensor module in fluorescent lighting\nincluding (but not limited to) computational assist units and\nconditions in accordance with an embodiment of the invenio data archiving units 106. In many embodiments, the user\ntion.\ninterface 102 can communicate wirelessly with a cellular\nFIG. 15 is a graph illustrating a finite impulse response\ndata network 108 (i.e. wireless gateway) to connect to the\n("FIR") filter characteristic in accordance with an embodiInternet 110. Utilizing the Internet 110, the user interface\nment of the invention.\n102 can access additional units including(but not limited to)\nFIG. 16 is a schematic diagram illustrating a transmitter\nmodule and multiple receiver modules connected to a host 15 a command post and other remote resources 112. Although\ndescribed as separate units, in a variety of embodiments, the\nPC in accordance with an embodiment of the invention.\nuser interface 102 and the various units 104,106 can be one\nFIGS.17A-C are graphs illustrating vector characteristics\nphysical unit communicating with each other via a direct\nin accordance with an embodiment of the invention.\nnetwork link or other means of data communication.\nFIG. 18 is a chart illustrating a sample voltage calibration\n20\nAs described above, a FINDER system can include one or\nin accordance with an embodiment of the invention.\nmore antenna units configured to transmit radio signals\nFIG. 19 is chart illustrating timing test results in accorincluding(but not limited to)continuous wave signals and to\ndance with an embodiment of the invention.\nreceive reflected return signals. An antenna unit in accorDETAILED DESCRIPTION OF THE DRAWINGS\ndance with an embodiment of the invention is illustrated in\n25 FIG. 2. The antenna unit 202 includes a microcontroller\nTurning now to the drawings, integrated microwave sen(and/or an embedded PC)204 that can send control signals\nsor modules for detecting biometrics such as (but not limited\n205 to radar electronics 206 and antennas 208 in connection\nto) heartbeat and breathing in accordance with embodiments\nwith the microcontroller 204. In various embodiments, the\nof the invention are disclosed. In many embodiments, the\nradar electronics themselves can be microcontrollers. In\nsensor module integrates a microcontroller unit with trans- so additional embodiments, radar electronics 206 can be incormitter and receiver units for target detection and/or biometporated with the transmit antenna 208 (i.e. transmit module).\nric measurements. In various embodiments, the transmitter\nLikewise,radar electronics 206 can be incorporated with the\nunit can include at least one transmit antenna that transmits\nreceive antenna 208 (i.e. receive module). In several\na continuous microwave(CW)signal at various frequencies\nembodiments, a communications interface 201 can be used\nto illuminate at least one sensing area. In several embodi- 35 to send and receive information or communicate with other\nments, the receiver unit can include at least one receive\nantenna units. Communications interface 201 may be wired\nantenna configured to receive a return signal associated with\nor wireless. In many embodiments, the antennas 208 include\nreflections of the transmitted signal from various objects\ntransmit antennas for transmitting radio signals as further\nand/or targets. Typically, the transmitted signal is used as a\ndiscussed below. The antennas 208 can also include receive\nreference for the demodulation of the received signal. Typi- 4o antennas for receiving return signals that include reflections\ncally, the receiver unit coherently combines an amplitude\nfrom various physical objects in the search area as further\nand phase adjusted sample ofthe transmitted signal with the\ndiscussed below. In various embodiments, the received\nreceived signal to cancel contributions to the received signal\nsignal is stored as digital radar data and transmitted to the\nthat are not the result of reflections from the target. As\nmicrocontroller (and/or an embedded PC) 204 for signal\ndiscussed further below, the microcontroller unit can be 45 processing as further discussed below.\nconfigured using software to calibrate and initialize various\nThe ability for a FINDER system to form multiple beams\nparameters including (but not limited to) the transmit frecan improve target identification and separation. A FINDER\nquencies and cancellation paths using automated processes.\nsystem utilizing a single beam for detection in accordance\nIn various embodiments, the sensor module can also include\nwith an embodiment of the invention is illustrated in FIG.\nan external synchronization interface allowing multiple sen- 50 3A. The FINDER system 302 transmits signals to illuminate\nsor modules to interconnect and be simultaneously sampled\na single beam 304 to detect a victim 306 who is surrounded\nso that multiple sensors can be utilized to detect a one or\nby rubble. Often in real life search scenarios, various objects\nmore targets and also measure biometrics.\n308 reflect the transmit signal 303 in undesired directions\nAlthough sensor modules for use in Life Detecting Radar\nresulting in unwanted return signals. Further, search person(FINDER)Systems are described in detail below as applied 55 nel ("first responders")310 can also cause return signals 312\nto detecting victims buried in rubble, it can have various\nand be misidentified as victims. As illustrated, the transmitother applications including (but not limited to) detecting\nted signal 303 is reflecting off various objections 308, and\nprisoners barricaded in a prison, suspects hiding in farm\nthen that reflection 311 is reflecting off the bystander 310,\nfields or houses, general motion detection, species identifieventually ending up at the FINDER 302. In many embodication, as well being used as a form of diagnostic or 60 ments, the beam is not ideal with sharp edges meaning even\nbiometric measurement instrument. Finder systems for\nthough the beam 304 is generally directed in a particular\ndetecting biometrics of and/or identifying a target in accordirection, signals will be transmitted and received in all\ndance with embodiments of the invention are further disdirections, at reduced amplitudes.\ncussed below.\nThe use of multiple beams can increase detection accuLife Detecting Radar ("FINDER") Systems\n65 racy and sensitivity. A FINDER system utilizing multiple\nFINDER (acronym for Finding Individuals for Disaster\nbeams for detection in accordance with an embodiment of\nand Emergency Response) systems can be utilized to detect\nthe invention is illustrated in FIG. 3B. The FINDER 352 can\n\nUS 9,986,934 B2\n7\n\n8\n\nform multiple beams 354 and 356 as further discussed\nTypically, each person has a unique MCG which varies\nbelow. The first beam 354 can detect the victim 358 while\ndepending on their orientation relative to the sensor, and,\nthe second beam 356 can eliminate the first responder 360 as\ntheir physiological state. The uniqueness of MCG allows for\na possible victim as further discussed below. In addition, the\nthe separation of combined MCGs from multiple targets\nability to simultaneously "view" the search area in multiple 5 (statistical analysis shows that it is unlikely that two people\ndirections can be useful. For example, being able to look in\nwould have exactly the same heart rate, and even if the\nmultiple directions at the same time allows rejection of\naverage rate were the same, the beat to beat variability is a\nphantom victims in the search area that are really just\nrandom process, causing the two sequences to be uncorrereflections from someone standing behind the FINDER\nlated). However, in real search scenario, there may be a\nantenna unit or next to the search area. In many embodi- io multitude of other objects besides the victim reflecting a\nments, FINDER systems can be designed such that the basic\nmicrowave signal back to the receiver, including (but not\nradio frequency ("RF") signal chain is readily scalable to\nlimited to) the rubble surrounding the victim, and objects\nmultiple beams and locations.\nnear the radar. Typically, such signals are reflected from\nIn addition to multiple beams, FINDER systems can\nobjects that are not moving and thus the phase stays relautilize multiple frequencies in an allocated bandwidth. A 15 tively constant/static. The return signal that a radar receiver\nFINDER system employing multiple frequencies can avoid\ndetects is typically a combination of a strong static signal\ninterference by signals from other sources and/or not intercomponent (corresponding to reflections from non-moving\nfere with other systems by using a different frequency from\nobjects) that is unchanging with a weaker time varying\nsuch other systems. The use of multiple frequencies in\nsignal component (corresponding to a victim). In terms of\naccordance with an embodiment of the invention is illus- 20 level, the static signal component that is received by the\ntrated in FIGS. 4A-B. The search scenario 400 illustrates\nradar is typically on the order of 20 dB weaker than the\ntwo antenna units 402 and 404 being controlled by a single\ntransmitted signal, while the time varying return signal\nuser 406 via a single user interface 408. The antenna unit\nreflected off a victim is typically 60-100 dB (or more)\n402 transmits a transmit signal to illuminate a beam 410 at\nweaker. The dominant reason for the weaker signal from the\na first frequency while antenna unit 404 transmits a separate 25 victim is the scattering of the signal in the rubble, as well as\ntransmit signal to illuminate a second beam 412 at a second\nthe bulk attenuation in the rubble material.\nfrequency. Both beams 410 and 412 are transmitted to the\nSignal propagation characteristics in accordance with an\nsame rubble search area 414 without interfering with each\nembodiment of the invention are illustrated in FIGS. 5A-B.\nother because the two transmit signals operate at different\nIn many embodiments, a transmit signal 502 in a frequency\nfrequencies. FINDER systems utilizing multiple frequencies 30 band such as (but not limited to) 3.1-3.4 GHz can hit a\nto illuminate two separate rubble search areas at the same\nsurface 504 causing surface scatter with portions that scatter\nlocation in accordance with an embodiment of the invention\naway 506 and portions that reflect back 507 to the radar. In\nis illustrated in FIG. 4B. The search scenario 450 illustrates\nseveral embodiments, portions of the transmit signal (and\nUser A 452 utilizing a user interface 454 that communicates\nany reflected signals) can be absorbed and lost into the soil\nwith an antenna unit 456 to illuminate a rubble search area 35 508. Further, rubble 510 can cause rubble scatter, again, with\n458 utilizing a first frequency. At the same location, User B\nportions reflecting back toward the radar 512, portions\n460 can utilize a user interface 462 to communicate with an\ndirecting toward the target 514, and portions that scattered\nantenna unit 464 to illuminate a rubble search area 466 using\naway. A buried target 518 can also cause a target reflection\na second frequency. Again, the use of multiple frequencies\nthat includes portions that reflect toward the radar 516,\nallow for the FINDER systems to avoid interfering with 40 portions that are loss due to soil absorption, and/or scatter\neach other while operating in the same location. Furtheraway. FIG. 5B illustrates the cumulative effects of reflecmore,the detection of victims or targets can be enhanced by\ntions of a transmitted signal. The transmitted signal 552 first\ncombining the outputs of multiple FINDER systems to\nhits a surface causing surface scatter back toward the radar\ncollect data concerning a target from multiple directions. In\n554, toward the target 556, and away 558. Rubble in the\nseveral embodiments, synchronized data recording can be 45 search area can cause rubble scatter toward the radar 558,\nutilized to enable the detection of matching time varying\ntoward the target 560, and away 562. Further, a target causes\nsignals such as (but not limited to) respirations and heart\na target reflection toward the radar 562. The cumulative\nbeats in signals received by different antennas and/or\nsignal ofthe reflections back towards the radar is received by\nFINDER systems.\na receive antenna at the received signal 564. Generally,\nAlthough specific FINDER systems for detecting victims 50 portions of all signals (signals that return toward the radar or\nare discussed above with respect to FIGS. 1413, any of a\ncontinue towards the victim) can be lost to the soil and/or\nvariety of FINDER systems for detecting victims as approscattered away.\npriate to the requirements of a specific application can be\nIn many embodiments, contributions to the received sigutilized in accordance with embodiments of the invention.\nnal that are not the result of target reflections can be\nSignal processing for victim detection in accordance with 55 characterized as clutter and removed via a cancellation path.\nembodiments of the invention are discussed further below.\nIn various embodiments, the cancellation path includes\nSignal Characteristics and Signal Processing\nsubtracting a sample of the transmitted signal from the\nFINDER systems utilize the principle oflooking for small\nreceived signal where the sample signal\'s phase and ampliphase changes in a CW signal reflected from a victim due to\ntude are adjusted to closely match the static unvarying\nmotion or internal changes. As a victim breathes, their body 60 clutter signal. In many embodiments, the transmitted signal\nmoves slightly (in particular, their chest wall on the order of\nthat is cancelled from the received signal is not the signal\n1 cm), and similarly, their heartbeat causes the abdominal\nactually transmitted by the finder system, but can be a signal\nsurface and many other portions of the human body to move\nreceived by the finder system from a direction that does not\n(on the order of 1 mm). The moving body causes reflections\ninclude the search area. Therefore,the transmitted signal can\nof transmit signals with varying phases (i.e. phase change). 65 be considered to be any signal that enables cancellation of\nThe detected phase change by receive antennas forms the\nenvironmental reflections from areas outside of the search\nbasis of the so-called microwave cardiogram ("MCG").\narea. Typically, when the sample signal is subtracted from\n\nUS 9,986,934 B2\n9\n\n10\n\nthe received signal, only a varying signal from the victim(s)\nAlthough specific target discrimination techniques utilizing multiple sensing areas are discussed above with respect\nremains and can be further processed for biometric analysis\nto FIGS. 6-8, any of a variety of target discrimination\nand victim detection. In several embodiments, the canceltechniques utilizing multiple sensing areas as appropriate to\nlation path can be automatically adjusted utilizing software\n5 the requirements of a specific application can be utilized in\nas further described below.\naccordance with embodiments of the invention. Radio FreAlthough specific signal characteristics and signal proquency ("RP) Modules for victim detection in accordance\ncessing methods for detecting victims are discussed above\nwith embodiments of the invention are further discussed\nwith respect to FIGS. 5A-B, any of a variety of signals and\nbelow.\nprocessing of signals for detecting victims as appropriate to\nio RE Modules\nthe requirements of a specific application can be utilized in\nTypically, an RE module is a small electronic device used\naccordance with embodiments of the invention. FINDER\nto transmit and/or receive radio signals. RE modules can be\nsystems capable of discriminating between spurious and\nconfigured (and include components) to perform transmit\nintended targets in accordance with embodiments of the\n(i.e. transmitter module), receive (i.e. receiver module), or\ninvention are discussed further below.\n15 combination of transmitter and receiver functions. In many\nTarget Separation\nembodiments, the FINDER system can be configured such\nSpurious targets (i.e. not intended targets) can be a\nthat the RE module is a single channel and single beam CW\nproblem in detecting victims in a search area. As discussed\nFM radar.\nabove, a person standing to the side of the search area can\nA combined RE module in accordance with an embodishow up as a target, because the antenna\'s response does not 20 ment ofthe invention is illustrated in FIG.9. The RE module\nfall off very quickly. Typically, spurious targets show up as\n900 can be divided into three sections: a transmitter section\na very strong signal because their reflection are not attenu902 which generates the variable frequency signal radiated\nated and scattered by passing through the rubble. In many\ntowards the rubble; a receiver section 904 which demoduembodiments, multiple beams can be utilized to simultanelates the signals reflected from the rubble (and victim); and\nously look in multiple directions, including to the side and 25 the cancellation path section 906 which is used to cancel out\nrear of a FINDER. Further, a target that is not within the\nthe unchanging response (i.e. clutter), leaving just the\nsensing area of a particular receive antenna may be detected\nchanging signal (i.e. target reflection). The RE module can\nby other receive antennas, and may even produce a stronger\nalso include frequency controls, cancellation path controls\nreflection signal in those directions allowing it to be iden(as two signals, I and Q), and receiver output(as two signals,\ntified and separated out. Likewise, multiple frequencies can so I and Q). In many embodiments, the transmitter section\nbe useful as reflected and side targets tend not to be as\nincludes a variable frequency microwave source where a\nscattered and thus showing up as narrower time domain\nVoltage Controlled Oscillator ("VCO") 910 is driven by a\nresponses. In addition, a FINDER system can divide a\ndigital-to-analog converter ("DAC") controlled by a comsearch area into multiple sensing areas in different directions\nputer 912 to set frequencies for transmit signals. The VCO\nand distances.\n35 output is followed by filters and buffer amplifiers 914\nA graph illustrating a calculated time domain response in\nresulting in a 1-10 mW signal. The transmitter section can\naccordance with an embodiment of the invention is illusalso include power dividers that take a coherent sample of\ntrated in FIG. 6. The graph 600 depicts spikes of magnitude\nthe transmitted signal where the sample signal can be used\nat various times corresponding to reflections from a target\nfor the cancellation signal and to set the local oscillator for\n602 and late scatter 604. In many embodiments, a two 40 the receiver\'s demodulator. In many embodiments, the cannanosecond delay corresponds to one foot ofrubble. Further,\ncellation path section can use an I/Q vector modulator 916\nthe graph demonstrates that there can be limits to the\nto adjust the amplitude and phase 916 of the cancellation\nposition accuracy of the radar.\nsignal. The I/Q inputs can be driven from DACs in the\nVarious sensing areas in accordance with an embodiment\ndigital module, which are controlled by the computer to\nof the invention are illustrated in FIG. 7. The FINDER 45 optimally cancel the fixed clutter signal. Any gain or offset\nsystem 702 can have a range 704 and sweeping direction 706\nimbalance in the I/Q inputs can be compensated by adjusting\ndefining different sensing areas such as 708 and 710. Typithe DACs in a closed loop process. Since the control signals\ncally, targets will show up in multiple sensing areas, but will\nare essentially direct current ("DC") signals, any phase\nbe stronger or more sharply defined in some areas than in\nimbalance in the control paths would manifest as something\nothers. In processing the received signals, the sensing areas 50 that can be controlled by the gain and offset. In several\ndirectly in front ofthe FINDER system and the targets which\nembodiments, the cancellation path includes a 20 dB attenuhave levels and characteristics consistent with being the\nator 918 to move the adjustment range closer to the expected\nintended target can be presented to a user. In many embodilevel ofthe clutter signal. The value of the attenuator can be\nments, the FINDER uses multiple antennas for multiple\nadjusted for optimum performance. In various embodibeams and a limited stepped frequency CW radar techniques 55 ments, resistive voltage dividers can be used to scale the\nfor multiple range zones. In various embodiments, the size\noutput of the DAC to appropriate levels for the vector\nof the zones can be configured based upon the data utilized\nmodulator.\nto calculate the time domain response.\nIn several embodiments, the receiver section 904 of the\nThe FINDER system can also discriminate among targets\nRE module can include a bandpass filter to select frequensince each person typically has a unique MCG and respira- 60 cies utilized by the radar and to remove the unwanted signals\ntion related reflection signals. A graph illustrating MCG\nfrom adjacent bands. The demodulator is essentially a direct\nrecorded from two subjects in accordance with an embodiconversion to baseband, so out of band image responses are\nment of the invention is illustrated in FIG. 8. The graph 800\nnot a concern, however there can be about 50 dB of gain in\nshows approximately 10 seconds of MCGs recorded from\nthe receiver before the demodulation and so filtering avoids\ntwo different subjects. While both the first signal 802 and the 65 amplifying any out ofband signals. After the initial filtering,\nsecond signal 804 are rhythmic and periodic, both signals\nthe received signal can be combined with the cancellation\nare quite different and readily distinguishable.\nsignal from the cancellation path using a power combiner\n\nUS 9,986,934 B2\n11\n\n12\n\n920 (a simple resistive combiner or even a microstripline\ninterface 1009.In various embodiments, the digital interface\ndirectional coupler can provide a lower cost option). In\n1009 is connected to an embedded computer as described\nmany embodiments, the FINDER design is self-calibrated\nabove. The system 1000 can also include a receiver module\nfor each frequency, so changes in match or gain on either the\n1003 that includes a receiver board 1010 that is connected to\ncancellation signal or received signal are essentially com- 5 a receive antenna 1012. The receiver board 1010 can include\npensated by the closed loop cancellation process. Field and\nI/Q modulators 1014 and demodulators 1016 (and various\nlaboratory testing have shown that a Low Noise Amplifier\nbuffers and amplifiers) for cancellation path processing as\n("LNA")may not be needed before the combiner and could\ndiscussed above.In various embodiments,the receiver board\nbe problematic because of the very strong signal coupled\n1010 is also connected to a digital interface 1018 that\nfrom the transmit antenna. A transmit/receive isolation of io connects to an embedded computer or host computer for\n\xe2\x80\x9420 dB is typically expected, so a radiated +10 dBm signal\nsignal processing. In many embodiments, the microconwould appear at the receiver input at \xe2\x80\x9410 dBm. With such a\ntroller 1120 can control power to the transmitter board 1004\nstrong signal, front end gain is not typically needed. In many\nusing a controllable DC/DC converter 1122. Likewise, a\nembodiments, a small ceramic bandpass filter combined\nmicrocontroller 1124, part of the digital interface 1018 can\nwith amplifier 921 with a nominal range around 2.8 to 3.4 15 control and supply power to the receiver board 1010 using\nGHz can be used before sending the signal to the demodua controllable DC/DC converter 1126. In a number of\nlator 922. Although extending below lowest transmit freembodiments, a single board RE Module with a transmitter,\nquency of 3.1 GHz,the filter can reduce potentially troublecancellation path, and receiver all on one printed circuit\nsome interference in the 2.45 GHz ISM band, which is used\nboard ("PCB") can be utilized.\nfor everything from microwave ovens to WiFi links.\n20\nAlthough specific RE modules are discussed above with\nAfter most of the static clutter contributions to the\nrespect to FIGS. 9-10, any of a variety of RE modules as\nreceived signal are removed, the remaining signal can then\nappropriate to the requirements of a specific application can\nbe amplified via a chain of bandpass filters and monolithic\nbe utilized in accordance with embodiments of the invenamplifiers. The bandpass filters can be identical to the one\ntion. Digital Modules for use in FINDER systems in accorused at the input, inserted between each amplifier to reduce 25 dance with embodiments of the invention are further disthe chance of oscillation at an out of band frequency. The\ncussed below.\nmonolithic amplifiers (as represented in combination as 921\nDigital Modules\nin FIG. 9) in many embodiments are typical of MMIC\nFINDER systems can include one or more digital modules\ndevices with a bandwidth of DC to 8 GHz. The interstage\nthat contain data converters such as (but not limited to)\nfilters reduce the possibility of there being spurious oscil- 3o analog-to-digital converters("ADCs")and DACs serving as\nlations resulting from unwanted signals coupling from outthe interface between RE modules and the signal processing\nput to input at just the wrong phase.\nsoftware. In various embodiments, the digital modules can\nIn many embodiments, a power divider sends the signal to\nbe part of the RE module as discussed above with respect to\nan I/Q demodulator and to a test port. The test port can be\nFIG. 10 (see digital interface 1009 and 1018). Typically, a\nused to measure the total power or view the signal spectrum 35 microcontroller or FPGA can read ADCs at a rate of 100-200\non a spectrum analyzer. Such an RE power measurement\nkilosamples per second. In many embodiments, sampled\nmonitor port might be useful in system self-calibration and\ndata can be filtered and decimated (reduction in sampling\nin initial adjustment ofthe cancellation signal, particularly if\nrate) to a few hundred samples/second for target detection.\nthe signal is strong enough to saturate the I/Q demodulator.\nThe digital module also provides a high level interface to the\nHowever, any anomalies in the receive chain can be deter- 4o DACs that control the VCO frequency and the I/Q control\nmined by looking at the output ofthe I/Q demodulator as the\nvoltages for the cancellation path.\ncancellation path is adjusted over the range of values. A 90\nAlthough an off the shelf data acquisition system can be\ndegree change in the cancellation path should show up as a\nused, the digital module can be implemented with monocomparable change in the output of the quadrature demodulithic integrated circuit ADCs similar to those used in digital\nlator. As a result, several embodiments of the receiver 45 audio systems. The ADC may be either integrated with the\nmodule 904 do not include a monitor port.\nmicrocontroller or a separate device, depending on the\nTypically, monolithic amplifiers are stable with almost\noverall system design. One factor to consider can be the\nany load. Further, at the low powers that are utilized, the\nnumber of beams and frequencies used to achieve the\npower reflected from the antenna doesn\'t cause many probdesired performance, which in turn affects whether multilems with dissipation in the amplifier. Furthermore, leakage 50 channel data converters should be used.\nwithin the RE module from the transmit to receive side (e.g.\nIn various embodiments, a testing unit can be an off the\nTx reflected power from the antenna mismatch coupling\nshelf National Instruments Compact RIO unit with ADC,\nback through power dividers, etc.) is generally small, and\nDAC, and digital plugins. In various embodiments, this can\nessentially unchanging over time scales of minutes. In fact,\nbe replaced by a single card with data converters and the\nthe leakage looks like static returns from clutter, which can 55 necessary digital processing for filtering. The interface\nbe cancelled by fundamental operations as discussed above.\nbetween the digital module and the embedded computer can\nAlthough a combined RE module with a transmitter\nincludes a variety of data transfer standards including (but\nsection and a receiver section are discussed above with\nnot limited to) Universal Serial Bus ("USB") or Ethernet.\nrespect to FIG. 9, an RE module can be separated into\nTypically, the ADC has sufficient conversion speed to allow\ntransmitter and receiver modules where each RE module is 60 sampling the output ofthe I/Q demodulator signals. There is\nconnected to its own digital interface. A system comprising\na tradeoff with conversion speed fast conversions relax the\ntransmitter and receiver modules in accordance with an\nrequirements on the low pass filters at the I/Q outputs, while\nembodiment of the invention is illustrated in FIG. 10. The\nconsuming more power and introducing more digital noise.\nsystem 1000 can include a transmitter module 1001 having\nSlower conversions can involve lower cutoff frequencies on\na transmitter antenna 1002 that is connected to a transmitter 65 the low pass filter with the added advantage of lower power\nboard 1004. The transmitter board 1004 can include a VCO\nconsumption. However, the lower cutoff frequency of the\n1006 driven by a DAC 1008 that is part of the digital\nanalog filters ahead of the ADC can increase the amount of\n\nUS 9,986,934 B2\n13\n\n14\n\ntime it takes for the values to stabilize. A fast conversion\nembodiments,low pass filtering can be applied in the analog\ntypical utilizes digital processing to filter and decimate to a\ntuning voltage chain to avoid unwanted noise modulation,\nreasonable rate for the heartbeat detection and victim detecthus, a notional low pass of 100-200 kHz can be selected,\ntion processes.\nand the DAC should convert in less than a microsecond.\nThe basic sample rate for victim detection can be 300-500 5\nAlthough specific digital modules are discussed above,\nHz, which is more than 100 times faster than the heart rate\nany of a variety of digital modules as appropriate to the\nwhich is about 0.5 to 2 Hz(usually given as 30-120 beats per\nrequirements of a specific application can be utilized in\nminute). This sample rate is sufficiently high for adequate\naccordance with embodiments of the invention. Sensor\nresolution of the fine structure and morphology of the\nmodules that integrate digital and RE modules for target\nheartbeat(and respiration) signals. In many embodiments, a io detection in accordance with embodiments of the invention\ndecimated sample rate of 200 Hz can be selected. This rate\nare further discussed below.\nis sufficiently higher than the heart and breathing rates, and\nIntegrated Sensor Modules\ntheir harmonics. As previously discussed, the FINDER\nVarious functionalities (and components) of RE and digisystem typically operates between frequencies and/or beams\ntal modules can be integrated into sensor modules for target\nand revisits the same beam/frequency combination at a 500 15 detection and biometric measurement. An integrated sensor\nHz rate. With 16-32 beam/frequency combinations, there is\nmodule in accordance with an embodiment of the invention\napproximately 62.5 microseconds per beam/frequency\nis shown in FIG. 11. The sensor module 1100 can include a\nimplying that the ADC measurement can be made in around\ntransmitter unit 1110, a receiver unit 1120, and a microcon50 microseconds. This allows for 10 microseconds for the\ntroller unit 1150, where the microcontroller unit can be\nmicrowave oscillator and cancellation paths to settle. Thus, 20 configured to calibrate and initialize various parameters\nanalog filters on the I/Q output should have a time delay/\nincluding (but not limited to) the transmit frequencies and\nsettling time on the order of 10-20 microseconds, or around\ncancellation paths as further discussed below. In many\n50-100 kHz cutoff.\nembodiments, the microcontroller unit can include a microThe I/Q control for the cancellation path can have more\ncontroller 1160 connected to various data converters 1152,\nstringent requirements than the VCO tuning. The settling 25 1154, 1156, and 1158 for communication with the transmittime can be chosen as one microsecond for the same reasons\nter 1110 and receiver 1120 units. Further, the microcontroller\nas the VCO tuning DAC.The DAC should have enough bits\nunit can utilize various data converters in processing from\nthat it does not limit the accuracy with which the DC I/Q\nfrequency steps to range as discussed above. In addition, the\nvoltages are set, rather the performance should be limited by\nmicrocontroller can be connected to a host computer 1170\nthe modulator and other components. The modulator per- 30 and various other sensors 1162.\nformance specification typically is called out as a Carrier\nIn several embodiments, the transmitter unit 1110\nSuppression/Nulling, and for the device selected for specific\nincludes a VCO 1112 and various amplifier stages 1114 to\nembodiments, it is \xe2\x80\x9440 dB. This specification provides some\ngenerate an appropriate transmit signal. In generating a\nguidance, but it is not directly usable since it defines the\ntransmit signal, the VCO can receive input from the microperformance where I/Q are driven by sine waves with the 35 controller 1160 via the DAC 1152 using at least one freDC offset adjusted to minimize the carrier signal. This\nquency control signal. Further, since the output frequency\nperformance implies that the DC bias can be set to 1 part in\ncan vary strongly with temperature, the microcontroller can\n100(40 dB in power is a factor of 100 in voltage), or about\nutilize a temperature sensor 1162 (with a lookup table or\n7-8 bits equivalent resolution. In FINDER applications\nother techniques) to determine appropriate tuning voltages\nwhere the I/Q inputs are DC voltages substantially better 40 to send to the VCO. As a note, to improve frequency\nperformance is typical. Laboratory measurements of specific\nstability, the microwave source may use a phased locked\nmodulators using a precision power supply have shown that\nloop (PLL), where the frequency changes can be accom10 mV steps out of 60V (corresponding to about 0.3 mV out\nplished by the microcontroller setting programmable regisof a 2 V swing), or 1 part in 6000 can be easily resolved\nters in the PLL frequency divider. Further, depending on the\nusing a vector network analyzer to measure the phase and 45 requirements of a specific application, the microcontroller\namplitude. This corresponds to around 13 bits ofresolution.\nunit can periodically change the transmitter frequency\nTherefore a DAC with 14 or 16 bit performance can be\naccording to a predetermined pattern so that the module may\nutilized. Typically, a perfect null is not required and with\nbe used a stepped frequency radar for increased range\nappropriate gain distribution signals can be seen in less than\nresolution, to mitigate the effect ofinterference(by avoiding\nideal conditions.\n50 interfering signals), and to mitigate the effect of the radar\'s\nThe DAC should have enough bits to step in small enough\nRE emissions on other RE systems (e.g. for regulatory\nfrequency intervals to support some level of range processcompliance).\ning using stepped frequency CW. In general, this suggests\nIn various embodiments, the receiver unit 1120 can\nthat the phase difference of the microwave signal at the\ninclude a chain of amplifiers to increase the level of a\nmaximum range should vary less than 180 degrees between 55 received signal, a vector modulator 1124 that utilizes a\ntwo successive steps. For a maximum range of 30 meters, a\nsample of the transmitted signal as reference, and a cancelround trip distance 60 meters, this is 5 MHz. For a typical\nlation path that can be configured to adjust the amplitude and\nmonolithic VCO tuning voltage range of0 to 5V tuning over\nphase of a sample of the transmitted signal and combine it\nthe entire 300 MHz range, this means at least 60 steps or a\nwith the received signal before amplification. In several\n6 bit DAC should be chosen.\n60 embodiments, the vector modulator can receive input from\nIn many embodiments, the DAC should settle fast enough\nthe microcontroller 1160 via a at least one DAC 1154\nthat FINDER can step between frequencies or beams and\n(typically 2 DACs are utilized) using at least one cancellahave enough time for the I/Q demodulator measurements to\ntion path control signal. Typically, the received signal, after\nsettle, before moving to the next combination. The VCO\ncancellation of the transmitted signal, is amplified in a chain\nmodulation bandwidth for typical VCOs is >50 MHz (im- 65 of amplifiers 1128 before being coherently demodulated by\nplying response times of 20 ns or faster), so the DAC\na vector demodulator 1130. In many embodiments, the RE\nresponse and settling can be the limiting factor. In various\namplifier chain and the post detection buffer amplifier gains\n\nUS 9,986,934 B2\n15\n\n16\n\nare normally chosen so that the thermal noise of the first\nknown to one of ordinary skill in the art. For example,in the\namplifier is more than the minimum signal for the ADCs,\nimplementation for FINDER, a USB slave interface prowhile preserving the maximum dynamic range. In practice,\nvides a virtual serial communications port using industry\nvariable gain in the receiver has not been found to be needed,\nstandard protocols. The USB interface also provides a means\nbut adding it to the design can be straightforward, and may 5 by which new software may be loaded and stored in the\nallow the use of lower resolution ADCs. Since the sensor\nmicrocontroller. In many embodiments, the sensor module\nmodule can be used for detection ofrelatively low frequency\ncan also provide a conventional serial port interface, which\nphenomenon over a time span of seconds, the gain control\nmay be configured for various signaling (baud) rates and\ncan be slow, stepped, and nonlinear, saving complexity and\ncharacter formats. The serial port may also be configured for\ncost.\nto\nother serial interfaces such as I2C or SPI. Finally, the\nIn various embodiments, the vector demodulator 1130\nmodule can provide an external synchronization interface to\nproduces two baseband signals for the inphase and quadraallow multiple modules to be interconnected and sample\nture components (I and Q) and uses a sample of the\nsimultaneously so that a single target can be detected by\ntransmitted signal as the reference or local oscillator, thus\nperforming a classic homodyne detection. The I and Q 15 multiple sensors.\nA sensor module implemented using three PCBs in accoroutputs can be filtered using a low pass filter ("LPF") 1132\ndance with an embodiment of the invention are shown in\nand buffered before being fed to at least one ADC 1156\nFIGS. 12A-C. The PCB 1200 can include digital compo(typically a two ADCs are utilized). As with the vector\nnents such as (but not limited to) the microcontroller unit as\nmodulator, the FINDER implementation typically utilizes a\nmonolithic integrated circuit to perform this function, how- 20 described above. In several embodiments, a separate PCB\n1210 can include the receiver unit as described above. In\never, alternate implementations are possible, such as entirely\npassive system using quadrature hybrids, mixers, and power\nvarious embodiments, an additional PCB 1220 can include\ndividers as further discussed below. It is expected that\nthe transmitter unit as described above. In many embodiwithout any cancellation signal (e.g. the vector modulator\nments, the 3 PCBS 1200, 1210, and 1220 can be integrated\nset to maximum attenuation) the ordinary reflected signal 25 into a single 3"x3" aluminum housing which can serve as a\nreceived by the receiver will saturate the amplifiers and\nground plane for a linear polarized air dielectric patch\nADC and thus the cancellation signal must be properly\nantenna.\nadjusted. Similarly, the demodulator function typically operAlthough the sensor module is described above as sepaates on a very narrow band signal, and errors in phase, gain,\nrate microcontroller, transmitter, and receiver units, various\nor offset can be compensated in the signal processing 30 configurations of the module are possible. For example, the\ndownstream. In many embodiments, the microcontroller\ntransmitter and receiver units may be combined in a single\nunit can be configured to execute calibration processes to\npackage in the simplest configuration. In more complex\nadjust the amplitude and phase of the cancellation signal to\nconfigurations, modules may include only the transmitter\noptimize the dynamic range. In various embodiments, the\nunit or only the receiver unit, with the reference signal\ntemperature measurement can provide an a priori starting 35 carried between modules by coaxial cables or implemented\npoint for adjustment of the I/Q cancellation path. Thus,\nin a manner well known to one of ordinary skill in the art.\nknowing the temperature can speed up the calibration proIn the context of the FINDER life detecting radar, five\ncess by providing a closer first estimate.\nseparate RE modules can be used where one module\nFurther, the microcontroller unit can perform a number of\nincludes a transmitter board, and four modules include four\nadditional functions which may be needed in a practical 4o receiver boards, respectively, where each board can be\nsystem. For example, the DC power to the RE circuitry can\nfurther connected to separate antennas, each facing in a\nbe cut when not taking measurements, or the microcontroller\ndifferent direction. In various embodiments, a steerable\ncan be configured to perform a repetitive sequence of\nbeam antenna may be created by using multiple transmit or\nturning on the power, waiting for the components to stabireceive antennas in an array configuration. In a further\nlize, making a measurement, storing or transmitting the data, 45 configuration an external antenna, perhaps of high gain for\nand then shutting down. Further, the microcontroller 1160\nnarrow beam width, or part of a probe for crevices or hostile\ncan measure the unregulated supply voltage and report it to\nenvironments may be utilized.\na host computer 1170 for diagnostic purposes (e.g. estimatAlthough specific sensor modules that integrate microing the state ofcharge ofa battery power source or validating\ncontroller units with transmitter and receiver units are\nthat DC power is available at all). Furthermore, the micro- 5o described above with respect to FIGS. 11-12C, any of a\ncontroller may control other parts such as(but not limited to)\nvariety of sensor modules utilizing microcontroller, transcolored LEDs that can be illuminated in different colors\nmitter, and receiver units as appropriate to the requirements\ndepending on the operational mode, or for diagnostic purof a specific application can be utilized in accordance with\nposes.\nembodiments of the invention. Alternative discrete impleAs discussed above, the microcontroller unit can include 55 mentations in accordance with embodiments of the invenother sensors 1162 such as an accelerometer or rate sensor\ntion are discussed further below.\nfor applications involving movement, where the microconAlternative Discrete Implementations\ntroller can utilizes such data to either to warn the user that\nAs discussed above, a sample ofthe transmitted signal can\nmovement occurred or to help compensate for the effects of\nbe passed through a vector modulator to adjust the amplitude\nthe motion on the radar signals. Further, the microcontroller 6o and phase. The output of the vector modulator can then be\nunit can include a DC to DC converter 1158 to convert\nattenuated so that the maximum signal is approximately\nunregulated DC supply voltage from a battery (9-18 volts in\nequal to the power normally received by the antenna (apsome embodiments)to a regulated 5 voltage(5 volts)for use\nproximately 20 dB down from the transmit power this\nby the RE circuitry.\nallows the maximum range for adjustment of the cancellaIn many embodiments, the microcontroller 1160 can 65 tion signal). Typically, the fixed attenuation should be taicommunicate with the host computer 1170 or other device\nlored to the specific implementation with the following\nusing a variety of interfaces implemented in manners well\nguidelines:\n\nUS 9,986,934 B2\n17\n\n18\n\nthe maximum level of the cancellation signal should be\nlarge enough to completely cancel the received signal,\nwhen the coupling from transmit antenna to receive\nantenna is maximum. In the typical radar implementation (as in FINDER)the majority ofthe coupling is due\nto the packaging of the modules within the outside\nenclosure, but in other instances (e.g. when the modules are used directly in contact with some solid\nobject), the reflection from the object might be stronger;\nthe maximum level of the cancellation signal should not\nbe too large, because there is limited resolution in the\nphase and amplitude adjustment (vector modulator)\nand too large a signal, combined with large adjustment\nsteps, may make it impossible to achieve effective\ncancellation; and\nthe maximum level should be small enough that when\nthere is no receive signal (e.g. ifthe antenna is replaced\nby a termination, or left unconnected), that the receiver\nchain is not damaged.\nWhile the FINDER implementation uses a monolithic\nvector modulator integrated circuit, other lower power\nimplementations could use a quadrature hybrid, discrete\nmixers, and a power combiner. An alternate discrete implementation ofthe vector modulator for the signal cancellation\npath is shown in FIG. 13. The discrete implementation 1300\nincludes a quadrature hybrid combiner 1302 configured to\nsample the transmitter signal as a reference 1304. In many\nembodiments, the sample signal is transmitted from the\nquadrature hybrid to discrete mixers 1306, 1308 where the\nrespective signals are combined using a power combiner\n1310 to generate a cancellation signal 1312 that is sent to the\nreceiver unit. A control signal 1314 controls the amplitude of\nthe signal coming out of mixer 1306, and a control signal\n1316 controls the amplitude of the signal coming out of\nmixer 1308. Since the phase and amplitude adjustment is\ntypically done empirically (by a calibration processes\nexecuting on the microcontroller or elsewhere) for best\ncancellation, there may not be a need for the vector modulator to have good amplitude or phase balance, be linear, or\nhave uniform performance over the operating frequency\nband. It may only be necessary that the two or more\nadjustment signals can produce a cancellation signal that\nspans all the possible received signal phases and amplitudes.\nFurthermore, since in most implementations, the reference\nsignal has a much larger amplitude (e.g. 20 dB in the\nFINDER implementation) than the needed maximum cancellation signal, the implementation may have significant\nloss, unlike the usual case in communications equipment.\nThis allows the use of under driven mixers, discrete diode\nattenuators, and transmission lines of various lengths, all of\nwhich are often not used because their control characteristics\nare non-linear, they are not constant across the band, or they\nhave a lot of loss.\nAlthough specific alternative discrete implementation of a\nvector modulator for use in signal cancellation paths are\ndiscussed above with respect to FIG. 13, any of a variety of\nalternative discrete implementations of vector modulators\nfor generating signal cancellation paths as appropriate to the\nrequirements of a specific application can be utilized in\naccordance with embodiments of the invention. Design\nconsiderations for integrated sensor modules in accordance\nwith embodiments of the invention are discussed further\nbelow.\nSensor Module Design Considerations\nAlthough a microcontroller unit can be programmed and\nprovide automated controls, the selection of components,\n\ngains, and data converter resolution may depend on design\ntradeoffs. For example, at higher transmitted powers, the\noverall Signal to Noise Ratio can improve but it also raises\nthe power dissipation and may raise regulatory concerns for\npower spectral density and/or RE exposure safety. In many\nembodiments, FINDER utilizes a transmitted power\nbetween 1 and 10 milliwatts. It is noted that the stability of\ntransmitter power over temperature and life is typically not\nimportant, as it affects mostly the overall system sensitivity,\nnot the detection performance.\nAnother design consideration includes selecting the resolution of the DACs driving the cancellation path modulator\nwhere higher resolution can mean that the residual signal in\nthe receiver will be smaller (e.g. the cancellation is better)\nthereby improving the overall system dynamic range. However, higher resolution DACs typically consume more power\nand are more costly. In several embodiments, FINDER uses\na 12 bit DAC controlled via SPI serial interface.\nThe noise figure of the receiver amplifier can be another\ndesign consideration. Typically, the noise figure of the\nreceiver amplifiers affects the overall signal to noise ratio,\nand ultimately the sensitivity of the system. Practical experience has shown, though, that it is easier to increase the\noutput ofthe transmitter by a few dB,than to drive the noise\nfigure of the receiver lower. In addition, the noise characteristics of the analog low pass filters following the vector\ndemodulator can be more important than the RE noise, since\nat very low frequencies (1 Hz), the 1/f (flicker) noise is\nlarger than thermal white noise. Thus, selecting appropriate\nlow noise operational amplifiers may be important design\nconsideration.\nFinally, the higher the resolution ofthe ADCs that digitize\nthe output of the vector demodulator, the more of the static,\nunchanging baseline can be cancelled in subsequent digital\nsignal processing, and the performance of the cancellation\npath can be worse. However, increasing the number of bits\nin the ADC increases power dissipation, costs, and longer\nword lengths also increases the computational workload in\nthe downstream processing. Increasing ADC resolution can\nalso place requirements on the RE chain for more dynamic\nrange (headroom for maximum signals, noise for the bottom).In various embodiments, the FINDER implementation\nutilizes a 16 bit ADC integrated with the microcontroller,\nalthough circuit noise and other factors can result in an ADC\nperformance (Effective Number of Bits SNOB) in the\norder of 13-14 bits.\nThe microcontroller can be configured to digitize the\nbaseband I/Q signals at a sufficiently high rate that high\nfrequency components passing through the low pass filter do\nnot alias into the detection bandwidth. In many embodiments, a design tradeoff can exist between the sample rate\nand the low pass filter bandwidth, particularly if stepped\nfrequency operation is desired. The low pass filter cutoff\nshould be high enough that the delay through the filter is\nshort compared to the dwell time at each frequency. A high\ncutofffrequency typically calls for a higher sampling rate for\nthe microcontroller, which consumes processor resources\nand increases the power dissipation. In many embodiments\nof the FINDER radar, the I and Q samples are 16 bits at 50\nkHz, and the analog low pass filters are cutoff at 10 kHz.\nOther frequencies may be more useful depending on the\neventual application. For example, the sample rate may be\nchosen to avoid interference to or susceptibility from other\nsystems. A system that does not need to rapidly change\nfrequencies may benefit from using analog low pass filters\nwith a lower cutoff and a lower sample rate, which will\nlikely greatly reduce the power consumption.\n\n5\n\n10\n\n15\n\n20\n\n25\n\n30\n\n35\n\n4o\n\n45\n\n5o\n\n55\n\n6o\n\n65\n\nUS 9,986,934 B2\n19\n\n20\n\nIn several embodiments, the digitized signal is then low\n300 to 3900 (out of a range of 0:4096). For the majority of\npass filtered and decimated to a rate that is appropriate for\nthe grid steps, the cancellation signal actually makes things\nthe signals being sensed. For heartbeats, a rate of200 Hz has\nworse (it is too large to cancel the small signal being\nbeen found to be a good compromise between being able to\ncancelled), causing the signal to the ADC to be out ofrange.\nresolve fine details of the heart signal and computational 5 For the relatively few grid steps where the signals are within\nburden on the feature extraction process. In various embodirange, typically 3-10 grid points out of 169 examined, the\nments, the microcontroller then sends the digitized and\nbest of them can be selected. If none of the points is within\nfiltered data samples to a host computer (or stores them\nrange or the region in the grid where they are located is on\nlocally for later use). In the FINDER implementation, the\nthe edge of the range, an error can be declared and calibradecimation is done in three steps with the first two using io tion stops, since this is indicative of some fundamental\nCascaded Integrator Comb filters, and the final step a FIR\nproblem with the module(the most common cause is that no\nfilter with characteristics chosen to reject the radar signals\ntransmit signal is being generated). In various embodiments,\nfrom fluorescent and gas discharge lighting.At this point, the\nthe grid steps must be fine enough that there is a good chance\nFINDER module output data stream is 200 Hz I/Q samples\nthat at least 1 grid step will produce enough cancellation for\nof 18 bit numbers, that is, about 7200 bits/second.\n15 the signal to be in range.\nIn many embodiments, once decimated to a suitable low\nThis process can be repeated for each operating frerate, further processing may be done in the microcontroller\nquency, and can be dramatically shortened by starting with\nto further reduce the data rate. For example,in FINDER,the\nthose grid points near where the expected operating point is\neventual processing is done on two bandpass filtered signals\n(determined from previous experience, and the temperature\nfor respiration and heart rate, each at a sample rate of20 Hz, 20 ofthe module), and then spiraling out until all grid points are\nso a 1 kbit/second data rate can be reasonable. This would\nout of range. The I/Q measurements at each grid point\nfacilitate the use of the sensor in long duration monitoring\nshould use enough samples to insure that a transient doesn\'t\napplications, where the data is logged to non-volatile\nhave a large effect on the measurement. The sample duration\nmemory within the sensor (e.g. Flash memory in the microshould also be selected so that a large periodic interfering\ncontroller or a removable media such as a SD card).\n25 signal (e.g. the radar reflection from fluorescent lights) does\nFurther, when the sensor module is used in areas with\nnot provide a spurious value. For example, if the I/Q\nfluorescent or other gas discharge lighting, there can be\nintegration were done for 8 milliseconds, this would accustrong components in the received signal at the power line\nmulate about a half cycle of a 60 or 50 Hz interfering signal,\nfrequency and its harmonics (e.g. 60 Hz, 120, 180, etc. in the\nand that would cause a bias in the integrated value.\nUnited States). Spectrograms illustrating data collected 30\nTwo approaches to this are to integrate for a time of\nusing a sensor module in fluorescent lights in accordance\nmultiple cycles or to integrate samples at random times, and\nwith an embodiment of the invention is shown in FIGS.\nintegrate multiple samples for each grid point. That is, one\n14A-B. The chart 1400 shows the spectrogram of 10 seconds\ncould take 0.5 millisecond samples at each of the 169 points\nofsample data, where strong harmonics 1402 can be visually\nin the 13x13 grid, repeating it for 100 milliseconds, so that\nnoticed as narrow bands at various frequencies. The power 35 each of the 169 values essentially integrates for that time\nspectrum plot 1450 illustrates the strong harmonics 1452 as\nspan (which is an integer multiple of both 50 and 60 Hz\nspikes at various frequencies (Hz). The digital filter design\nperiods). The tradeoff is in how long to spend calibrating vs\nand sampling rates should be carefully chosen to ensure that\nthe ultimate performance. In practice, with FINDER it has\nthe significant energy in these harmonics does not alias into\nbeen found that recalibrating once every hour or after a\nan area ofinterest for heartbeat detection (e.g. around 1 Hz). 40 major power cycle is sufficient. A more dynamic approach is\nAlthough a comb or notch filter may be used to remove these\nalso possible in a multi-sensor system, where the acquired\nfrequencies, however, in field deployed applications, the\ndata can be monitored, and as the baseline of one or more of\nfrequency control from temporary power generators may not\nthe sensors starts to drift away from zero, a recalibration can\nbe sufficiently tight that a single filter would work; and,there\nbe performed. In a periodic logging application, where 30\nis also the possibility that there is a mix of 50 Hz and 60 Hz 45 seconds of data is collected every half hour, recalibrating\npower. Further, a graph illustrating a sample finite impulse\njust before each measurement may be appropriate.\nresponse filter characteristics in accordance with an embodiOnce the coarse grid calibration has determined an\nment ofthe invention is illustrated in FIG. 15.Although data\napproximate setting for the cancellation, a fine search can be\nillustrating sensor characteristics are discussed above with\nconducted by iteratively moving the cancellation to attempt\nrespect to FIGS. 14A-15, any of a variety of data illustrating 50 to drive the I/Q outputs to zero (minimum signal). There are\nsensor characteristics as appropriate to the requirements of\nmany possible approaches here, including grid searches,\na specific application can be utilized in accordance with\nsteepest descent, Fletcher-Powell, and others. In several\nembodiments of the invention. Processes for sensor module\nembodiments,FINDER uses a stepwise search with a graducalibration and setup in accordance with embodiments ofthe\nally reducing step size. Starting with the current location, a\ninvention are discussed further below.\n55 trial is made in each offour directions (increased/decreased\nSensor Module Calibration and Setup Processes\nI/Q)and as long as the new location is better, it becomes the\nThe microcontroller can implement several self-calibranew best estimate. When the 4 trials are greater, the step size\ntion and self-check functions to facilitate the automated\nis reduced by a factor of2, and the process repeated, until the\nadjustment of the cancellation path for enhanced module\nminimum step size is reached.\nperformance as further described below. In many embodi- 60\nTypically, the results of both calibration steps should be\nments, the microcontroller can be configured (using various\nverified before proceeding on to making a measurement.\nsoftware) to perform automated adjustment of the cancellaThat is, after the grid search is complete, all the candidate\ntion path in two steps. In the first step, it can systematically\ngrid steps should be re-measured, and if they vary signifivary the control signals to the vector modulator to comcantly, the entire process should be repeated. This is because\npletely cover the adjustment range. In the FINDER imple- 65 something may have occurred during the calibration process\nmentation, a uniform grid ofI and Q values that is 13x13 can\nthat caused an anomalous result such as (but not limited to)\nbe utilized, stepping the 12 bit DACs in steps of 300 from\na strong interfering signal appeared, a battery failure, or the\n\nUS 9,986,934 B2\n21\n\nOW\n\nsensor positions were changed (e.g. the FINDER radar\nhousing was moved during calibration). Likewise, after the\nfine search, the measurement can be repeated several times\nat the best estimate to insure that the value isn\'t changing\nvery much from the original minimum. Processes for configuring a microcontroller unit in accordance with embodiments of the invention are discussed further below.\nConfiguring the Microcontroller Unit\nIn many embodiments,the microcontroller unit can utilize\nvarious microcontrollers including (but not limited to) the\nTeensy 3 (or 3.1) Development Board which is a 32 bit\nARM-Cortex M4 platform that supports Arduino or programming directly in C language. Typically, a variety of\nsoftware can be utilized on the Teensy 3(or 3.1) microcontroller to send commands and receive responses as further\ndescribed below.\nA schematic diagram illustrating a transmitter module and\nmultiple receiver modules connected to a host PC in accordance with an embodiment ofthe invention is shown in FIG.\n16. Typically, a FINDER comprises 5 microwave sensor\nmodules that includes 1 transmit module and 4 receive\nmodules, all connected to a host PC running Windows. The\nsensor module 1600 can include an interface between the\nhost PC 1602 and the transmitter unit 1604 and receiver unit\n1606 such as (but not limited to) a serial port emulated by\nthe USB interface. In many embodiments, the software\nexecutes on the Teensy3 (or Teensy 3.1) 1608, 1610 from\nPJRC\', which is a Freescale ARM based microcontroller\nwhich supports the Arduin02 software development process\nand peripherals. When power is applied to the host PC,\npower can be fed to a USB hub, which in turn can feed\npower to the Teensy3 microcontrollers in each module. The\nstandard power on reset ofthe Teensyduino environment can\nbe used to start the software. In other embodiments of the\ndigital board,the power for Teensy is supplied by a regulator\nfrom the overall module power, rather than the USB, however this does not significantly change the functioning ofthe\nmodule or software.\n\nTABLE 1-continued\nSummary\n\n5\n\nhttp://arduino.ce/\n\n15\n\n20 RE power off\nRetrieve version\nand Serial Number\n\n25\nRead temperature\nsensor\nRead 12V bus\nvoltage\n30\n\n35\n\n45\n\n50\n\n55\nDetails\n\nSet I/Q value\n(Baseline)\nSet I\n\nB<I value><Q\nvalue><cr>\nI<value><cr>\n\nSends I value to DAC 0 and\nQ value to DAC 1\nAlso used to set tuning\nvoltage for Tx\n\nSet Q\nGet last I/Q\nvalues set\n\nQ<value><cr>\nL\n\nRead ADC I\nchannel\nRead ADC Q\nchannel\n\n0 (digit 0)\n1 (digit one)\n\nReturns last two values set as\nascii integers\n<I value> <Q value>\nReturns 16 bit value from AO\nas ASCII integer\nReturns 16 bit value from AO\nas ASCII integer\n\nEnd Sampling\n\nRE power on\n\nTABLE 1\nSyntax\n\nReturns sum of TBD samples\n(approximately TBD\nmilliseconds) as\nI, Q, Magnitude\n\nQuery Time\n\n40\n\nSummary\n\nDetails\n\nM\n\n10\n\nhttp://www.pjrc.com/store/teensy3.html\n\nCommands\nAs described above, the interface to the host PC emulates\na serial port. Table 1 below describes the commands which\ncan be sent to the microcontroller. The commands are case\ninsensitive (that is, `v\' and `V\' are identical commands).\nNote that in some cases (when there\'s no argument), no\nterminating carriage return is needed. Typically, commands\nare processed one at a time and there is no queuing, other\nthan that provided by the serial port. Further, there is no\noverlap between reading, parsing, and processing commands.In addition, while a command is being processed, the\nreceive buffer is not being read.\n\nSyntax\n\nRead both\nchannels and\ncalculate\nmagnitude\nCoarse Calibrate\nFine Calibrate/Tune\nStart Sampling\n\n6o\n\n65\n\nC\nD\nS <cr>\nStarts taking I/Q samples\nS <number> <cr> decimated to 200 Hz. If a\nnumber is given, that many\nsamples are collected and\nsampling stops\nSamples are currently\nreturned as 2 ascii numbers\nper line separated by a space\nX\nStop sampling, even if\nnumber has not been reached\nT\nReturns microseconds since\nmodule powered on\nP\nTurns on 5V power to RE\ncircuitry\nO (letter o)\nTurns off power\n?\nReturns module number,\nversion number (integer) and\nMAC that is programmed in\nat factory\nMAC returned in\nnn:nn:nn:nn:nn:nn\nK\nReturns raw ADC output and\napproximate converted\ntemperature in C.\nV\nReturns raw ADC output\nfrom voltage divider.\nReturns raw ADC value (065535)\nApproximate curve fit is V =\n29.33/65536 * ADC \xe2\x80\x94 0.04\n\nFurther, there are several commands which directly control the I/Q outputs that control either the vector modulator\n(for receiver modules) or the VCO frequency (for transmitter modules). In several embodiments,I and Q values are 12\nbit integers in the range 0-4095, with 2048 being approximately midscale, subject to inevitable tolerances in the\nanalog circuitry. The commands can cause the appropriate\nserial data string to be sent to the 12 bit DACs on the digital\nboard. In addition, the I or Q values may be set directly with\nthe corresponding I and Q commands. The B command may\nbe used to set both at the same time. Note that the actual\nDACs are programmed sequentially, I DAC first. Furthermore, the L command retrieves the last values set to the\nDAC. This can be useful when getting the results of a\ncalibration sequence, or to verify that the DACs have been\nset at all. Note that the DACs are NOT initialized to any\nparticular value when the processor starts.\nIn various embodiments, there are 3 commands that\nprovide low level access to the analog inputs. The 0 and 1\n(digit 0 and digit 1) commands read the I and Q ADC\nrespectively, and display the result. The ADC is read with\nthe analogRead()function provided by the Arduino environment.\nIn a variety of embodiments, the magnitude command is\nused primarily to verify the correct setting of the I/Q\nbaseband cancellation, and returns the averaged I and Q\noutputs of the demodulator, and calculates the magnitude.\nThe command prints the scaled sum of 1800 measurements\nmade at full processor speed. The scaling is such that the\nvalue is 10 times the average of the 16 bit ADC measurement, so the maximum is 327670 and the minimum is\n\xe2\x80\x94327680. As a practical matter, the analog circuitry (low\npass filters) ahead of the ADC mean that a value with\n\nUS 9,986,934 B2\n23\nabsolute value greater than 250,000 is probably saturated.\nThe magnitude is scaled so the max value is 2.00 (e.g. the\nI sum and Q sum are divided by 327680). However,it might\nbe useful to change the scaling to give some more significant\nfigures to allow better nulling. The 2 digits past the decimal 5\npoint as current implemented only allows getting 20 dB\ndown (e.g. 0.01 vs 0.00). The underlying routine uses\nreadlQShort()which reads I/Q 1800 times and sums (after\nsubtracting 32768 from the raw measurement), and then\ndivides the sum by 180. So max+ is 327670, min negative I\nis \xe2\x80\x94327680. In many embodiments, this can take approximately 17 milliseconds (e.g. the sample rate is about 100\nkHz), which is roughly one period of the line frequency.\nSince we may be seeing a target with strong 60/120 Hz, this\ncan help minimize the effect. When operating in the 50 Hz 15\nrange, 20 milliseconds would be appropriate. Other timing\ntests showed that the integer divide by 180 takes less than a\nmicrosecond, thus it may not be beneficial to by going to a\npower of 2 and shift right. Note, if the RE section is has not\nbeen powered on (P command), M will read close to zero. 20\nCalibration and Initialization Processes\nIn many embodiments, the receiver unit cancellation path\ncan be calibrated by using the C and D commands. The first\ncommand steps through the entire adjustment range of the\npath in fairly big steps to identify the approximate values of 25\nIset and Qset that will null the clutter and coupling signals.\nThe D command does a stepwise search with variable length\nsteps to refine the Iset and Cset value to 2 LSB. Note that as\nthe modules heat up, the calibration can change. In particular, as the transmitter unit warms up, the frequency changes, 30\nwhich changes the phase shift through the leakage and\nreference paths. Typically, if gain is 500-1000/LSB and max\nis 250k, then 500 LSB (out of 4000) saturates. The rotation\nof the adjustment box can be the phase shift between the\ncancellation path and the detector local oscillator, and 35\nshould be fairly stable over life, and possibly over temperature. The size of the adjustment box is the gain of the\ncancellation path. In various embodiments, the adjustment\nbox is about 10 times the size of the dynamic range of the\ndetector.\n40\nIn several embodiments, the calibration process does not\nyield useful results if the RE power is not on (P command),\nbecause the vector demodulator has no power, so the differential output is zero. The calibration process (C and D\ncommands)is a process offinding the set ofID and Q,,, 45\n,,\nvalues that minimizes the vector sum of the cancellation\nsignal (controlled by ID and Q,,,)and the RE input signal\n,,\n(which is mostly the leakage between antennas and the\nreflections from nearby surroundings). The electrical properties of the system change with temperature and operating 50\nfrequency, so the calibration process must be done before\ntaking data.\nOne way to visualize the cancellation and calibration\nprocess is to consider that the cancellation path can take on\nany value within a square box with ranges from \xe2\x80\x941 to +1 on 55\neach axis. A graph illustrating cancellation vectors defined\nby range of ID and Q,,,in accordance with an embodi,,\nment ofthe invention is shown in FIG. 17A. The graph 1700\nincludes a square box 1702 with ranges from \xe2\x80\x941 to +1 on\neach axis, where the x-axis is ID,, and the y-axis is QDA,. 60\nIn many embodiments, the values can be the 12 bit DAC\nvalues: 0 to 4095. It can be beneficial to know that the gain\nof the RE and demodulation chain is such that the range of\nvalues is large enough to easily saturate the demodulation\n(indicated by very large output values from the ADC).\n65\nThe receiver RE chain sums the antenna signal and the\ncancellation path, which can be viewed as a vector sum. A\n\nME\ngraph illustrating a vector sum in accordance with an\nembodiment of the invention is shown in FIG. 17B. The\ngraph 1720 shows the input signal 1722 has a particular\nmagnitude and phase, and the cancellation signal 1724 has\na different magnitude and phase, with the sum being shown\nas a dashed line 1726. The cancellation box 1728 is tilted\nbecause there is a fixed phase shift (that varies with temperature and frequency)in the cancellation path, so for each\ncalibration, the precise position and angle of the box is\nunknown. The cancellation vector can be anything within\nthe box.\nIn various embodiments, the C command can perform a\ngrid search, stepping ID and Q,,,through a set of values.\n,,\nA graph illustrating a calibration grid search in accordance\nwith an embodiment of the invention is shown in FIG. 17C.\nThe graph 1750 includes various dots 1752 within the box\nillustrating the set of values that ID\n,, and Q,,, steps\nthrough in performing a grid search. Typically, the process\ncan remember which values do not cause the RE chain to be\nsaturated, and keeps a list of the 16 entries which have the\nlowest magnitude. In several embodiments, the saturation\nrange is indicated in the figure by a box 1754, and in this\nexample, 8 IDA,JQnA pairs do not saturate the receiver. In\n,\nmany embodiments, the text output from the calibration\nprocess can be an ASCII grid showing period for pairs where\nthe receiver is saturated and asterisks for pairs where the\nreceiver is within the linear range as illustrated in TABLE 2\nbelow. Although, the best of the grid points is kept for\nfurther processing, the number and configuration of "nonsaturated" points can be a valuable diagnostic tool. If there\nare NO non-saturated points, it indicates that either no\ncalibration was possible(the hardware is broken), or that the\ngain is higher than expected (especially if only one or two\ngrid points are non-saturated). Similarly, an excess of nonsaturated grid points would indicate that the gain is too low,\neither in the cancellation path or in the receiver path.In some\nembodiments, the input and output values at the nonsaturated grid points can be used to calculate the gain and\noffset of the cancellation path.\nTABLE 2\nSample text output from\nthe calibration process illustrated in\nFIG. 17C.\n\nIn performing a grid search for a calibration starting point,\nthe coarse calibrate command C sets I/Q to all combinations\nof the values [300:300:3900] and measures the I/Q outputs\nand magnitudes. If the I/Q output value are inside the range\n[-250k,250k], indicating that it\'s not saturated (280k), the\nIset and Qset values, and the outputs can be remembered.\nTypically there are 4-6 places where this is true, but the table\nholds up to 16 sets. If more "qualifying" values are found,\none of the others with a higher magnitude is thrown out and\n\nUS 9,986,934 B2\nw,\n\nreplaced. A large number of valid points usually indicates\nreference voltage for the ADC can be derived from a voltage\ndivider formed by the series 470 ohm resistor on the teensy\nthat the gain in the RE path is low, there is no power applied\nbetween the 3.3 Vdd and Vref, and a series pair of 1 K\nto the receiver board (i.e. the P command has not been sent),\nresistors from Vref to ground providing the midpoint referor insufficient RE power is coming in on the reference input.\nAt the end of the grid search process, the (up to) top 16 s ence for the analog buffers. This puts Vref at 2/2.47*3.3V or\n2.67V (subject to the tolerances of the resistors, nominally\ncandidates are printed, and the selected values with the\n5%). Table 3 (illustrated below) gives some nominal values.\nlowest magnitude are loaded into the DACs, preparing for\nthe gradient refinement. As a practical matter, the gradient\nTABLE 3\nrefinement probably is not needed; experience with the first\nradar indicated that as long as the analog values are in the 10\nSample Values returned by V command\nmiddle half of the ADC range, we have enough dynamic\nrange to process the signals. It may be noteworthy that with\nVbatt\nV cmd\nNO RE signal being received on the antenna, a good\n10\n22297\ncalibration should still be possible, since the cancellation\n10.5\n23412\npath is typically 10 dB larger than the largest received signal, 15\n11\n24526\n11.5\n25641\nand is sufficient to saturate the RE chain. The ability to get\n12\n26756\na good calibration is a good test of the function of a receive\n12.5\n27871\nRE module.\n13\n28986\nIn performing a stepwise gradient optimization with the\n13.5\n30101\n14\n31215\ncommand D,given the current I/Q starting point, a step wise 20\n14.5\n32330\ngradient optimization process can used to drive the Iout/\nQout as low as possible. In many embodiments, the process\nincludes starting in the presentI/Q place, move a step in each\nSetup processes (i.e. initialization) can be performed\nof the 4 directions (+I,\xe2\x80\x94I,+Q,\xe2\x80\x94Q). In several embodiments,\nusing the Arduino setup()\nroutine. In many embodiments,\nthe step size starts at 64. If any of the steps is lower than the 25 initialization includes setting up the ADC interface where\npresent value, then repeat the process. When the 4 steps are\nthe voltage reference is set to external (approximately 2.67\nall bigger than where we are now (e.g. we\'re near the\nV), the resolution is set to 16 bits, and the averaging is set\nminimum), cut the stepsize in half. Repeat the process, each\nto use a single sample. Further, the serial port can be\ntime, until the stepsize gets to 2.\ninitialized to 9600 bps, although in the teensyduino enviAs a note on the calibration process, there can be a 3o ronment which uses the USB to emulate the serial port, the\ntradeoff between the step size in C "grid search" command\nemulated port runs at full USB speed. In addition, the pin\nvs step size in D "tune" command.A smaller step in the grid\nused to control the RE power converter can be setup as an\nsearch will make that take longer, but the fine tune should\noutput and initialized to low (disabling RE power). Although\ntake less time. There is also a tradeoff of what the search\nspecific calibration and initialization processes are discussed\ntermination criteria should be. It may be that stopping at a 35 above with respect to FIGS. 17A-18 and Tables 2-3, any of\nstep size of 4 or 8 might be as effective. With no RE input,\na variety of calibration and initialization processes as approbut LO signal from a transmitter provided, running the\npriate to the requirements of a specific application can be\ncomplete calibration, a module converged to the following\nutilized in accordance with embodiments of the invention.\nI/Q values over about 10 seconds (where the small changes\nTiming test results in accordance with embodiments of the\nindicate some residual thermal effects):\n40 invention are discussed further below.\nI,Q: 2228 2244\nSynchronization and Timing Test Results\nI,Q: 2226 2242\nAs discussed above, sensor modules can include various\nI,Q: 2224 2240\ninterfaces for connectivity. Further, various transmitter and\nRepeating the calibration 40 seconds later\nreceiver units can be synched by staggering operation times,\nI,Q: 2222 2238\n45 where multiple antennas can provide results for compariThe sampled output from the M command is: 2485 1823\nsons. In addition, a modular approach lends itself to scal0.01\nability, repackaging and easier debugging. In various\nand a couple minutes later\nembodiments, multiple sensor modules can even be part of\nI,Q: 2204 2236\na single system taking commands from a single central host\nM output: \xe2\x80\x943289 \xe2\x80\x942875 0.00\n50 PC. Thus, it may be beneficial to analyze timing measureIn context, 1 DAC LSB is about 500 ADC LSB, so\nments of the code running on the microcontroller.\nconverging to a few hundred ADC LSB is <1 DAC LSB.\nAn interface build was modified using 3 output pins to\nThe calibration routines call igshort() make the measureto\nindicate when various sections of the code were executing.\nment and it returns sum(1800 samples)/180 or 10*actual\nThe pins were set up to measure the following events:\nvalue: \xe2\x80\x94328.9, \xe2\x80\x94287.5 here. The magnitude is relative to 2.0, 55\n1)the time in the Interrupt Service Routine(ISR)that runs\nso 0.01 is very small. A host PC should track the results of\nat 50 kHz collecting the raw IQ samples and generating\nthese calibration searches, to identify long term calibration\ndecimated samples at 1 kHz;\nshifts, and also for diagnosis of problems; e.g. a sudden\n2) the time spent in the "data ready" routine which runs\nchange may indicate a failed component.\nat 200 Hz generating the final filtered and decimated\nIn many embodiments, the voltage calibration data can be 60\noutput transmitted over the USB serial port; and\nanalyzed. A chart illustrating voltage calibration data from a\n3) the time spent in the FIR filtering routing.\nsingle unit in accordance with an embodiment of the invenIn many embodiments, the ISR can consume about 60% of\ntion is illustrated in FIG. 18. A 12V voltage can be measured\nthe processor resources, and the rest of the processing can\nby Analog input 2(A2)using a standard readAnalog()\ncall.\nconsume about 1% ofthe processor resources. The relatively\nThe input is derived from a voltage divider (100k over 10k, 65 small amount of time spent processing the 1 kHz sampled\nso approximately 1:11) that brings the voltage down to the\ndata implies that significantly more processing could be\n0-2.67 V range of the ADC. In several embodiments, the\ndone if needed.\n\nUS 9,986,934 B2\n27\n\n28\n\nThe results of the time measurements in accordance with\nan embodiment ofthe invention are illustrated in FIG. 19. In\nmeasuring the 50 kHz Interrupt Service Routine (ISR) a bit\nwas set on entry and exit of"ReadIQ" which is the interrupt\nroutine that reads the I and Q values and loads the CIC\ndecimators. As the data results 1900 illustrate, it runs every\n20 microseconds, corresponding to the 50 kHz sample rate\n1902. The time spent in the routine varies according to the\ntime spent in the decimation 1904 (e.g. every 10 iterations,\nit has to generate an output for the first stage, and then every\n50 it has to generate the output for the second stage which\nappear to take approximately 12 microseconds (plus another\n3 microseconds sometimes 1906). Out of 20 microseconds,\nthe ISR is taking 60% of the processor. In various embodiments, benchmarking showed that the maximum rate of a bit\nmore than 100 kHz was possible with I/Q samples of 16 bits,\nso the current 60% utilization at 50 kHz seems consistent.\nIn measuring the 200 Hz sample processing, time is\nmeasured related to how long it spends inside the "data\nready" logic in loop()which runs every 5 times the CIC\ndecimator chain kicks out a sample. In various embodiments, when the flag is set, the FIR filter processes the last\n19 samples and loads the USB output buffer with an encoded\nsample. Every 10 I/Q pairs (that is, every 50 milliseconds),\nthis routine sends a 64 byte buffer out to the USB interface.\nThe test results indicate that it takes approximately 40\nmicroseconds to do the FIR filter and store the encoded\nvalues. The actual FIR 1908 takes 32 microseconds, so\nloading the buffer and other overhead 1910 is about 8\nmicroseconds. Then, it takes 80 microseconds to transfer a\nbuffer to the USB 1912 (from there, it\'s handled by a\nhardware engine in the microcontroller). Since this loop runs\nat 200 Hz, it doesn\'t take very much processor resources.\nFor example, at 32 microseconds*200 samples=6.4 ms; 8\nmicroseconds*200 samples=1.6 ms; 80 microseconds*20\nbuffers=1.6 ms; for a total time in 1 second=9.6 ms. This is\nless than 1% of the processor\'s capacity, so it may be\nbeneficial to perform additional functions such as (but not\nlimited to) various data validations. In addition, the time\nspent in the FIR filtering routine was measured. In many\nembodiments, the FIR filter (19 taps) runs at 200 Hz, and\ntakes 32 microseconds to calculate. Most likely, the longer\ndelay is when the IQ sampling (which takes 12 microseconds)happens to occur during the FIR calculation. Although\nspecific timing test results are discussed above with respect\nto FIG. 19, any of variety of timing test and timing test\nresults can be utilized in accordance with embodiments of\nthe invention.\nWhile the above description contains many specific\nembodiments ofthe invention, these should not be construed\nas limitations on the scope of the invention, but rather as an\nexample of one embodiment thereof. It is therefore to be\nunderstood that the present invention may be practiced\notherwise than specifically described, without departing\nfrom the scope and spirit of the present invention. Thus,\nembodiments of the present invention should be considered\nin all respects as illustrative and not restrictive.\n\nthe at least one transmitter unit amplifier is configured to\nreceive and amplify the at least one CW transit signal;\na receiver unit configured to receive at least one return\nsignal and utilize a cancellation path to cancel contributions to the return signal that are not the result of\nreflections from a target comprising a vector modulator,\na combiner, a vector demodulator, and at least one\nreceiver unit amplifier, where:\nthe vector modulator is configured to receive at least\none cancellation path control signal from the microcontroller unit, sample the at least one CW transmit\nsignal, and adjust an amplitude and phase of the\nsampled CW transmit signal based upon the at least\none cancellation path control signal;\nthe combiner is configured to receive the adjusted\ntransmit signal and combine it with the at least one\nreturn signal;\nthe at least one receiver unit amplifier is configured to\namplify the combined signal; and\nthe vector demodulator is configured to receive the\namplified combined signal, sample the at least one\nCW transmit signal, and generate two baseband\nsignals by coherently demodulating the amplified\ncombined signal using the sampled CW transmit\nsignal;\na microcontroller unit configured to communicate with\nthe transmitter and receiver units comprising:\na processor;\na memory containing a microcontroller application,\nwherein the microcontroller application configures\nthe processor to:\ngenerate at least one frequency control signal,\nwherein the at least one frequency control signal\ncan configure the transmitter unit to generate least\none CW transmit signal having a plurality of\nfrequencies;\ngenerate at least one cancellation path control signal,\nwherein the at least one cancellation path control\nsignal can configure the receiver unit to automatically adjust the cancellation path in real time;\nreceive at least one demodulated signal from the\nreceiver unit;\ndigitize the at least one demodulated signal; and\nupdate the at least one frequency control and cancellation path control signals based upon the\nreceived at least one demodulated signal.\n2. The integrated microwave sensor module of claim 1,\nwherein the variable frequency microwave source is a\nvoltage controlled oscillator.\n3. The integrated microwave sensor module of claim 1,\nwherein the at least one transmitter unit amplifier is connected to at least one transmit antenna configured to propagate at least one beam using the amplified CW transmit\nsignal set at a plurality of frequencies.\n4. The integrated microwave sensor module of claim 3,\nwherein the at least one return signal is associated with\nreflections from objects of the at least one beam, where the\nreturn signal comprises at least one signal component having\na static phase associated with reflections from nonmoving\nobjects and at least one signal component having time\nvarying phase associated with at least one target.\n5. The integrated microwave sensor module of claim 4,\nwherein the microcontroller application further configures\nthe processor to automatically adjust cancellation paths\nassociated with each of the plurality of frequencies.\n6. The integrated microwave sensor module of claim 1,\nwherein the microcontroller unit further comprises at least\n\nWhat is claimed is:\n1. An integrated microwave sensor module comprising:\na transmitter unit comprising a variable frequency microwave source connected to at least one transmitter unit\namplifier, where:\nthe variable frequency microwave source is configured to\ngenerate at least one continuous wave("CW")transmit\nsignal based upon at least one frequency control signal\nreceived from a microcontroller unit; and\n\n5\n\n10\n\n15\n\n20\n\n25\n\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\nUS 9,986,934 B2\nWE\none digital-to-analog converter for processing the at least\none transmitter frequency control signal.\n7. The integrated microwave sensor module of claim 1,\nwherein the microcontroller unit further comprises a plurality of digital-to-analog converters for processing the at least 5\none cancellation path control signal.\n8. The integrated microwave sensor module of claim 1,\nwherein receiver unit further comprises a low pass filter to\nfilter the demodulated signal.\n9. The integrated microwave sensor module of claim 1, io\nwherein the microcontroller unit further comprises a plurality of analog-to-digital converters that digitizes the at least\none demodulated signal received from the receiver unit.\n10. The integrated microwave sensor module of claim 1,\nwherein the microcontroller unit is connected to a host 15\ncomputer.\n11. The integrated microwave sensor module of claim 1,\nwherein the microcontroller unit further comprises a temperature sensor configured to take a temperature measurement related to the sensor module.\n20\n12. The integrated microwave sensor module of claim 11,\nwherein the microcontroller application further configures\nthe processor to generate an updated frequency control\nsignal based upon the temperature measurement.\n13. The integrated microwave sensor module of claim 11, 25\nwherein the microcontroller application further configures\nthe processor to generate an updated cancellation path\ncontrol signal based upon the temperature measurement,\nwherein the temperature measurement can provide an a\npriori starting point for adjusting the cancellation path.\n30\n14. The integrated microwave sensor module of claim 1,\nwherein the microcontroller application further configures\nthe processor to validate the demodulated signals and format\nfor further processing.\n15. The integrated microwave sensor module of claim 14, 35\nwherein the microcontroller application further configures\nthe processor to provide range resolution by processing time\nand frequency measurements.\n16. The integrated microwave sensor module of claim 1,\nwherein the transmitter unit is implemented on a first 40\nprinted-circuit-board ("PCB"), the receiver unit is implemented on a second PCB, and the microcontroller unit is\nimplemented on a third PCB.\n17. The integrated microwave sensor module of claim 1,\nwherein the transmitter and receiver units are separate and 45\nsynchronized.\n18. The integrated microwave sensor module of claim 1,\nwherein the integrated microwave sensor module is synchronized with another integrated microwave sensor module.\n50\n19. The integrated microwave sensor module of claim 1,\nfurther comprising N transmitter units, M receive antennas,\nand NxM receiver units to simultaneously processes multiple frequencies.\n20. The integrated microwave sensor module of claim 1, 55\nwherein the vector modulator can be an alternate discrete\nimplementation comprising a quadrature hybrid coupler, a\nfirst and second discrete mixers, and a power combiner.\n21. The integrated microwave sensor module of claim 20,\nwherein the quadrature hybrid coupler receives a sampled 60\nCW transmit signal from the transmitter unit and splits the\nreceived sampled CW transmit signal into a first and second\nsplit signals that are 90 degrees apart in phase.\n22. The integrated microwave sensor module of claim 21,\nwherein the first discrete mixer is configured to receive the 65\nfirst split signal and a first input control signal and output a\nfirst mixer signal.\n\n30\n23. The integrated microwave sensor module of claim 22,\nwherein the second discrete mixer is configured to receive\nthe second split signal and a second input control signal and\noutput a second mixer signal.\n24. The integrated microwave sensor module of claim 23,\nwherein the first and second mixer signals are combined\nusing the power combiner to generate a cancellation signal.\n25. An integrated microwave sensor module comprising:\na transmitter unit comprising a voltage controller oscillator("VCO")connected to at least one transmitter unit\namplifier, where:\nthe VCO is configured to generate at least one continuous wave("CW")transmit signal based upon at least\none frequency control signal received from a microcontroller unit;\nthe at least one transmitter unit amplifier is configured\nto receive and amplify the at least one CW transit\nsignal; and\nwherein the at least one transmitter unit amplifier is\nconnected to at least one transmit antenna configured\nto propagate at least one beam using the amplified\nCW transmit signal set at a plurality of frequencies\nbased upon the at least one frequency control signal;\na receiver unit configured to receive at least one return\nsignal and utilize a cancellation path to cancel contributions to the return signal that are not the result of\nreflections from a target comprising a vector modulator,\na combiner, a vector demodulator, and at least one\nreceiver unit amplifier, where:\nthe vector modulator is configured to receive at least\none cancellation path control signal from the microcontroller unit, sample the at least one CW transmit\nsignal, and adjust an amplitude and phase of the\nsampled CW transmit signal based upon the at least\none cancellation path control signal;\nthe combiner is configured to receive the adjusted\ntransmit signal and combine it with the at least one\nreturn signal;\nthe at least one receiver unit amplifier is configured to\namplify the combined signal;\nthe vector demodulator is configured to receive the\namplified combined signal, sample the at least one\nCW transmit signal, and generate two baseband\nsignals by coherently demodulating the amplified\ncombined signal using the sampled CW transmit\nsignal; and\nwherein the at least one return signal is associated with\nreflections from objects of the at least one beam,\nwhere the return signal comprises at least one signal\ncomponent having a static phase associated with\nreflections from nonmoving objects and at least one\nsignal component having time varying phase associated with at least one target;\na microcontroller unit configured to communicate with\nthe transmitter and receiver units comprising:\na processor;\na memory containing a microcontroller application,\nwherein the microcontroller application configures\nthe processor to:\ngenerate at least one frequency control signal,\nwherein the at least one frequency control signal\ncan configure the transmitter unit to generate least\none CW transmit signal having a plurality of\nfrequencies;\ngenerate at least one cancellation path control signal,\nwherein the at least one cancellation path control\n\nUS 9,986,934 B2\n31\nsignal can configure the receiver unit to automatically adjust the cancellation path in real time;\nreceive at least one demodulated signal from the\nreceiver unit;\ndigitize the at least one demodulated signal; and\ns\nupdate the at least one frequency control and cancellation path control signals based upon the\nreceived at least one demodulated signal;\nat least one digital-to-analog converter for processing\nthe at least one transmitter frequency control signal; io\na plurality of digital-to-analog converters for processing the at least one cancellation path control signal;\nand\na plurality of analog-to-digital converters that digitizes\nthe at least one demodulated signal received from the 15\nreceiver unit.\n\n32\n\n'