b'+\n.\n\n.\n\n-\n\nMultiple Autonomous Discrete Event\nControllers for Constellations\nTimothy C. Esposiio\nNASA Goddard Spacc Nigh1 C n e ,Code 533\netr\nCttenbelr. MD 2077 1\n301-286-8995\ntimoth y.c.csposito @ nasa.gov\n\n-\n\nTABLE OF CONTENTS\n\nThe Multiple AuIonoinou! Discreie Event\nControllcrs for Constellations (MADECC) project is an\ndfort within the National Aeronautics and Space\nAdmidstcation Goddard Space Flight Centcr\'s\n(N ASNGSFC) Information Systems Division to develop\nautonomous positioning and attitude conuol for\nconstellation satellites. Ir will be accornphhed using\ntndirional control theory and advanced coordination\nnlgorithms developed by the Johns Hopkins Uirivnsity\nApplied Physics Laboratory (JHUIAPL). This capability\nwill be demonstrated in thc discrete evcnt control test-bd\nlocated at I\xe2\x82\xacW/APL.\nAbstract\n\n........................................................ 1\n1-1. &UXGROUND ............................................\n". 1\n.........\n1-2. ORGANIZATIONAL ...........................................\nROUES\n2\n1 INTRODUCrION.....\n.\n\n1-3.AREASTO BE ADDRESSED ...........................................\n2. MADECC SYSmMS DEWLOPPIEN\'I\' .............\n..\n\n2\n3\n\n............\n\n2-1. SYSTEMDESCRPTION ....\n...-...............\n..\n3\n2-2- RELEASE I JHU/APL Q W T DETERMINATION AND\nPRELTMWY COORDINATION......\n..................................... 3\n23. R E L E A S E 11- REORIEN\'I\'ATIONABTLllY A N D\nADVANCEDMANEUVER\nPLAmmNc ....................................4\n2-4. RELEASE - h X U I G E M COORDLNlbfION AND\nnI\n\n-\n\nThis projcct will be rnodcled for the Lconardo\' constellation\nmission. but is intended to be adaprnble to any constellation\nmission. To develop a common software architccture. rhe\ncontrollers will only model very high-level rcsponses. For\ninstance, after determining h a t a msncuver m s be made.\nut\nthe MADECC system will output B AV (velocity change)\nvalue. Lower level systems must then decide which\nthrustas to fire and f r how long to achieve that AV.\no\n\n.................\n\n............\n3. TECHNOLOGY\nDEScruPnoNS...-....................-...........\nTASK DISSEMINATION\n\n4\n\n4\n\n3-1. ORBITAL DYNAMICS---...U..-....-..........\n...-.........--....4 -...\n.\n3-2. CONTROL A N D C O D N T O . . .\nOKlAIN...\n\n.............................\n\n..........................\n\n4. MADECC FY.K;HT\nPOTEF~IAL\n\n5 CUKKENT\n.\nPROGWS .\n,\n\n................................................\n\n5\n\n5\nG\n\n1 INTRODUCTION\n.\n\n1-1.BACKGROUND\nSxtellire orbit and attitude derehination tasks have\ntraditionally been performed an the ground. Commands\nwcrc then uplinkcd to the satellhe to relay thc pracomputcd\ninformation. Hisrorically, the lack of ilight CPU processing\npower find the complexity of required algorithms have\nprecludcd the application of onboard orbit and attitude\ndctcrmination.\nHowever, ground-bawd orbit and attitude functions often\n\nresult in large manpower expenditures, and rely on limited\ncommunication. When multiple satcllites are introduced IO\nthe systcrn, these problems 3re magnified. Moving the orbit\nand attitude dcterminatinn tasks onboard the spacecraft\n\n\'\n\nGovcmment work nor prokcted by U.S\ncopyright.\nEEEAC psper t1440, Updsled Dcccrnba 4.2002\n\n\'\n\nI\n\n.\n\nwould be a huge benefit, especially if the satellites could\ncoordinate among themselves. As flight CPUs and software\nalgorithms improve, fully automated constellation\nmanagement will become possible. The MADECC project\nis a demonstration showing the feasibility of moving such\ntasks onboard the spacecraft, and automating the necessary\ncoordination and control within the constellation structure.\nWhen orbit and attitude determination are moved to the\nspacecraft and become automated, other benefits emerge.\nFor instance, a constellation may have the ability to\nrecognize an unexpected, scientific target of opportunity.\nInstead of waiting for the satellites to be in view of a ground\nstation or the space network for commanding, the\nconstellation can reorient itself automatically to ensure\nexploitation of that opportunity.\n\nFigure 1-1 - Ground Track for Leonardo\nConstellation\n\nThis ability to locate scientific targets of opportunity will\nalso enable deep space constellation missions. Data rates\nfor deep space satellites can be on the order of bits per\nsecond, where commanding can be delayed and difficult. If\nan unexpected event has occurred in deep space, personnel\non the ground are not notified quickly, the opportunity to\nstart collecting information on that event will be missed. In\naddition, the reduced communication needs allow the\nbandwidth back to earth to be reserved for science data only,\nthus maximizing science benefits.\nThe Leonardo mission will take measurements of solar\nradiation that is reflected off the Earth\xe2\x80\x99s surface from\ndifferent angles simultaneously. Due to varying contours\nand surfaces of the Earth, its magnetosphere is not uniform.\nScientists do not fully understand yet how solar radiation is\nreflected and how it affects the Earth\xe2\x80\x99s magnetosphere.\nSolar radiation reflection back into space can vary\ndrastically at different locations on the earth, especially over\ndeserts, oceans, mountains, volcanoes, and even large fires.\nPrior missions have taken many single point measurements,\nbut this type of measurement limits our ability to fully\nunderstand the nature of the solar radiation reflectivity in\nthree dimensions. To understand these properties,\nmeasurements must be taken from multiple angles. Six\nsatellites will fly in the Leonardo constellation to\naccomplish this task2. Maximum efficiency orbits, shown in\nFigures 1-1 and 1-2, have been designed by GSFC\xe2\x80\x99s Flight\nDynamics Analysis Branch (FDAB). This scenario will be\nused as the initial MADECC development and test\nscenarios.\n\nFigure 1-2 - 3D View of Leonardo Constellation\nArrangement\n1-2. ORGANIZATIONALROLES\n\nThe NASA/GSFC Mission Applications Branch will\ndevelop the orbital dynamics portion of the system,\nimplement the control and coordination algorithms, and\nconstruct the overall MADECC software systems.\nJHU/APL will provide the control and coordination\nalgorithms, and also houses the test-bed on which the\nMADECC system will be demonstrated. The NASNGSFC\nFDAB will provide analysis and navigation and control\nexpertise. Additionally, there are plans to integrate the\ncontrollers with the GSFC Formation Flying Test-bed.\n1-3. AREAS TO BE ADDRESSED\n\nSeveral key areas require attention when designing onboard\ndiscrete event controllers for multiple satellites. Those\nareas include:\n0-\n\n0\n0\n\n&Sit determination\nAttitude determination\nManeuver planning\nCross-link communication\nSatellite coordination\n\nThe orbit determination problem is one of the key issues\nthat must be addressed. Simply stated, the satellite cannot\nmake decisions of what to do if it does not know its position\n2\n\nIt is very important to note that the MADECC system will\ntake advantage of as many existing developed technologies\nas possible. Since the system handles orbit determination,\nattitude control, maneuver planning, coordination, crosslinking, and telemetry handling capabilities, the\ndevelopment of all functionality from scratch would require\nsignificant time and manpower. By taking advantage of\nexisting work such as the coordination algorithms\ndeveloped by JHU/APL, FDAB\xe2\x80\x99s GEONS, and AutoConTMF developed by NASA/GSFC and ai solutions, Inc.,\nMADECC plans to integrate these systems to accomplish\ntasks of greater complexity and larger scope.\n\nor velocity. The Global Positioning System (GPS)\nB n c e d Orbit Navigation System (GEONS) software will\ninitially provide the orbit determination for the MADECC\nsystem.\nGEONS provides a highly accurate and\nautonomous orbit determination solution for low-Earth and\nhigh-Earth orbiting satellites, using measurements derived\nfrom GPS, GPS Wide Area Augmentation System (WAAS),\ninter-satellite, ground station to satellite, and Tracking Data\nRelay Satellite System (TDRSS), forward-link signals, and\nSun and Earth horizon sensors.\nTraditionally, attitude systems require significant\ncustomization for every mission. At least in the near future,\nthis will continue to be the case. There may even need to be\nsignificant customization for each satellite attitude system in\nthe constellation, depending on mission goals and spacecraft\ndesigns. The Leonardo mission will be a relatively simple\nattitude problem to solve since every satellite will focus on\nthe same point when collecting data, allowing each satellite\nto use the same logic.\n\nThe major functionalities of the MADECC system will be\ndeveloped in three major releases, each with a specified goal\nand a definitive deliverable product.\n\nThe maneuver planning function will require inputs from\nthe orbit and attitude determination functions to determine\nan efficient plan for relocating orbit and/or changing\norientation.\nThe cross-link communication area has been extensively\naddressed by JHU/APL. They have developed their own\ncross-link transceiver, which is already integrated into their\ntest-bed.\n\nI\n\nAdditionally, they have researched many coordination\nschemes for communication among the satellites\xe2\x80\x99. Potential\ncandidates include differing levels of a mastedslave\nrelationship, or having all satellites maintaining equal\nknowledge of every other satellite. Each scenario has its\nadvantages and disadvantages. For this project, the most\nappropriate coordination scheme for the Leonardo mission\nwill be identified and implemented.\n\nFigure 2-1 - MADECC System Configuration\n2-2. RELEASE- mU/APL ORBIT DETERMINATION\nI\nAND\nPRELIMINARY\nCOORDINATION\nThe goal of release I is to demonstrate the ability to\nmaintain six individual orbits of the Leonardo constellation\nand have each of the satellites notify the others of its status\nvia the satellite coordination module. This will result in all\nsatellites having full awareness of total constellation health.\nA protocol for transmitting data to others in certain\nprecedence order will be developed. This protocol will need\nto address issues that focus on the minimum amount of\nrequired data transmissions between satellites. Each data\ncommunication must leverage off previous communications\nto ensure that bandwidth and power are not wasted. The\ndeliverable product from this release will demonstrate\npreliminary coordination abilities. Since the JHU/APL testbed is already capable of determining an orbit position and\nvelocity and transmitting truth-values, those values will be\nobtained directly from the test-bed in release I.\n\n2. MADECC SYSTEMS DEVELOPMENT\n\n2-1. SYSTEM\nDESCRIPTION\nThe MADECC system consists of several major software\nmodules, which correspond to the system functionality.\nFigure 2-1 shows the interfaces between these functions.\nThe MADECC modules are shown as light gray ovals, and\nthe system manager is shown in the center as a light gray\nrectangle with shadowing. External interfaces are displayed\nas light green diamonds.\nAll modules will be coded as plug-and-play components, as\nmissions other then Leonardo may require the inclusion of\n- alternate modules. For instance, a deep-space mission\nwould require a different orbit determination module, since\nGEONS only currently provides an orbit solution for an\nEarth orbiting satellite.\n\nThe following functions will be developed\xe2\x80\x99for release I:\n0\n0\n0\n\n3\n\nMADECC System Manager (partial)\nManeuver Planning (partial)\nSatellite Coordination (partial)\n\n3. TECHNOLOGY\nDESCRIPTIONS\nCompletion of the release I product is planned for January\n2003.\n\n3-1. ORBITAL\nDYNAMICS\n\n2-3. RELEASE - REORIENTATION ABILITY\n11\nAND\nADVANCED\nMANEUVER PLANNING\n\nThe logic of calculating the spacecraft equations of motion\nand determining current and predicted positions and attitude\nis a separate function from that of the system coordination.\nThe system that holds the coordination intelligence is\nconfigured to understand specific constraints. The\nmaneuver planning module will rely on the AutoConm-F\npackage to execute the GSFC algorithm or the JPL\nalgorithm. It was developed for the EO-1 mission to\nautonomously maintain a formation-flying pattern with\nLandsat-7. AutoConm-F is capable of accepting the current\nand desired positions as inputs, and providing a propagated\nstate without a maneuver and a maneuver plan to reach the\ndesired position. Based on the constraints set in the control\nscenario, the goal is to have the control scenario accept the\npropagated state without a maneuver. If that does not meet\nthe constraints within the control set, the AV values\nretrieved from AutoConm-F will become an input to the\nsatellite coordination module, which will then coordinate\nthe maneuvers between the satellites.\n\nRelease I1 will fine-tune the release I modules and add the\nfollowing new capabilities:\n0\n0\n\nMADECC System Manager (partial)\nOrbit Determination (GEONS)\nAttitude Determination\nManeuver Planning (full)\n\nThe maneuver planning module will need extensive\nadvancements. It will need to accept inputs from both the\norbit determination and attitude determination modules, and\ndevelop an intelligent plan to satisfy requirements that\nsources be as efficient as possible. In this release, there are\nplans to integrate the GEONS software for an alternate\nmethod of orbit determination. This will allow simpler\nintegra$ion with other test-beds that lack existing orbit\ndetermination capabilities.\n\nThe first Leonard0 autonomous control scenarios will focus\n\nThe major goal of release I1 is to demonstrate the ability to\ncontrol attitude and to plan maneuvers. The release I1\nproduct is scheduled for completion in September 2003.\n\non a very simple case. To keep the scenarios as simple as\n\npossible, only two types of maneuvers will be allowed: a\nHohmann Transfer, or orbit transfer, and a plane change. It\nis well known that a direct plane change is not the most\nefficient maneuver when done alone, but it will provide for\na very simple demonstration case o f control and\ncoordination among satellites in a constellation.\n\n2-4. RELEASE - INTELLIGENT COORDINATION AND\n111\nTASK\nDISSEMINATION\nThe release 111 goal is to develop true intelligence of\nsatellite coordination into the discrete event control system.\nThe following functionality will be added:\n\n0\n\nThe Hohmann Transfer is the most efficient orbit transfer\nmethod when no other maneuvers are needed. Future\nreleases of MADECC will contain logic for combining\nvarious maneuver methods. As shown in the equations\nbelow, it is a straightforward method to follow for\ncalculating the AV values needed to transfer to another\norbit.\xe2\x80\x99\n\nMADECC System Manager (fill)\nSatellite Coordination (full)\n\nIn particular, the satellite coordination module will need\nsignificant enhancements. The objective is to have each\nnode in the constellation understand its capabilities. A\nmission can then define its goals, and the satellites will\ncoordinate among themselves to disseminate the identified\ntasks to those capable of completing them. Following this\nscheme provides essential flexibility. As a node in the\nconstellation degrades, its capabilities may also decrease.\nFor instance, a sensor may become dirty and no longer\nusable, requiring the task to collect that type of sensor data\nto be assigned to another node, therefore maintaining the\nmission goals.\n\nA\n\nA demonstration of these capabilities is planned for\nSeptember 2004.\n\nwhere ...\n\n1\n\n1\n\na, = -3 ( a , +a,)\nL\n,\n\na = semi-major &is\nAV P change in velociry\np = gravitational constant\n4\n\nevent systems are composed of a discrete state space that\ncontains every system configuration and state transition\nstructure that defines how the system\xe2\x80\x99s state-space evolves\nwith time.4 The discrete event system will be represented\nwith finite state automata that can be defined with a formal\nlanguage construct. Using finite state automata is a way of\ndeciding whether a defined state is acceptable or not through\nthe use of pattern recognitions with a finite set of states.\nWith the finite state automata outputs, the system will be\naware of its current situation. That knowledge can then be\nfed into a model-based reasoning system to make further\ndecisions of what must occur next. Massachusetts Institute\nof Technology, working jointly with JHU/APL, developed\nthe model-based reasoning system to be used in the\nMADECC system.\n\nT transfer time\nP orbit period\nL subscript refers to lower circular orbit.\nH subscript refers to higher circular orbit.\nTsubscript refers to Hohmann transfer orbit.\nAs shown, it is a straightforward solution to plan an orbit\ntransfer with the above equations. The process is composed\nof having two impulsive bums. The first bum is used to go\ninto an elliptical transfer orbit, with the satellite staying at\nthat transfer orbit for a length of time T. At the end of that\ntime, another bum will occur to direct the satellite in the\nright path of the final orbit.\nThe case of planning an orbit change is also quite simple,\ncomprising a simple vector addition of the initial and final\nstates.\n\nAVL0 =\nwhere\n\n6\xe2\x80\x99 +v,\xe2\x80\x99 - 2 . q .v,. c o s e y\n\nThe satellite coordination module will gather information\nfrom the cross-link transceivers while communicating with\nthe other satellites. It then uses that information to decide\nwhether an action must be taken to accomplish the mission\ngoals. The high-level decisions, such as \xe2\x80\x9cAll satellites need\nto be 1000 km apart from one another\xe2\x80\x9d, will come from\noutputs of the model-based reasoning system based on rules\nthat the MADECC system manager define. If the satellite\ncoordination module concludes that an action must be taken,\nthen the satellites begin the process of communication and\nnegotiation.\n\n(5)\n\n...\nV, initial velocity\nV =final velocity\n\xe2\x80\x99\n8 = change of angle\n\nOnce again, in ordinary scenarios, more logic would take\nplace to plan for an efficient bum. In the future, many more\nsolutions will be evaluated for repositioning, such as\ncombined maneuvers, 3-bum transfers, and aero-assists\ntrajectories. Plane changes are A V expensive maneuvers in\nnature, especially at lower altitudes where initial velocities\nare higher. Logic is used in the early stages to keep the\ncoordination schemes simple at first, since they can quickly\nbecome complex and too burdensome for early\ndemonstrations.\n\nTo reposition the satellites, one or more maneuvers may be\nneeded. As discussed previously, these details of required\nmaneuvers will come from the maneuver planning module.\nOne satellite will be responsible for making the high-level\ndecisions, and it will be up to each individual satellite to\ncalculate the details of its own maneuver plan. Given\ncurrent flight processors, it would also be impossible for a\nsingle satellite to plan maneuvers for all satellites in the\nconstellation. Once a total plan of action has been\nestablished, the satellite coordination module will pass a\nmaneuver token to allow an individual satellite to perform\n\n3-2. CONTROL AND COORDINATION\nThe key to autonomous control of the entire constellation is\nthe ability to coordinate satellite actions amongst\nthemselves. Each individual satellite must not only be\nknowledgeable about itself, but also knowledgeable about\nthe other nodes in the constellation, and must understand\nwhere it fits into the overall mission goals. This is both a\nlogically and computationally difficult task that cannot be\naddressed by traditional control theory. For a single-node\nsystem acting by itself, the properties ordinarily examined\nare response time, stability and robustness. For multiplenode system, the required set of parameters to monitor\nexpands to include dynamic system behavior adaptation,\ncoordination of autonomous system assets, goal lanning\nand refinement, fault resolution, and learning!\nThe\nexpanded requirement demands more intelligent control\ntechniques, such as neural networks, fuzzy logic, discrete\nevent systems, and expert system^.^\n\nits maneuver. Once completed, it will be responsible for\n\ncontacting the other nodes to report on its status, providing\nthe most efficient use of constellation resources.\nIn future scenarios, it will be necessary for multiple\nspacecraft to perform maneuvers simultaneously. The same\nconcepts previously described can be adapted to this\nsituation as well. Multiple maneuver tokens may be passed\naround, and it will be the responsibility of the master\nspacecraft to make sure the entire constellation is aware of\nthe constellation status.\n4. MADECC FLIGHT\nPOTENTIAL\nThe MADECC system is a prototype system to demonstrate\na new technology, but the inclusion of existing flight-ready\ncomponents will lay the groundwork for possible evolution\nto flight embedded software. The JHU/APL cross-link\ntransceiver already has the ability to provide a smoothed\norbit determination solution with software embedded in the\n\nThe MADECC system will take advantage of discrete-event\nsystems and model-based reasoning to effectively control\nthe formations and accomplish the mission goals. Discrete5\n\n.\n\nREFERENCES\n\ntransceiver itself. AutoConm-F is currently being flown on\nEO-I, and GEONS is flight-tested code as well. GEONS\nwill provide an alternate method of obtaining an orbit\ndetermination solution. The selection of ANSI C and C++\nas implementation languages will aid in the development of\na system that is operating system independent.\n\n[l] Angelopoulos, V., and P. V. Panetta, eds. Science\nClosure and Enabling Technologiesfor Constellation\nClass Missions. University of California, Berkeley and\nNASA, Goddard Space Flight Center, p. 29, 1998.\n\nAdditionally, the main components of the MADECC system\nhave been designed as separate software modules, allowing\ncomponents to be easily replaced.\n\n[2] Bristow, John, Carol Raymond, and Mark Schoeberl.\nIntelligent Distributed Spacecraft Infrastructure. Earth\nScience Enterprise Technology Planning Workshop, p.\n7,2001.\n\n5. CURRENT\nPROGRESS\n\nThis project is currently in its development phase. The\nMADECC system is now capable of processing position,\nvelocity, acceleration, quaternion, and orbital events data,\ndisplaying that data in a separate interface application,\ndisplaying spacecraft ground tracks in Satellite Tool KitTM\n(STK), and transmitting information among satellites\nthrough the cross-link transceiver. The coordination and\ncontrol scenarios are currently being devised and\nimplemented. Once that step is complete, responses to\nachieve desired behaviors and performance will be\nanalyzed. To analyze responses, the following items will be\nevaluated:\n\n0\n0\n0\n\n0\n\nDeviations from predicted orbits\nTime to communicate planned maneuvers among\nspacecraft\nTime to return to predicted or planned orbits\nSettling times\nDamping ratios\nTime available for science\nOverall formation behavior\n\n[3] P. A. Stadter. Discrete event command and controlfor\nformation frying of distributed small spacecraft systems.\n13th Annual A I M S U Conf. on Small Satellites,\nSSC99-VI-4,23-26 August, Logan, UT, 1999.\n\'\n\n[4] P. A. Stadter, G. R. Barrett, D. P. Watson, T. C.\nEsposito, and J. 0. Bristow. Autonomous command\nand controlfor distributed spacecraft systems. A M\nNanotech 2002 Proceedings, Houston, TX 9-12\nSeptember 2002.\n[5] Wertz, James R. Mission Geometry; Orbit and\nConstellation Design and Management. Microcosm\nPress, El Segundo, CA and Kluwer Academic\nPublishers, Dordrecht, Netherlands, 200 1.\n\nTimothy C. Esposito is a\nc o mp u t e r\ne ngine e r\nworking in the Mission\nApplications Branch\n(Code 583) at NASA\nGoddard Space Flight\nCenter. He received his\ndegree in aerospace\nengineering at North\nCarolina\nState\nUniversity. At NASA, he\nhas helped to develop\nand maintain the fright dynamics software systems for the\nEOS Terra, EOS Aqua, EO-1, and SMEX missions. His\nfocus has been on developing autonomous software in the\njlight dynamics arena.\n\nTo analyze performance, the following items will be\nexamined:\n\n0\n\n.-\n\nTime to communicate data through cross-links\nCPU and memory measurements for coordination\nand planning tasks\nTime to complete planned maneuvers\nFuel efficiency of coordinated maneuvers\n\nAfter response and performance analysis is complete for one\nscenario, an optimization activity will occur.\nAutonomous positioning control, attitude control, and\ncoordination will be demonstrated and shown to be possible\nonce the analysis described above is taken. The MADECC\nproject will hopefully prove to be a stepping-stone to\nautonomous control and coordination of multiple spacecraft\nmissions.\'\n\n6\n\n'