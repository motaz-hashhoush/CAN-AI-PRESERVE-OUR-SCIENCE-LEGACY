b'United States Patent\n\n[191\n\n[ill\n\nChan et al.\n\n[45]\n\n[54] DIGITAL FIRST ORDER HOLD CIRCUIT\n[75] Inventors: Fred N. Chan, Atherton; Gerald J.\nWensley, Sunnyvale, both of Calif.\n[73] Assignee:\n\nFord Aerospace & Communications\nCorporation, Detroit, Mich.\n\n[21] Appl. No.: 120,556\n[22] Filed:\n\nNov. 13, 1987\n\n[51] Int. Cl.4\n[52] U S Cl.\n..\n\n.........................\n\nH03L 7/06; H03M 1/00\n341/122; 331/18;\n\n......................................\n\n34 1/ 166\n[58] Field of Search .......... 341/11, 147, 144, 166-169,\n341/122-124; 331/17, 18; 328/14\n1561\n\nReferences Cited\nU S PATENT DOCUMENTS\n..\n4,251,779\n4,326,173\n4,454,486\n4,489,287\n4,626,787\n4,679,004\n\n2/1981\n4/1982\n6/1984\n12/1984\n12/1986\n7/1987\n\nKellogg et al. .........................\nNewman .................................\nHassun et al. .........................\nNaguno et al. .........................\n\nMefford ................................\nTakahara et al. ...........\n\nPrimary Examiner-Vit W. Miska\nAssistant Examiner-Helen Goh\n\n331/1\n331/1\n332/16\n331/1\n328/14\n331/18\n\nPatent Number:\nDate of Patent:\n\nAttorney, Agent, or Firm-Edward\nAllen; Keith L. Zerschling\n\n4,829,301\nMay 9, 1989\nJ. Radlo; Kenneth R.\n\n[571\nABSTRACT\nThere is provided a digitally controlled first order hold\ncircuit and waveform synthesizer for digitally controlling the representation of a function over an approximation interval. In accordance with the operation of the\ninvention, the first order hold circuit and waveform\ngenerator receives a digital data input signal which\ncontains initial condition data, up/down data, and slope\ndata for the approximation interval. The initial condition data is loaded into an up/down counter which is\nincremented using counting data at a rate depending on\nthe value of the slope data and in a direction depending\non the value of the up-down data. In order to minimize\ndelays arising from data acquistion, two frequency synthesizer circuits are provided such that one frequency\nsynthesizer provides counting data while the other frequency synthesizer receives slope data. During alternating intervals, the other frequency synthesizer circuit\nprovides counting data while the other circuit receives\nslope data. In addition, long length data input signals\ncovering a plurality of approximation intervals are provided to reduce the demands on a main system central\nprocessing unit.\n\n11 Claims, 9 Drawing Sheets\n\nUS. Patent\n\nMay 9,1989\n\n4,829,301\n\nSheet 1 of 9\n\nINPUT DATA\nFROM MICROPROCESSOR\n\n(32\nUID\nCTR\n\n2lb-\n\n2A -c\n\nf5\nCONTROL\nCIRCUIT\n\nII\n\n7\n-\n\n;\nI.C. -SIR\n\n-\n\nN/S\nSERVO\n\nEIW\nSERVO\n\nI\n\n(328\n\nLOAD, CLOCK, AND\nSHIFT GATING\nINFORMATION\n28 A\n\nII\n\nSIR\n\n:=\n\n2c\n\n-\n\n-I\n\nfloc\nSLOPE\nSIR\n\nU/D\nCTR\n\nI.C.\n\nTOS\nN/S\nSERVO\n\nI\n4cA\n\n-4\n\n/MC\n\n-\n\nf\n\n22c\n\nF/S\nlb\n\n-4\n32C\n\nL\n\nJ\n\n4\n\nc\n\nSIR\n\nWD\nCTR\n\nI\n\nTO S\n\nI\nE N\nSERVO\n\nI IMAGER\nS SOUNDER\nN/S* NORTH1SOUTH\nE/W = EAST/ WEST\n8\n\nFIG., 1.\n\nU.S. Patent\n\nMay 9,1989\n\nFROM MICROPROCESSOR DATA\n\nI.C.\n\nI\n\n\'\n\nI\n\nI\n\nI\n\nSHIFT\nI,REGISTER I I\n\nI\n\n6\n\n: :\n;\n\n\'I I\n1 - 1\nI\n\nI\n\n4,829,301\n\nSheet 2 of 9\n\nREFERENCE FREQUENCY\n\n[20\nSLOPE\nSHIFT -I\nREGISTER\n\n0 . -\n\n-\n\nP\n\n1\n\nI\nI\nI\n\n--.----------L\n\nI\n\nI\n\nI\n\n35\n\nUPIDOWN\nFLIP FLOP\n\nF..\n1,\n62\n\nLOOP\n\nI\nI\n\nU.S. Patent\n\nMay 9,1989\nF\n\nREF I KHZ>\nIN\n\n\'\n\nSheet 3 of 9\n\nPHASE LOCK\nLOOP \'X"\nI1\n\nCKT I\n\nI\n\np22\n\n,\n\nI\n\nRESET ZERO\nDETECT\n\nCLK I\n\n,140\n\ndl20\nFLIP\nFLOP\n\nA\n\n1\n\n%lfL\n\n100\nSHIFT\nCLK- REGISTER f ;;\nDATA\nCKT 2\n\n- CLK 2\n-\n\nRESET\n\nZERO\n\n(110\n\n-\n\n.- )\n. -\n\nREF\nIN IKHZ>\n"F "\n\n4,829,301\n\nFLIP\nFLOP\nF PHASE LOCK FXN\nLOOP \'x"\n40\n\nFI6.-3.\n\nJ 40\n\nUS. Patent\nFROM FREO\nSYNTH\n\nRESET ZERO\n\nMay 9,1989\n\n4,829,301\n\nSheet 4 of 9\n\n540\n\nDATA1. C. SHIFTOVERFLOW\nUNDERFLOW-\n\nr\n-\n\n,440\n\n-\n\n4 BITS\nSHIFT\n\n------\n\nv\n\nD\nA g T 0\nSERVO\nC\n\nUPIDOWN\nCOUNTER d,\nOVERFLOW\nUNDERFLOW-\n\nREGISTER\n\n1~490\n\n-\n\n1\n\n4 BITS\n\nLOAD I.C.\n\nb\n\n1 5oo\n\nUP/ DOWN\nCOUNTER\n\nd\nl\n\n1\n\nFL4.\n\n-\n\n-\n\nUS. Patent\n\nMay 9,1989\n\nSheet 5 of 9\n\nrl\n\n4,829,301\n\nU.S. Patent\n\nSheet 6 of 9\n\nMay 9,1989\n\n4,829,301\n\n$ k\nG\nREGISTER\n\n1\n\nF16.,6.\n\nCOUNTERS\nUP-DOWN\n\nUS. Patent\n\n-\n\n16MS\n\nMay 9,1989\n\n16MS\n\n1 NS\n6\n\nSheet 7 of 9\n\n16HS- 16MS\'\n128 -M\nS\nRECEIVE INTERVAL\n\n16 N S \'\n\nF16.J.\n\nRECEIVE INPUT DATA\n168 BITS; EVERY 128 MS\nI\n\n---\n\nRESET, RELOAD DATA FOR\nINITIAL CONDITION, SLOPE, U/D\n\nI\nI\n\nSHIFT INITIAL CONDITION\n(12 BITS)\n\nI\n\nSHIFT UID\n(I BIT)\nSHIFT SLOPE DATA\n\ny\n\nEND 16 M\nS\nREPEAT SHIFT CYCLE\n\nFI6.- 8.\n\nI\n\n4,829,301\n16MS\'\n\n6s\nI\nM\n\nUS. Patent\n\n%\n.\n\n\\\n\\\n\nI\n\nS- EIW\n\n\\\n\\\n\n1\n\n4,829,301\n\nSheet 8 of 9\n\nMay 9,1989\n\n.\n\n672SU\n-\n\nI-I\nI\n\nCLOCK 01\n\nm\n\nINITIAL CONDITION I\nSHIFT CLOCK\n\nI\n\ne\n\nI\n\nn\n\nI\nI\n\nb\n\n104 CLOCK CYCLES\n\nI\n\nI\nI\n\nI\n\nSLOPE\nSHIFT CLOCK\n\nI\nI\n\ni\nI\nI\nI\n\' -I\n\nI\n\n64 CLOCK CYCLES\n\nRECEIVE CCE\nYLI CLOCK CYCLE. 4uS\n\n1\nI\n\nFIG.,I.\n\nU.S. Patent\n\n-16\n\nI\n\nMS\n\nI\nI\n\nRESET ZERO DETECT\n\n4,829,301\n\nSheet 9 of 9\n\nMay 9,1989\n\nI\n\niI\n\n3\n\nt\n\nI\n\nI\nI\n\nLOAD\n\nI\n\nI\n\nI\n\nI\n\nI\n\nI\n\nI\n\nSHIFT SLOPE-1\nSLOPE SHIFT CLOCK\n\nI\nI\nI\nI\n\nINITIAL CONDITION\nCLOCK\n\n~I\n\n1 ;\nI\n\nSHIFT INITIAL\nCONDITION\n\nI\n\nI\n\nm m ,I\n\nr\n\nI\n\nI\n\nI\n\na\n\nCLOCK CYCLES\n\n1\nI\n\nI\n\nI\n\n1\n\nI\nI\n\nI\n\nII\n\nI\n\nI\n\nI\n\nI\nI\n\nI\n\nI\n\n1I I\n\nI\n\n\' I\nI\nI\n\nI\nI\n\nI\nI\nI\n\n1\n\nI\n\nII\n\n*3\nI\n\nI\nI\n\nCLOCK CYCLES\n\n-14\nI\n\n-4\nI\n\nI\n\nCLOCK CCEYLS\n~ 5 6 ~ s\nSHIFT CYCLE\n\nFlG.,12.\n\nI\nI\n\nI\n\nI\n\nI\n\nI\n\n1\n\nI\n\nI\n\nI\nI\n\nI\nI\n\nI\n\nI\nI\n\nII\nI\n\nREPEAT\n\n1\n\n4,829,301\n\n2\n\ndrift, temperature sensitivity, and performance during\nDIGITAL FIRST ORDER HOLD CIRCUIT\nextreme environmental applications can be optimized.\nThere also exists a need for a digitally controlled\nThe invention described herein was made in the perwaveform synthesizer having a simple design which is\nformance of work under NASA Contract No. NASS- 5 useful for high speed data processing applications and\nwhich keeps the delay time for acquiring and processing\n29500 and is subject to the urovisions of Section 305 of\nthe National Aeronautics and Space Act of 1958, as\ndata to a minimum.\namended, 42 U.S.C. 2457.\nThere also exists a need for a device having self-correction features to minimize the impact of error generaBACKGROUND OF THE INVENTION\n10 tion.\nThe present invention relates to a digital first order\nThere also exists a need for a digital first order hold\nhold circuit for digitally controlling the control voltage\ncircuit for providing a frequency responsive representaprovided to a servo and like analog devices. The invention of a waveform over an approximation interval.\ntion also relates to circuits useful for waveform syntheWhat is further desired is a simple digitally controlled\nsis using digitally controlled approximation techniques 15 waveform synthesizer and method for permitting rapid\nand is especially useful in severe environmental applicaresponse to changing frequency requirements without\ntions and where long duty service makes prolonged use\ninvolving very complex digital processing circuitry.\nof analog control devices infeasible.\nSUMMARY O F THE INVENTION\nWaveform generators of the prior art include those\nwhich have used either analog or digital control tech- 20 According to the invention there is provided a diginiques. Analog waveform generators are known which\ntally controlled, frequency responsive first order hold\nuse a voltage controlled oscillator to generate an analog\ncircuit and waveform synthesizer for digitally controlwaveform. However, voltage controlled oscillators,\nling the representation of a function over an approximation interval.\nand other analog components, have been susceptible to\nvoltage drift, extreme ambient temperature sensitivity, 25\nIn accordance with the operation of the invention the\nand errors which increase with duty cycle and aging.\nfirst order hold circuit and waveform generator reAs an example of a waveform generator using a voltage\nceives a digital-data input signal which includes initial\ncontrolled oscillator, see U.S. Pat. No. 4,251,779 which\ncondition data, up/down data, and slope data, for the\ndescribes a frequency synthesizer apparatus and method\napproximation interval. The initial condition data is\nuseful in ultrasonic imaging applications.\n30 loaded into an up/down counter which is incremented\nAside from the difficulties relating to analog syntheusing counting data at a rate determined by the value of\nsizers, digitally controlled waveform synthesizers typithe slope data and in a direction determined by the\ncally have been complex and accordingly expensive.\nvalue of the up/down data. In order to minimize data\nFor example, U.S. Pat. No. 4,326,173 discloses a phase\nacquisition delays, two frequency synthesizer circuits\nlocked loop circuit wherein the synthesized frequency 35 are provided such that one frequency synthesizer probears a non-linear relationship to a reference frequency.\nvides counting data while the other frequency syntheAs another example, U.S. Pat. No. 4,626,787 discloses a\nsizer is receiving slope data. During alternating interfrequency synthesizer having N identical digital module\nvals, the other frequency synthesizer circuit provides\nstages wherein each stage generates one digit of the\ncounting data while the alternate circuit receives slope\nfinal digital frequency.\n40 data. In addition, long length data input signals coverAs another example, it has been determined that the\ning a plurality of contiguous approximation intervals\nphase locked loop circuit is generally not useful for\nare provided to reduce the demands on a main system\ncontrolling frequencies in a widely varying environcentral processing unit.\nment because the phase locked loop lacks the required\nThe frequency synthesizers include phase locked\ncircuit stability to accomplish precise frequency control 45 loops, down counters, and associated logic circuits\nof its output with the rapidity dictated by the very short\nwhich are digitally controlled by the slope data. The\nuse times appropriate in employment in certain systems.\noutput of each phase locked loop circuit is coupled back\nThus, one of the limitations of the phase locked loop\nto the input of the phase locked loop circuit through a\ncircuit is that the phase locked loop circuit, in and of\ndown counter in order to phase and frequency locks\nitself, is not capable of very rapidly changing from one 5 0 with a reference frequency. The circuit is particularly\nselected frequency to another. Known attempts to reuseful in high speed data processing applications and in\nsolve the problem of rapid flexibility for phase locked\none embodiment finds application as a control circuit\nloop circuits, such as that described in frequency synfor providing a control voltage through a digital to\nanalog converter to a plurality of servo motors. In this\nthesizer circuit, U.S. Pat. No. 4,251,779 have required\nextremely complicated digital processing circuitry. 55 embodiment, the circuit is capable of providing a waveform having a frequency from zero to approximately 16\nHowever, as digital processing becomes more complicated, problems of dedication of central processing\nkHz during 16 ms intervals. The circuit consists primartime, data acquisition and delay, and the probability of\nily of shift registers, two phase locked loop circuits, a\ngeneration of data error, become significant design conlocal control circuit, and logic circuits.\nsiderations.\n60\nThe invention will be understood in more detail by\nIn addition to the foregoing limitations, prior art\nreferring to the following detailed description and\ndigital waveform synthesizers have lacked the ability to\nclaims and to the drawings in which,\nself correct for the impact of analog generated errors,\nBRIEF DESCRIPTION OF THE DRAWINGS\nsuch as voltage drift, or for digital generated errors,\n65\nsuch as transient data or erroneous data input.\nFIG. 1 is a simplified block diagram of the invention\nAccordingly, there exists a general need for a digishowing a slope shift register, an initial condition shift\ntally controlled waveform synthesizer having reduced\nregister, dual frequency synthesizers, and an up/down\ndependence on analog techniques such that voltage\ncounter.\n\n3\n\n4,829,301\n\nFIG. 2 is a more detailed blocked diagram illustrating\nthe system shown in FIG. 1.\nFIG. 3 is a block diagram depicting the dual frequency synthesizers according to the invention.\nFIG. 4 is a block diagram depicting initial condition 5\nshift registers and up/down counters according to the\ninvention.\nFIG. 5 is a timing diagram showing the dual frequency synthesizer gating.\nFIG. 6 is a block diagram of a control circuit used 10\naccording to the invention.\nFIG. 7 is a timing diagram showing a basic 128 ms\ndata receive interval having 816 ms shift intervals\ntherein.\nFIG. 8 is a flow diagram showing the various steps 15\naccording to the invention.\nFIG. 9 is a graphic depiction of the input data receive\ntiming in accordance with the invention.\nFIG. 10 is a sequential timing diagram showing the\ndata input cycle for four digital control circuits accord- 20\ning to the invention.\nFIG. 11 is a detailed timing diagram illustrating the\ndata receive cycle according to the invention.\nFIG. 12 is a detailed timing diagram illustrating the\n25\ndata shift cycle in accordance with the invention.\n\n.\n\nDETAILED DESCRIPTION\nReferring now to FIG. 1, FIG. 1 shows a block diagram of four digital first order hold circuits according\nto the invention. The first order hold circuits depicted\nin FIG. 1 have been included in actual operation in a\ncontrol system for providing control signals to two\nimager and two sounder servos. The imager and\nsounder servos in the preferred embodiment are used in\na system for moving scan mirrors on a satellite which\nobserves the earth. In this system, two servos control an\nimaging mirror and two servos control a sounder mirror. The imaging mirror is controlled by a north-south\nservo which moves the mirror in the northhouth direction and an east-west servo which moves the mirror in\nan east-west direction. Likewise the sounder mirror is\ncontrolled by two servos, one of which moves the servo\nin a north-south direction, and another which moves the\nservo in an east-west direction.\nIn actual usage, these servos correct the scan pattern\nof the imaging and sounder mirrors to compensate for\nthe fact that the surface of the earth, due to orbit, location, and inclination is curved and discontinuous, and\nthat the mirrors are therefore scanning varying curves\ninstead of a straight line. In actual operation aboard a\nspacecraft, it is highly undesirable to dedicate the main\nsystem microprocessor to controlling the operation of\nservos. Therefore the microprocessor calculates the\nproper scan curve for each mirror and sends out discrete data bits to the control circuits at 128 ms intervals.\nOne purpose. of the digital first order hold circuit is to\nprovide a circuit which accurately approximates the\ndigitally known proper scan curves during these approximation intervals. Thus, one of the problems solved\nby the digital first order hold circuits of the invention is\nthe problem of providing a smooth yet rapid and flexible approximation waveform between receipt of discrete input data provided from the microprocesbr.\nShown in FIG. 1 are a plurality of hold circuits 2, 2A,\n2B and 2C. FIG. 1 depicts four first order hold circuits,\none for each of the servos as previously discussed. Each\nhold circuit in this particular embodiment of the invention can be considered to be identical and unless other-\n\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\n4\n\nwise stated, the following discussion will apply with\nequal weight to either of the circuits. In actual operation each first order hold circuit is used to provide a\ncontrol voltage to a servo (not shown). Hold circuit 2\nprovides an analog control signal from a digital to analog converer 41 to an imager north-south servo. Hold\ncircuit 2A provides an analog output from digital to\nanalog converter 42 to an imager east-west servo. Hold\ncircuit 2B provides an analog output from digital to\nanalog converter 43 to a sounder north-south servo and\nhold circuit 2C provides an analog output from digital\nto analog converter 44 to a sounder east-west servo.\nAlso shown in FIG. 1 is an input data line from a microprocessor (not shown). The data provided from the\nmicroprocessor contains information which corrects for\nthe nonlinear scan lines observed as the satellite scans\nthe earth.\nReferring still to FIG. 1, FIG. 1 shows a control\ncircuit 5 that supplies gating, load, and clock information to the plurality of first order hold circuits 2,2A, 2B\nand 2C. A detailed diagram of one control circuit in\n.\naccordance with the invention is shown in FIG. 6 Included within fust order hold circuits 2,2A, 2B and 2C\nare respective slope shift registers 10, lOA, 10B and 1OC\nand respective initial condition shift registers 12, 12A,\n12B and 12C. The shift registers receive data from the\nmicroprocessor and are coupled to and controlled by\ncontrol circuit 5. Coupled to the output of the four\nslope shift registers 10, lOA, 10B and 1OC are four corresponding dual frequency synthesizer circuits 4, 4A,\n4B and 4C which include two frequency synthesizers\neach. Hold circuit 2 includes frequency synthesizers 22\nand 24 which are coupled to the output of slope shift\nregister 10. Hold circuit 2A includes frequency synthesizers 22A and 24A which are coupled to the output of\nslope shift register 1OA. Hold circuit 2B includes frequency synthesizers 22B and 24B which are coupled to\nthe output of slope shift register 10B. Hold circuit 2C\nincludes frequency synthesizers 22C and 24C which are\ncoupled to the output of slope shift register 1OC.\nThe output of initial condition registers 12,12A, 12B\nand 12C are coupled to corresponding up/down\ncounter circuits. In hold circuit 2, initial condition shift\nregister 12 has an output coupled to up/down counter\n32. In hold circuit 2A, initial condition shift register\n12A has an output coupled to up/down counter 32A. In\nhold circuit 2B, initial condition shift register 12B has an\noutput coupled to up/down counter 32B. In hold circuit\n2C, initial condition shift register 12C has an output\ncoupled to an input of up/down counter 32C. In each\nhold circuit, the up/down counters also have an input\ncoupled to control circuit 5 and also have an input\ncoupled to a corresponding dual frequency synthesizer\ncircuit. Thus, in hold circuit 2, up/down counter 32 has\nan input coupled to the outputs of dual frequency synthesizers 22 and 24. Up/down counter 32A in hold\ncircuit 2A has an input coupled to the outputs of dual\nfrequency synthesizer circuits 22A and 24A. In hold .\ncircuit 2B, up/down circuit 32B has an input coupled to\nthe outputs of dual frequency synthesizer circuits 22B\nand 24B. In hold circuit 2C, dual frequency synthesizer\ncircuits 22C and 24C have outputs coupled to an input\nof up/down counter 32C.\nEach of the up/down counters also has an input\nwhich receives a load signal from control circuit 5.\nThus, control circuit 5 has a load signal output coupled\nto inputs to up/down counters 32,32A, 32B and 32C.\n\n5\n\n4.829,301\n._\n\nControl circuit 5 also has control signal outputs coupled to frequency synthesizer circuits 22 and 24, 22A\nand 24A,22B and 24B,and 22C and 24C.\nIn addition, in hold circuit 2,the output of up/down\ncounter 32 is coupled to D to A converter 42.In hold 5\ncircuit 2A,the output of up/down counter 32A is coupled to D to A converter 42A. In hold circuit 2B the\noutput of up/down counter 32B is coupled to D to A\nconverter 42B. In hold circuit 2C, the output of up/down counter 32C is coupled to D to A converter 42C. 10\nAs previously mentioned, the output of each D to A\nconverter is coupled to a corresponding servo for providing north-south or east-west control to imaging and\nsounder mirrors.\n.\nRefer now to FIG. 2 FIG. 2 is a more detailed 15\nblocked diagram of a digital control (hold) circuit in\naccordance with the invention. Shown in FIG. 2 is a\ncontrol logic circuit 6 which has coupled to its output\nshift registers 18, 20, 29, and 50, up/down counter 60,\ndual frequency synthesizer 40, and up/down flip-flop 20\n90. Shift registers 18 and 20 receive input digital data\nfrom the microprocessor (not shown). In particular,\nshift register 18 receives initial condition data and up/down data, and shift register 20 receives slope data.\nShift register 18 may include a plurality of serially con- 25\nnected shift register which terminate in shift register 50.\nShift register 20 may include a plurality of serially connected shift registers which terminate in shift register\n29. The output of shift register 18 is coupled to shift\nregister 50.Shift register 18 initially receives 104 bits of 30\ninformation which provide the 12 bit initial condition\ndata and the 1 bit up/down data for 8 16 ms intervals.\nShift register 20 initially receives 64 bits of information\nwhich provide the 8 bit slope data for 8 16 ms intervals\nshift register 50 receives the initial condition data and 35\nup/down data to be next processed. Shift register 29\nreceives the slop data to be next processed by the dual\nfrequency synthesizers. Shift register 50 has coupled to\nits output up/down flip-flop 90 which receives the up/down data, and up/down counter 60 which receives the 40\ninitial condition data.\nSlope shift register 29 has coupled to its output dual\nfrequency synthesizer circuit 40, which includes phase\n4\n0\nlock loop circuit 3 , down connector 3 , and down\ncounter 35. The output of slope shift register 29 is cou- 45\npled to an input to phase locked loop 34 and an input to\ndown counter 30. The output of down counter 30 is\ncoupled to one input of phase locked loop 34. Phase\nlocked loop circuit 34 also has a digital reference frequency (F) and signals from control clock 6 coupled to 50\nother of its inputs. Phased locked loop circuit 34 compares the feedback F signal from down counter 30 to\nthe leading edge of reference signal F. Phase locked\nloop 34 in effect performs a multiplication operation\nwhereby reference frequency (F) is effectively multi- 55\nplied times the slop data, (N), to provide counting data\nat the rate of F X N each 16 ms interval at the output of\nthe phase locked loop 34. This counting data output,\nF X N, is coupled through a counter 35 to one input of\nup/down counter 60. The output F X N is also feedback 60\ncoupled to phase locked loop 34 through down counter\n30.Down counter 30 acts as a divider circuit to produce\nat its output a signal indicative of F, the reference frequency, as it appeared at the synthesier output.\nReferring still to FIG. 2, up/down counter 60 has 65\ncoupled to its inputs, initial condition data from shift\nregister 50, up/down data from up/down flip-flop 90,\nand slope data from dual frequency synthesizer 40.\n\n6\n\nThe initial condition data is loaded from shift register\n50 into up/down counter 60. The up/down flip-flop 90\ncauses the up/down counter 60 to be incremented in a\ndirection, up or down, determined by the up/down\ndata. Dual frequency synthesizer 40 provides at its output counting data at a rate that is directly proportional\nto N, where N represents the slope data. Thus, in up/down counter 60 the initial condition data is incremented up or down N number of times over the 16 ms\ninterval, causing the initial condition to continuously\nchange N times over the 16 ms interval. As the contents\nof up/down counter 60 change pursuant to receiving\ncounting data, D to A converter 70, which is coupled to\nthe output of up/down counter 60,experiences a corresponding continuous change in-its output voltage. Thus\nD to A converter 70 gradually changes its output over\nthe entire 16 ms interval (16 ms) as counting data is\nprovided to up/down counter 60, rather than changing\nabruptly at the beginning of each shift interval. D to A\nconverter 70 has coupled to its output an integrator 80\nto smooth the control signal provided from the hold\ncircuit to the servos as previously discussed.\nRefer now to FIG. 7 which shows a diagram depicting a basic receive interval of 128 ms which is subdivided into a plurality of 8 16 ms intervals. In actual\noperation the plurality of first order digital hold circuits\nshown in FIG. 1 and FIG. 2 would operate according\nto the sequence shown in FIG. 8.\nReferring now to FIG. 8, in the first step, a microprocessor outputs data every 128 ms to the data control\ncircuits. The 128 ms corresponds to 8 shift intervals.\nThe input data in the preferred embodiment consists of\n168 serial bits of information for processing during 8 16\nms shift intervals. Each 16 ms shift interval uses 12 bits\nfor initial condition data, 1 bit for up/down data, and 8\nbits for slope data for a total of 21 bits per 16 ms interval, or 168 bits per 128 ms receive interval.\nAt the start of each 16 ms interval, the divide by 16\ncounter of the frequency synthesizer and the up/down\ncounters are reset by a load signal, causing data to be\nloaded into the up/down flip-flop, the up/down counters, and the divide by 16 counter. Thereafter, initial\ncondition data, up/down data, and slope data are shifted\nbetween receiving shift registers causing the last receiving register to contain the data to be next processed. At\nthe end of eight shifting periods, the entire 168 bits of\ndata have been totally processed by the digital hold\ncircuit of the invention. At the end of the 128 ms receive\ninterval, the microprocessor outputs another 168 bit\ndigital data input to the receiving shift registers.\n.\nRefer now to FIG. 9 FIG. 9 shows an input data\nreceive cycle (i.e. addressing) for the sounder east-west\nservo control circuit. The sequential addressing for\neach servo requires a 672 ms interval as depicted in the\ntop most line in FIG. 9.The sounder east-west servo is\nthe last circuit to be set prior to the initiation of the\nloading and shifting cycles. Addressing for the sounder\neast-west control circuit is completed at least 7.5 ms\nprior to the first shift interval of the succeeding receive\ncycle.\nRefer now to FIG. 10. FIG. 10 shows the input cycle\nsequential addressing for the imager north-south control circuit, imager east-west control circuit, the\nsounder north-west control circuit and the sounder\neast-west control circuit. The circuits are addressed in\nthe following order. The imager north-south circuit is\naddressed first and addressing for this circuit takes approximately 0.672 ms. The imager east-west circuit is\n\n7\n\n4,829,301\n\n8\n\naddressed next and sequential addressing from the miIn operation, the dual frequency synthesizer circuit\n40 would provide counting data to up/down counter 60\ncroprocessor takes approximately 0.672 ms. Similarly,\nsequential addressing for the sounder north-south cirat a rate determined by the eight bit slope data coupled\ncuit and the sounder east-west circuit takes 0.672 ms\nto dual frequency synthesizer circuit 40. Thus, dual\napiece. Sequential addressing is completed upon se- 5 frequency synthesizer circuit 40 would cause up to 255\nquential addressing of the sounder east-west circuit.\nbits to be provided to up/down counter 60 over a 16 ms\nThe entire sequential addressing cycle takes approxiinterval in the form of a clock signal. In actual operation, one frequency synthesizer in dual frequency synmately 2.6 ms.\nRefer now to FIG. 11.FIG. 11 is a blown-up view of\nthesizer 40 would cause counting data to be provided\nthe 0.672 ms cycle which comprises the input data re- 10 for one 16 ms interval, and the other frequency syntheceive cycle (Le. sequential addressing) for each control\nsizer circuit would cause counting bits to be provided to\nup/down counter 60 for a successive 16 ms interval.\ncircuit. Shown as an example in FIG. 11 is sequential\naddressing for the sounder east-west control circuit. A\nThereafter, the operation of the two frequency syntheclock 1 signal has four ps clock cycles. Thus, the 0.672\nsizers would alternate back and forth. Accordingly,\nms cycle would include exactly 168 clock cycles. Also 15 while one frequency synthesizer circuit is being used for\nshown in FIG. 11 are initial condition shift clock sigdata acquisition, the other frequency synthesizer circuit\nnals, shift and slope shift clock signals which are couis being used to provide counting bits to the up/down\npled from the control circuit to the various shift circuits\ncounter 60. In this way, delay of data acquisition is\nvirtually eliminated from the frequency synthesizer\nduring the 0.672 ms interval. The initial condition shift\nclock signal has a 104 clock cycle durations causing the 20 circuits.\n96 initial condition bits and 8 up/down bits to be reRefer now to FIG. 3, which is a detailed block diaceived during the receive cycle. The slope shift clock\ngram of a dual frequency synthesizer 40, including fresignal consists of a 64 clock cycle signal which causes\nquency synthesizers 22 and 24 and feedback coupled\n64 bits of slope data to be received from the microdown counters 150and 160.For brevity, only one paralprocessor. Thus, at the expiration of the 0.672 ms ad- 25 lel frequency synthesizer circuit will be discussed heredressing cycle, the shift clock signals have caused reafter, but it should be understood that the two freceipt and shifting of the initial condition data, the up/quency synthesizers circuits are substantially identical\ndown data, and the slope data signals in the serial reunless otherwise stated. As shown in FIG. 3, data is\nceiving shift registers.\nreceived in the dual frequency synthesizer circuit at\nRefer now to FIG. 12 which depicts the shift cycle, 30 shift register 100.Also coupled to shift register 100 is\nthe shift clock signal.\nwhich occurs everv 16 ms. During the initial Dortion of\nThe output of shift register 100is coupled to the input\nthe shift cycle a reset zero detect-signal reset\'s the up/down flip-flop load signal causes previously shifted data\nof shift register 180.Shift register 180 also has a clock 1\nsignal coupled to another input. The output of shift\nto be loaded into the up/down counters. During an 8\nclock cycle interval, the slope data is shifted forward in 35 register 180 is coupled to down counter 160.The clock\n1 signal is also coupled to flip-flop 120. Flip-flop 120\nreceiving slope data shift registers and during a contemalso has the output from shift register 100 coupled to an\nporaneous 13 clock cycle interval, the initial condition\ndata is shifted forward in receiving initial condition data\ninput, and is also reset by a reset zero detect signal\nregisters. The slope data shift occurs due to the slope\ncoupled to a reset input. The output of flip-flop 120 is\nshift clock signal that is coupled from the control circuit 40 used to inactivate Dhase locked ~ O O D when the sloDe\n140\ndata equals all V\'k,indicating thai the initial condition\nto the slope shift circuit. The initial condition is shifted\nis to remain unchanged for a 16 ms interval. The output\nbecause the initial condition shift clock signal is coupled\nof flip-flop 120 is coupled to phase locked loop circuit\nfrom the control circuit to the initial condition shift\nregister. The shift cycle shown at FIG. 12 is repeated at\n140,which has the output of down counter 160 coupled\n45 to another input. Also coupled to one input of phase\nthe beginning of each 16 ms interval.\nFIG. 6 is a detailed block diagram of one control\nlocked loop circuit 140 is a reference frequency F,\nwhich in the-preferred embodiment is 1 kHz or 16 cycircuit arrangement for providing the foregoing clock,\nload, reset, and CKT signals used by the invention.\ncles per 16 ms interval. In actual operation phase locked\n.\nRefer again to FIG. 2 In summary, FIG. 2 shows a\nloop circuit 140 acts as a multiplier and provides at its\ndigital control circuit in accordance with one embodi- 50 output a signal of F X N frequency, which could be up\nment of the invention. In actual operation, an input data\nto 255 X 16 steps per 16 ms interval, which corresponds\nword including initial condition data, up/down data,\nto 255 kHz. This F x N signal output from phase locked\nloop circuit 140 is coupled to an input of nand gate 200\nand slope data would be received from a microprocesand is also coupled back to an input of down counter\nsor by shift register 18 and shift register 20 during an\naddress cycle. Shift register 18 would serially shift ini- 55 160. Down counter 160 divides the F X N input signal\ntial condition data and up/down data to shift register 50\nby N. Thus, by the use of this feedback arrangement,\nand shift register 20 would serially shift the slope data\nphase locked loop circuit 140 attempts to lock its output\ninto shift register 29.Thereafter, shift register 50 would\nto the value FXN. Coupled to another input of nand\nload the initial condition for the first 16 ms interval into\n.\ngate 200 is enable/disable signal, CKT 2\nup/down counter 60 and the up/down data through 60 The configuration of the other frequency synthesizer\nup/down flip-flop 90 to up/down counter 60. Shift\ncircuit 24 is substantially the same as has been discussed\nregister 29 would transfer data into the dual frequency\nfor frequency synthesizer circuit 22. The output of fresynthesizer circuit. Up/down flip-flop 90 would cause\nquency synthesizer circuit 24 is coupled to nand gate\nup/down counter 60to be set for incrementing in the up\n190 which also has coupled to its input an enable/disaor down direction by the counting data provided from 65 ble signal, CKT 1 Nand gate 190, and the other nand\n.\ndual frequency synthesizer circuit 40. Up/down flipgates used herein are conventional 2 input nand gates.\nflop 90 and the other flip-flops used herein are convenThe output of nand gate 200 is coupled to the input of\ntional dual D flip-flops.\nnand gate 210 which also has coupled to another input\n\n9\n\n4,829,301\n\nand output of nand gate 190. The output of nand gate\n210 is coupled to a down counter 220, which also has\ncoupled at another input a load signal. The output of\ndown counter 220 feeds the up/down counter circuit\nshown in FIG. 4. Down counter 220 divides the output 5\nof the dual frequency synthesizer circuit, FXN, by 16\nto provide counting data during the 16 ms interval at a\nrate determined by N, the slope data in the term of a\nclock signal.\nRefer now to FIG. 5, which is an illustration of the 10\ndual frequency synthesizer gating scheme. As shown in\nFIG. 5 the dual frequency synthesizer gating scheme\nconforms to the 128 ms receive intervals. CKT 1signal\noperates to preset frequency synthesizer 24 during the\nfirst 16 ms interval. CKT 2 signal operates to enable 15\nfrequency synthesizer 22 during this first 16 ms interval.\nDuring the following 16 ms interval, CKT 1 signal\noperates to enable frequency synthesizer 24 while CKT\n2 signal operates to preset frequency synthesizer 22.\nClock shift data signal 1 operates to shift data to 20\nfrequency synthesizer 22 at the beginning of every preset 16 ms interval. Clock shift data signal 2 operates to\nshift data to frequency synthesizer 24 at the beginning\nof every preset 16 ms interval for synthesizer 24. Thus,\nas shown in FIG. 5, shift data 1 will cause data to be 25\nshifted to frequency synthesizer circuit 22 during first,\nthird, fifth, etc., 16 ms intervals. Shift data signal 2 will\ncause data to be shifted to frequency synthesizer circuit\n24 during the second, fourth, sixth, etc., 16 ms intervals.\nCKT 1 causes data to be provided from synthesizer 24 30\nduring an enable interval for synthesizer 24. CKT 2\ncauses data to be provided from synthesizer 22 during\nan enable interval for synthesizer 22. The load signal to\ncounter 35, the up/down counter 60, and up/down\nflip-flop 90 in FIG. 2 synchronizes the processing of the 35\ncounting data, up/down data, and the initial condition\ndata at up/down counter 60. In total, as shown in FIG.\n5 the shift data signal lasts for approximately 52 ps. A\nresethero detect signal is coupled to flip-flops 110 and\n120 in FIG. 3 to provide a reset for D flip-flops 110 and 40\n120.\n\nFIG. 6 shows a control circuit arrangement which\nprovides the foregoing clock shift signals, CKT signals,\nand load signals.\nRefer now to FIG. 4 which depicts the shift registers\nand up/down counters useful for processing the up/down data, the initial condition data, and the slope data\nso as to provide a digitally controlled input to the digital\nto analog converters.\nShown in FIG. 4 is shift register 430 which receives\nthe initial condition data and the up/down data during\nthe beginning of the initial condition shift cycle. Shift\nregister 440 also receives initial condition data during\nthe initial condition shift cycle. Register 430 receives\nfour initial condition bits and 1 up/down bit and register\n440 receives 8 initial condition bits. The initial condition\nbits in shift register 430 are coupled to up/down\ncounter 480 and the up/down bit to flip-flop 510. Four\ninitial condition bits from shift register 440 are coupled\nto up/down counter 490 and four bits of shift register\n440 are coupled to up/down counter 500.\nAn underflow output of up/down counter 500 is\ncoupled back to an underflow nand gate 400.The output of the dual frequency synthesizer is also coupled to\nanother input to underflow Nand gate 400 and to an\ninput to overflow nand gate 420. Underflow nand gate\n400 has an output coupled to an input of nand gate 470.\nAn overflow from up/down counter 500 is coupled to\n\n45\n\n50\n\n55\n\n60\n\n65\n\n10\n\nan input to overflow nand gate 420. The output of overflow nand gate 420 is coupled to another input of nand\ngate 460. The underflow and overflow outputs from\nup/down counter 500 are normally \xe2\x80\x9c1\xe2\x80\x9d.\nA resethero signal is coupled to the clock input of\nflip-flop 510 and the up/down bit is coupled to the data\ninput to flip-flop 510. Flip-flop 510 is grounded at the\npreset and clear inputs. Flip-flop 510 has an \xe2\x80\x9cup\xe2\x80\x9d output\ncoupled to a nand gate 460 and a \xe2\x80\x9cdown\xe2\x80\x9d output coupled to nand gate 470. The output of nand gate 460 is\ncoupled to an \xe2\x80\x9cup\xe2\x80\x9d input to up/down counter 480. The\noutput of nand gate 470 is coupled to a \xe2\x80\x9cdown\xe2\x80\x9d input to\nup/down counter 480.\nAn underflow output from up/down counter 480 is\ncoupled to an underflow input to up/down counter 490\nand an overflow output from up/down counter 480 is\ncoupled to an overflow input to up/down counter 490.\nSimilarly, an underflow output from up/down counter\n490 is coupled to an underflow input of up/down\ncounter 500 and an overflow output from up/down\ncounter 490 is coupled to an underflow input to up/down counter 500. The output from up/down counters\n480,490 and 500 are coupled in parallel to D to A converter 540. D to A converter 540 continuously receives\nthe output from up/down counters 480, 490 and 500\nduring each 16 ms interval. Any changes to digital values in up/down counters 480, 490 and 500 are immediately sensed by D to A converter 540 and are reflected\nin the analog output of D to A converter 540. The\noutput of D to A converter 540 is coupled to integrator\n520. The output of integrator 520 is coupled to servos\nwhich control the scanning mirrors as previously discussed.\nA load signal is coupled to inputs to up/down counters 480,490 and 500.\nIn actual operation the up/down counters and shift\nregisters depicted in FIG. 4 operate as follows.\nInitially, initial condition data comprising thirteen\nbits (including up/down data) is shifted into shift registers 430 and 440. Shift register 430 obtains 4 bits of\ninitial condition data and 1 up/down data bit, and shift\nregister 440 obtains 8 bits of initial condition data. Shift\nregister 430 is in actuality an 8 bit shift register but only\nprocesses 5 bits in the preferred embodiment.\nIn response to the load signal, the up/down bit is\nloaded into flip-flop 510 and the twelve initial condition\nbits are loaded into up/down counters 480,490 and 500\nrespectively. Each up/down counter receives 4 digital\nbits. Meanwhile, the frequency synthesizer circuits have\ncoupled counting data from the down counter divider\nthrough the underflow and overflow nand gates and to\nnand gates 460 and 470.\nA \xe2\x80\x9c1\xe2\x80\x9d up/down bit signifies incrementing in the\ndown direction while a \xe2\x80\x9c0\xe2\x80\x9d up/down bit signifies incrementing in the up direction. Thus, if the up/down bit is\na \xe2\x80\x9cO\xe2\x80\x9d, flip-flop 510 provides a 1 signal from its \xe2\x80\x9cup\xe2\x80\x9d\noutput which is coupled to nand gate 460. Since nand\ngate 460 is also provided counting data input from the\nfrequency synthesizers, nand gate 460 will toggle on\nand off to provide counting data input. Simultaneously,\nthe \xe2\x80\x9cdown\xe2\x80\x9d output of 510 is \xe2\x80\x9c0\xe2\x80\x9d and is coupled to the\ninput of nand gate 470. Since the input of nand gate 470\nfrom flip-flop 510 is \xe2\x80\x9cO\xe2\x80\x9d, the output of nand gate 470\nremains one notwithstanding the counting data input.\nThus, the only counting data input to up/down counter\n480 is the counting data output from nand gate 460\nwhich is coupled to the \xe2\x80\x9cup\xe2\x80\x9d input to up/down counter\n480. Thus, it can be seen that nand gates 460 and 470\n\n11\n\n4,829,30\n1\n\n12\n\nwill not simultaneously increment up/down counter\ncondition data provided to the up/down counters 480,\n490 and 500 at the end of the current 1 ms interval\n6\n480, but that either one or the other nand gate will\nprovide counting data to up/down counter 480 dependwould include digits representative of the value, \xe2\x80\x9c5\xe2\x80\x9d\ning on the up/down output from shift register 430.\nLe., 0101 for counter 480 and all 0\xe2\x80\x99s for counters 490 and\nUp/down counters 480,490 and 500 have previously 5 500. In the event that the frequency synthesizer circuits\nreceived up to twelve bits of initial condition data. The\nhad not operated one hundred percent accurately, there\ncounting data provided from the frequency synthesizer\nwould be a differential between the \xe2\x80\x9ctrue\xe2\x80\x9d 5 value and\ncircuits will be as many as 255 bits provided over a 1\n6\nthe actual value residing in counters 480, 490 and 500.\nms interval corresponding to a frequency response of\nHowever, the scope of the variation is reduced by incre6\napproximately 1 kHz. Thus, up/down counters 480, 10 menting over the shift interval as compared to incre490 and 500 can be incremented a maximum of 255\nmenting the initial condition only once at the beginning\ntimes during any one 1 ms interval, in a direction (up\n6\nof each shift interval. Accordingly, when the new initial\nor down) determined by the up/down data bit.\ncondition, 0101,is loaded into up/down counter 480, D\nThe operation of the up/down counters during an\nto A converter 540 will see a minimal voltage discontioverflow and underflow situation have been provided 15 nuity.\nfor by the invention to further minimize the occurrence\nIt can also be seen that the invention is capable of\nof errors. Assume that up/down counter 480, 490 and\nswitching very rapidly from low to high frequency\n500 include initial condition data such that only 200 new\nresponses. For example, in the preferred embodiment\nbits can be added thereto without all the bits in up/the frequency synthesizers may provide up to 255\n6\ndown counters 480,490 h d 500 turning to one. Assume 20 counter bits per 1 ms intervals, which corresponds to a\nfurther that the slope data requires that 255 counting\nfrequency response of 1 kHz.\n6\nbits be added to up/down counters 480, 490 and 500\nIt can also be seen that by varying the slope data\n6\nincluded in the input digital data, the invention is operaover the current 1 ms interval. Under these circumstances, the 201st counter bit will cause up/down\ntive to reconstruct and approximate curved functions as\ncounter 480 to overflow which would cause up/down 25 opposed to simply linear functions. That is to say, by\nchanging the slope data over successive 1 ms intervals,\n6\ncounter 490 to overflow, which would cause up/down\nthe output seen by the digital to analog converter reprecounter 500 to overflow. The resulting overflow bit\nfrom up/down counter 500, coupled to the overflow\nsents a curved function with a minimum of discontinuinput of overflow nand gate 420 would thereby change\nity.\nfrom \xe2\x80\x9c1\xe2\x80\x9d to \xe2\x80\x9c0\xe2\x80\x9d.The output of the overflow nand gate 30 It can also be seen that by feeding back the output of\n420 would then lock into the \xe2\x80\x9c1\xe2\x80\x9d state since the overthe phase locked loop circuit through the down countflow input would remain at \xe2\x80\x9c0\xe2\x80\x9d. Both inputs to nand\ners to the input phase locked loop circuits, and by using\nreverified initial conditions, the occurrence and impact\ngate 460, now being \xe2\x80\x9cl\xe2\x80\x9d, nand gate 460 would go to\nzero at its output, and accordingly, no other bits would\nof analog and digitally generated errors is reduced. It is\nbe added to up/down counter 480. Accordingly no 35 also clear that the data receive intervals, data shift interfurther bits would be coupled to up/down counter 480,\nvals, and data bit lengths can be chosen according to\n490 and 500 for the duration of the current 1 ms inter6\ndesign considerations to provided desired frequency\nVal.\nresponsive waveform generation. In the preferred emSimilar action would occur in the event that up/bodiments, the interval lengths and bits were chosen to\ndown counters 480, 490 and 500 were incremented 40 provide a compromise between dedication of the main\ndown to all zeros and additional counting bits were\nCPU, accuracy, and the waveform requirements for the\n6\nparticular servo control application discussed.\nbeing provided during the 1 ms to cause the up/down\ncounters to try to increment down below all zeros. In\nWhile the system has been described in order to illusthe latter case a \xe2\x80\x9c0\xe2\x80\x9d underflow signal would be coupled\ntrate the preferred embodiments, variations and modifito underflow nand gate 400 which would provide at its 45 cations to the herein described system within the scope\nof the invention, would undoubtedly suggest themoutput a constant \xe2\x80\x9c1\xe2\x80\x9d signal to nand gate 480. Since the\nselves to those skilled in the art.\ndown input to nand gate 470 would be \xe2\x80\x9c1\xe2\x80\x9d in an increment down mode and the counting input would remain\nAccordingly, the foregoing description should be\ntaken merely as illustrative and the invention should be\nat \xe2\x80\x9c1\xe2\x80\x9d because of underflow, the down input to up/down counter 480 would be \xe2\x80\x9c0\xe2\x80\x9d for the remainder of 50 limited only in accordance with the accompanying\n6\nclaims.\nthe 1 ms interval.\nAdditional error reduction features of the invention\nWe claim:\n1 A method for performing digitally controlled first\n.\ncan be appreciated by reference to an additional illustration of the operation of up/down counters 480,490 and\norder approximation of an analog signal during an inter500. Assume that a \xe2\x80\x9czero\xe2\x80\x9d initial condition value is 55 val, said analog signal having an initial condition at the\nloaded by shift registers 430 and 440 into up/down\nbeginning of said interval and an end condition at the\ncounters 480, 490 and 500. Assume also that counting\nend of said interval, said method comprising the steps\ndata from dual frequency synthesizers caused a value of\nof:\n\xe2\x80\x9c5\xe2\x80\x9d to be incremented into up/down counters 480, 490\nreceiving input digital data representative of said\nand 500 over the 1 ms interval. Thus, the initial condi- 60\n6\nanalog signal at the beginning of said interval, said\ntion appearing in up/down counters 480,490 and 500 at\ninput digital data comprising initial condition data,\nthe end of the current 1 ms interval would be a 0101 in\n6\nslope data and up/down data; and\ncounter 480. The 5 counting data provided to up/down\nincrementing said initial condition data during said\ncounter 480 would be provided to up/down counter\ninterval at a rate determined by said slope data and\n480 at equal intervals during the 1 ms interval.\n6\n65\nin a direction determined by said up/down data to\nThe central microprocessor which provides the inigenerate an approximation of said end condition.\n2. A method for digitally synthesizing a waveform\ntial input data is configured to have calculated that the\nresulting value should have been 5. Thus, the next initial\ncomprising the steps of:\n\n13\n\n4,829,301\n\nreceiving input digital data representative of said\nwaveform at the beginning of an interval, said\ninput digital data comprising initial condition data,\nslope data, and up/down data;\nprocessing said slope data to generate counting data\nduring said interval at a rate determined by said\nslope data; and\nincrementing said initial condition data with said\ncounting data at a rate determined by said slope\ndata and in a direction determined by said up/down data, to synthesize a digital waveform during\nsaid interval.\n3 The method according to claim 2 wherein said\n.\ninput digital data is representative of a plurality of contiguous intervals.\n4. A method for digitally synthesizing a waveform\ncomprising the steps of:\nreceiving digital frequency control data in a first\nfrequency control circuit during first intervals and\nin a second frequency control circuit during alternating second intervals;\nprocessing said frequency control data in said first\ncircuit during said second intervals to generate\ncounting data at fust rates determined by said frequency control data for said first intervals;\nprocessing said frequency control data in said second\ncircuit during said first intervals to generate counting data at second rates determined by said frequency control data for said second intervals; and\nincrementing initial condition data with said counting\ndata at said first rates during said second intervals\nand incrementing said initial condition data with\nsaid counting data at said second rates during said\nfirst intervals to digitally synthesize said waveform.\n5. A control circuit for digitally synthesizing a waveform comprising:\nfirst means for receiving input digital data, said input\ndigital data comprising initial condition data, slope\ndata, and up/down data;\nsecond means coupled to said first means for processing said slope data to generate counting data at a\nrate determined by said slope data,\nthird means coupled to said first and second means\nfor incrementing said initial condition data with\nsaid counting data at a rate determined by said\n\n5\n\n10\n\n15\n\n20\n\n25\n\n3\n0\n\n35\n\n4\n0\n\n45\n\n14\n\nslope data and in a direction determined by said\nup/down data; and\nmeans coupled to said first, second and third means\nfor providing control signals to synchronize receiving, processing, and incrementing of said data.\n6. The digital control circuit according to claim 5\nwherein said second means comprise first and second\ndigitally controlled phase locked loop circuits for receiving slope data during alternating first and second\nintervals respectively; and\nsaid first circuit generating said counting data during\nsaid second intervals at a rate determined by slope\ndata received during said first intervals and said\nsecond circuit generating said counting data during\nsaid first intervals at a rate determined by slope\ndata received during said second intervals.\n7 The digital control circuit according to claim 5\n.\nwherein said third means comprises a plurality of up/down counters.\n8. The digital control circuit according to claim 5\nwherein said first means comprises a plurality of shift\nregisters.\n9. The digital control circuit of claim 6 wherein each\nphase locked loop circuit has coupled to its input said\nslope data, a reference frequency signal, and feedback\ndata representative of the value of said reference frequency at the output of said phase locked loop circuit.\n1 . A circuit for providing digitally controlled first\n0\norder approximation of an analog signal during an interval,\nsaid analog signal having an initial condition at the\nbeginning of said interval and an end condition at\nthe end of said interval, said circuit comprising:\nmeans for receiving input digital data at the beginning\nof said interval, said input data comprising initial\ncondition data, slope data, and up/down data; and\nmeans coupled to said receiving means for incrementing said initial condition data during said interval at\na rate determined by said slope data and in a direction determined by said up/down data to generate\nsaid end condition.\n11.The control circuit according to claim 10 further\ncomprising means for temporarily stopping incrementing said initial condition data down when a predetermined first value is reached and means for temporarily\nstopping incrementing said initial condition data up\nwhen a predetermined second value is reached.\n\n* * * * *\n\n50\n\n55\n\n65\n\n'